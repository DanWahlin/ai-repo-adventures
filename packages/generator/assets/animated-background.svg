<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" style="position: absolute; top: 0; left: 0; z-index: -2; opacity: 0.6;">
  <defs>
    <!-- Gradient definitions for theme-aware particles -->
    <linearGradient id="spaceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#64ffda" stop-opacity="0.8"/>
      <stop offset="50%" stop-color="#82b1ff" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#7c4dff" stop-opacity="0.4"/>
    </linearGradient>
    
    <linearGradient id="ancientGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ffd700" stop-opacity="0.8"/>
      <stop offset="50%" stop-color="#ff8c00" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#8b4513" stop-opacity="0.4"/>
    </linearGradient>
    
    <linearGradient id="mythicalGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#9370db" stop-opacity="0.8"/>
      <stop offset="50%" stop-color="#da70d6" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#4b0082" stop-opacity="0.4"/>
    </linearGradient>

    <!-- Filters for glow effects -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Space Theme: Floating Stars and Connection Lines -->
  <g class="space-theme" style="display: var(--space-display, none);">
    <!-- Floating stars -->
    <circle cx="10%" cy="20%" r="1.5" fill="url(#spaceGradient)" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" 
        values="0,0; 10,5; 0,0" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.9;0.3" dur="4s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="85%" cy="15%" r="1" fill="url(#spaceGradient)" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" 
        values="0,0; -8,-3; 0,0" dur="12s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.4;0.8;0.4" dur="6s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="15%" cy="80%" r="1.2" fill="url(#spaceGradient)" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" 
        values="0,0; 6,-8; 0,0" dur="10s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.7;0.2" dur="5s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="90%" cy="85%" r="0.8" fill="url(#spaceGradient)" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" 
        values="0,0; -5,4; 0,0" dur="9s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.5;1;0.5" dur="3.5s" repeatCount="indefinite"/>
    </circle>

    <!-- Subtle connection lines -->
    <path d="M 10% 20% Q 50% 10% 85% 15%" stroke="url(#spaceGradient)" stroke-width="0.5" 
          fill="none" opacity="0.3">
      <animate attributeName="stroke-dasharray" values="0,100; 5,100; 0,100" dur="15s" repeatCount="indefinite"/>
    </path>
  </g>

  <!-- Ancient Theme: Floating Runes -->
  <g class="ancient-theme" style="display: var(--ancient-display, none);">
    <!-- Ancient symbols as simple geometric shapes -->
    <polygon points="10,20 20,20 15,10" fill="url(#ancientGradient)" opacity="0.4" 
             transform="translate(5%, 25%)">
      <animateTransform attributeName="transform" type="translate" 
        values="5%,25%; 8%,20%; 5%,25%" dur="12s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.6;0.2" dur="8s" repeatCount="indefinite"/>
    </polygon>
    
    <rect x="80%" y="30%" width="8" height="8" fill="url(#ancientGradient)" opacity="0.3"
          transform="rotate(45)">
      <animateTransform attributeName="transform" type="rotate" 
        values="0; 360" dur="20s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.7;0.3" dur="6s" repeatCount="indefinite"/>
    </rect>
    
    <circle cx="20%" cy="70%" r="4" fill="none" stroke="url(#ancientGradient)" 
            stroke-width="1" opacity="0.4">
      <animate attributeName="r" values="4;6;4" dur="10s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.5;0.2" dur="7s" repeatCount="indefinite"/>
    </circle>
  </g>

  <!-- Mythical Theme: Magical Sparkles -->
  <g class="mythical-theme" style="display: var(--mythical-display, none);">
    <!-- Star-like sparkles -->
    <path d="M 15,25 L 18,22 L 21,25 L 18,28 Z M 15,25 L 12,22 L 15,19 L 18,22 Z" 
          fill="url(#mythicalGradient)" opacity="0.5" transform="translate(10%, 30%)">
      <animateTransform attributeName="transform" type="rotate" 
        values="0; 360" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.8;0.3" dur="4s" repeatCount="indefinite"/>
    </path>
    
    <path d="M 5,10 L 7,8 L 9,10 L 7,12 Z" fill="url(#mythicalGradient)" 
          opacity="0.4" transform="translate(75%, 20%)">
      <animateTransform attributeName="transform" type="translate" 
        values="75%,20%; 78%,15%; 75%,20%" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.7;0.2" dur="3s" repeatCount="indefinite"/>
    </path>
    
    <circle cx="25%" cy="75%" r="2" fill="url(#mythicalGradient)" opacity="0.3">
      <animate attributeName="r" values="2;4;2" dur="5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.8;0.3" dur="4s" repeatCount="indefinite"/>
    </circle>
  </g>
</svg>