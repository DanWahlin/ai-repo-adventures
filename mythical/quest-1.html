<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 1: Forge the Glyphs of Adventure - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-mythical">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Kingdom of Enchanted Code: An Epic Repository Adventure</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: Forge the Glyphs of Adventure</h1>
<hr>
<p>In the mystical Kingdom of Codethia, adventurers venture into the fabled Repository Tome to uncover enchanted programming secrets. Within the great halls of the Castle of Configurations, the <strong>Glyphs of Adventure</strong> ‚Äì magical inscriptions that can transform raw code into captivating narratives ‚Äì await your discovery. Heroes must decipher these glyphs and master the magical systems embedded within them to awaken the Tome‚Äôs hidden potential. Your journey begins here, brave adventurer. Seek out the glyphs and restore harmony across Codethia!</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Glyph Extraction</strong>: How does <code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> process data into structured quest pages for the repository‚Äôs adventure?</li>
<li>‚ö° <strong>Magical Pipeline</strong>: What is the interplay between <code class="inline-code">TemplateEngine.renderPage</code> and <code class="inline-code">replacePlaceholders</code> to dynamically transform templates with keyed variables?</li>
<li>üõ°Ô∏è <strong>Asset Inscriptions</strong>: How does <code class="inline-code">AssetManager.copyGlobalAssets</code> ensure shared resources are correctly replicated across themes?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/template-engine.ts:</span> Template rendering and placeholder management</h3>
<p>The <code class="inline-code">TemplateEngine</code> class acts as the mystical constructor of Codethia‚Äôs artifact. It transforms static HTML templates into dynamic pages by embedding magical variables. This file enables the adventurer to understand the mechanics behind the rendering of the castle‚Äôs glyphs.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadTemplate</code>: A caching system that retrieves and stores templates, crucial for efficient rendering. It protects the repository from repeated file reads.</li>
<li><code class="inline-code">replacePlaceholders</code>: Handles dynamic variable replacement using placeholders like <code class="inline-code">{{VARIABLE}}</code>. It ensures fluid transformation of static templates into interactive content.</li>
<li><code class="inline-code">renderPage</code>: Combines base and content templates with dynamic variables, forging complete HTML structures ‚Äì the key to Codethia‚Äôs magical narratives.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/template-engine.ts</h3>
<pre><code class="language-typescript">private loadTemplate(templateName: string): string {
  if (this.templateCache.has(templateName)) {
    return this.templateCache.get(templateName)!;
  }

  const templatePath = path.join(this.templatesDir, templateName);
  
  try {
    const content = fs.readFileSync(templatePath, &#39;utf-8&#39;);
    this.templateCache.set(templateName, content);
    return content;
  } catch (error) {
    throw new Error(`Failed to load template ${templateName}: ${error}`);
  }
}
</code></pre>
<ul>
<li>This code implements template caching, reducing redundant file reads and improving performance during dynamic rendering.</li>
<li>The <code class="inline-code">Map</code> object functions as a spellbook, storing previously loaded templates for quick retrieval.</li>
<li>Error handling ensures any failed file access is reported with clear messaging.</li>
<li>Efficient use of <code class="inline-code">fs.readFileSync</code> prevents asynchronous complexities, critical for template-driven systems.</li>
</ul>
<hr>
<pre><code class="language-typescript">private replacePlaceholders(template: string, variables: TemplateVariables): string {
  let result = template;
  
  for (const [key, value] of Object.entries(variables)) {
    const placeholder = `{{${key}}}`;
    result = result.replace(new RegExp(placeholder, &#39;g&#39;), value || &#39;&#39;);
  }
  
  return result;
}
</code></pre>
<ul>
<li>This snippet reveals the magic of placeholder replacement: static templates are imbued with dynamic data via regex-based transformations.</li>
<li>Variables like <code class="inline-code">CONTENT</code> allow glyph customization to match Codethia‚Äôs diverse quests.</li>
<li>Focus is placed on readability and abstraction, ensuring flexible adaptation to different magical contexts.</li>
</ul>
<hr>
<pre><code class="language-typescript">renderPage(contentTemplate: string, variables: TemplateVariables): string {
  const baseTemplate = this.loadTemplate(&#39;base-template.html&#39;);
  const contentHtml = this.loadTemplate(contentTemplate);
  
  const renderedContent = this.replacePlaceholders(contentHtml, variables);
  
  const pageVariables = {
    ...variables,
    CONTENT: renderedContent
  };
  
  return this.replacePlaceholders(baseTemplate, pageVariables);
}
</code></pre>
<ul>
<li>The <code class="inline-code">renderPage</code> method binds base templates with dynamic content templates, creating the ultimate adventure glyphs.</li>
<li>Strategic use of intermediary variables like <code class="inline-code">renderedContent</code> and <code class="inline-code">pageVariables</code> ensures modular rendering between base and content layers.</li>
<li>By leveraging <code class="inline-code">loadTemplate</code>, <code class="inline-code">replacePlaceholders</code>, and HTML structures, it delivers seamless and reusable page creation.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Use <code class="inline-code">loadTemplate</code> to cache frequently accessed templates for efficiency during development.</li>
<li>Experiment with modifying placeholder variables in templates for custom adventures.</li>
<li>Familiarize yourself with regex patterns for dynamic transformation techniques.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>By the radiant stars of the Celestial Keep, thou hast triumphed in forging the sacred Glyphs of Adventure, marking the first heroic step in thy noble journey‚Äîonward, valiant champion! ‚≠ê‚ö°üó∫Ô∏è</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>