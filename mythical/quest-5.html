<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: The Guild of Mystic Harmony - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Enchanted Codex of Questoria</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: The Guild of Mystic Harmony</h1>
<hr>
<p>In the enchanted Kingdom of Questoria, where every spell is a thread in the great tapestry of magic, the Guild of Mystic Harmony governs the art of balance. Within their sacred fortress lies the secret of uniting all themes into a cohesive narrative, ensuring each tale resonates with both code and creativity. To complete your journey, you must venture into the codes that bind the mystical themes, discover the secrets of validation, configuration, and style, and prove yourself worthy of wielding the Enchanted Codex in its full glory. The Guild watches; do not falter.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Theme Invocation</strong>: How does the system define and manipulate themes to ensure consistency across the adventure generator?</li>
<li>‚ö° <strong>Command Line Wizardry</strong>: How does the <code class="inline-code">ThemeManager</code> handle key theme-based operations like CSS compilation and dynamic icon selection?</li>
<li>üõ°Ô∏è <strong>Validation Enchantments</strong>: What safeguards ensure valid user input for themes, project paths, and adventure selections?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration Constants and Limits</h3>
<p>This file contains critical constants for adventure generation, addressing limits, timeouts, cache settings, and error messages. It ensures a stable system, preventing resource exhaustion while enhancing usability.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Configures the maximum wait time for language model requests‚Äîa vital setting for avoiding prolonged delays.</li>
<li><code class="inline-code">IGNORE_PATTERNS</code>: Specifies directories to ignore during scans, contributing to focused and efficient project analysis.</li>
<li><code class="inline-code">ERROR_MESSAGES</code>: Defines readable warnings and errors, ensuring user-friendly feedback during system interactions.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<ul>
<li>Specifies a 60-second timeout for LLM requests to prevent the system from stalling due to extended processing.</li>
<li>Prevents resource lock-up during complex prompt generation.</li>
<li>Ensures a smooth experience, balancing complexity and responsiveness for adventures tailored to user inputs.</li>
</ul>
<hr>
<pre><code class="language-typescript">export const IGNORE_PATTERNS = [
  &#39;node_modules&#39;,
  &#39;.git&#39;,
  &#39;.next&#39;,
  // more patterns...
] as const;
</code></pre>
<ul>
<li>Restricts scanning of unimportant or redundant directories to improve performance.</li>
<li>Focuses analysis on source code and content relevant to adventure generation.</li>
<li>Provides flexibility with constants that prevent unnecessary overhead during project traversal.</li>
</ul>
<hr>
<pre><code class="language-typescript">export const ERROR_MESSAGES = {
  LLM_UNAVAILABLE: &#39;LLM service is currently unavailable. Please check your configuration.&#39;,
  ANALYSIS_FAILED: &#39;Failed to analyze the project. Please ensure the path is valid.&#39;,
  // additional messages...
} as const;
</code></pre>
<ul>
<li>Centralizes user-facing error messages for easier updates and translations.</li>
<li>Encourages consistency in feedback and enhances debugging for developers.</li>
<li>Reduces redundancy by grouping all system errors in one location, adhering to good design principles.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Theme Definitions and Retrieval</h3>
<p>This file serves as a single source of truth for theme management, offering helper functions for retrieving and validating themes. It is a cornerstone of the adventure&#39;s dynamic story personalization.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Centralizes theme definitions with unique identifiers, descriptions, and visual elements.</li>
<li><code class="inline-code">isValidTheme</code>: Ensures input integrity by verifying if a theme matches existing definitions.</li>
<li><code class="inline-code">getFormattedThemeOptions</code>: Provides a user-friendly, styled list of all available themes for display.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: { id: 1, key: &#39;space&#39;, displayName: &#39;Space Exploration&#39;, emoji: &#39;üöÄ&#39;, description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;, keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;] },
  MYTHICAL: { id: 2, key: &#39;mythical&#39;, displayName: &#39;Enchanted Kingdom&#39;, emoji: &#39;üè∞&#39;, description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;, keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;castle&#39;] },
  // additional themes...
} as const;
</code></pre>
<ul>
<li>Centralizes theme definitions, tying each adventure realm to its key attributes.</li>
<li>Simplifies expansion by unifying all theme settings under a single structure.</li>
<li>Facilitates intuitive customization and accessibility for users creating their own adventures.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<ul>
<li>Ensures user-selected themes align with predefined options, maintaining system harmony.</li>
<li>Acts as a safeguard against invalid or unsupported inputs, enhancing robustness.</li>
<li>Promotes clarity by explicitly verifying themes using strict checks.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function getFormattedThemeOptions(): string {
  return getAllThemes()
    .sort((a, b) =&gt; a.id - b.id)
    .map(formatThemeOption)
    .join(&#39;\n&#39;);
}
</code></pre>
<ul>
<li>Generates visually appealing, listed options for theme selection.</li>
<li>Strengthens user engagement through formatted, user-friendly displays.</li>
<li>Leverages streamlined iteration practices for maintainable and scalable code.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/generator/src/cli/theme-manager.ts:</span> Theme Management and Dynamic Generation</h3>
<p>This module handles theme-based operations, from parsing user selections to combining relevant stylesheets for adventure presentation. It ensures adventures are visually cohesive and immersive.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">parseThemeArg</code>: Maps user-provided commands or arguments to valid theme identifiers.</li>
<li><code class="inline-code">generateThemeCSS</code>: Dynamically combines theme-specific stylesheets for seamless visual presentation.</li>
<li><code class="inline-code">getThemeIcons</code>: Supplies contextual icons for templates, reinforcing theme immersion through visuals.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/theme-manager.ts</h3>
<pre><code class="language-typescript">parseThemeArg(themeArg: string): AdventureTheme | &#39;all&#39; | null {
  if (themeArg === &#39;all&#39;) return &#39;all&#39;;
  const validThemes: AdventureTheme[] = [&#39;space&#39;, &#39;mythical&#39;, &#39;ancient&#39;, &#39;developer&#39;];
  return validThemes.includes(themeArg as AdventureTheme) ? themeArg as AdventureTheme : null;
}
</code></pre>
<ul>
<li>Parses user-provided arguments to identify themes, contributing to flexible command-line interactions.</li>
<li>Allows users to refer to themes by name or ID, enhancing accessibility.</li>
<li>Promotes error resilience by validating against predefined options.</li>
</ul>
<hr>
<pre><code class="language-typescript">generateThemeCSS(theme: AdventureTheme, outputDir: string): void {
  const cssFiles = [ /* theme-specific CSS */ ];
  let combinedCSS = &#39;&#39;;
  cssFiles.forEach(cssFile =&gt; {
    if (fs.existsSync(cssFile)) {
      combinedCSS += fs.readFileSync(cssFile, &#39;utf8&#39;) + &#39;\\n\\n&#39;;
    }
  });
  fs.writeFileSync(path.join(outputDir, &#39;assets&#39;, &#39;theme.css&#39;), combinedCSS);
}
</code></pre>
<ul>
<li>Dynamically composes CSS for active themes, simplifying theme-based styling integration.</li>
<li>Ensures a unified aesthetic across the generated adventure materials.</li>
<li>Handles graceful degradation by checking file existence, preserving stability.</li>
</ul>
<hr>
<pre><code class="language-typescript">getThemeIcons(theme: AdventureTheme): { theme: string; quest: string } {
  const themeIcons = {
    mythical: { theme: &#39;üè∞&#39;, quest: &#39;‚öîÔ∏è&#39; },
    space: { theme: &#39;üöÄ&#39;, quest: &#39;‚≠ê&#39; },
    // other themes...
  };
  return themeIcons[theme] || themeIcons.space;
}
</code></pre>
<ul>
<li>Provides icons aligned with selected themes, reinforcing immersion visually.</li>
<li>Implements default fallback mechanisms for improved reliability.</li>
<li>Encapsulates theme-related display data, separating concerns for maintainable templates.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>üõ†Ô∏è When exploring theme validation, reference <code class="inline-code">isValidTheme</code> to understand how invalid selections are managed.</li>
<li>üìú Experiment with <code class="inline-code">getFormattedThemeOptions</code> to see how user-friendly theme lists are constructed dynamically.</li>
<li>üåü Observe <code class="inline-code">generateThemeCSS</code> for insights into how modular design principles facilitate seamless styling in dynamic systems.</li>
</ul>
<hr>
<p>You have mastered all the secrets of the Enchanted Codex! Your adventure is complete. The Guild of Mystic Harmony grants you the title of Master Storyweaver, and all of Questoria celebrates your triumph! May your future quests be ever magical and fulfilling.</p>
<p>With the guidance of celestial runes and the resilience of a star-forged hero, you have triumphantly harmonized the Guild&#39;s sacred wisdom, pushing boldly to 80% mastery of your mythical odyssey‚Äîone quest away from eternal glory! ‚≠ê‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4</a>
        <a href="summary.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
</body>
</html>