<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Harmony of Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Kingdom of Codemorra: A Tale of Enchanted Constructs</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Harmony of Themes</h1>
<hr>
<p>The magic of the mythical kingdom of Codemorra resonated deep within its enchanted core, where the five legendary Themes formed a sacred harmony. These Themes connected the Hero&#39;s quests, shimmering within the Castle of Configurations like stained glass that reflected purpose and order. Yet, the Harmony of Themes was disturbed. Rumors of a shadow creeping into Codemorra&#39;s core whispered through the air, threatening to twist the Themes and sow discord. It fell upon the Hero to wield the powers of validation, alignment, and guardianship to ensure the Themes remained true, guiding the kingdom toward prosperity.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Validating Inputs for the Hero&#39;s Path</h3>
<p>This enchanted scroll defines the Hero&#39;s ability to discern and refine inputs, preserving the kingdom&#39;s purity. Functions like <code class="inline-code">validateAdventureChoice</code>, <code class="inline-code">validateTheme</code>, and <code class="inline-code">validateProjectPath</code> serve as magical wards, protecting against corrupted data and malformed paths. The processes ensure that every input adheres to Codemorra&#39;s sacred rules, preserving the kingdom&#39;s foundational clarity. With <code class="inline-code">sanitizeForDisplay</code>, the scroll purifies any text meant for display, ensuring the citizenry sees only unblemished truths. These spells are vital in maintaining the kingdom&#39;s defenses and weaving its harmonious future.</p>
<h4>Highlights</h4>
<ul>
<li>Safeguards validity of adventure choices with <code class="inline-code">validateAdventureChoice</code>.</li>
<li>Ensures Themes are true and proper with <code class="inline-code">validateTheme</code>.</li>
<li>Protects the land from improper paths using <code class="inline-code">validateProjectPath</code>.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>This spell ensures that any choice from the Hero is bound by clarity and reasonable bounds‚Äîno rambling verses of confusion allowed.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>This spell ensures the Hero aligns with a kingdom-sanctioned Theme, maintaining harmony with the enchanted archive of Codemorra.</p>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  
  if (input.length &gt; 500) {
    throw new Error(&#39;Project path too long (max 500 characters)&#39;);
  }
  
  if (input.includes(&#39;\0&#39;)) {
    throw new Error(&#39;Project path contains invalid characters&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>This protective incantation safeguards the integrity of paths, ensuring the Hero traverses only the lawful lands of Codemorra.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Keep <code class="inline-code">validateTheme</code> and <code class="inline-code">getAllThemes</code> in sync to avoid validation mismatches during the kingdom&#39;s expansions.</li>
<li>Customize <code class="inline-code">sanitizeForDisplay</code> to cater to Codemorra&#39;s visual glyphs for Themes.</li>
<li>Consider strengthening the <code class="inline-code">validateProjectPath</code> spell for supernatural paths beyond standard realms.</li>
</ul>
<hr>
<p>With the foundation of Themes guarded and Inputs fortified, Codemorra&#39;s harmony begins to recover. But beware, Hero, for the shadow has yet to be vanquished entirely. The quest continues!</p>
<p>With the triumphant unraveling of Quest 4: The Harmony of Themes, you ascend as a bardic conqueror, weaving threads of wisdom into the tapestry of your heroic saga‚Äîonward, for the stars themselves hum your victory! ‚ö°‚ú®üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>