<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 2: The Codex of Adventure - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Repository Chronicles: Tales of the Codecraft</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 2: The Codex of Adventure</h1>
<hr>
<p>Within the glowing confines of the <strong>Adventure Engine</strong>, a quest beckons called &quot;The Codex of Adventure.&quot; This sprawling journey tasks you with decoding the intricacies of the Adventure Engine, unraveling how quests and themes come alive. Navigate the mystic map of handlers, configurations, and generative processes to wield ultimate control over this narrative power.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/adventure/adventure-manager.ts:</span> Adventure Orchestration</h3>
<p>The <strong>AdventureManager</strong> is the keystone of the quest generation process, orchestrating the central logic for initializing adventures, selecting quests, and generating coherent storytelling experiences. It bridges input validation, theme configuration, and dynamic quest execution. This robust class integrates with core engines like <code class="inline-code">StoryGenerator</code> and file-based insights to generate meaningful developer quests. Key highlights include initializing adventures, exploring quests, and fetching quest progress.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">AdventureManager.initializeAdventure</code>: Configures the adventure by defining themes, loading project-specific details, and generating storylines.</li>
<li><code class="inline-code">AdventureManager.exploreQuest</code>: Handles user-input for quest selection and facilitates content generation.</li>
<li><code class="inline-code">AdventureState.progressPercentage</code>: Calculates progress based on completed quests vs total quests.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/adventure/adventure-manager.ts</h3>
<pre><code class="language-typescript">async initializeAdventure(
  projectInfo: ProjectInfo, 
  theme: AdventureTheme, 
  projectPath?: string,
  customThemeData?: CustomThemeData
): Promise&lt;string&gt; {
  this.state.reset();
  this.state.projectInfo = projectInfo;
  this.state.currentTheme = theme;
  this.state.projectPath = projectPath || process.cwd();
  if (theme === &#39;custom&#39; &amp;&amp; customThemeData) {
    this.storyGenerator.setCustomTheme(customThemeData);
  }
  const storyResponse = await this.storyGenerator.generateStoryAndQuests(projectInfo, theme, this.state.projectPath);
  this.state.title = storyResponse.title;
  this.state.story = typeof storyResponse.story === &#39;string&#39; ? storyResponse.story : storyResponse.story.content;
  this.state.quests = this.mergeQuestFilesFromConfig(storyResponse.quests, this.state.projectPath);
  this.state.quests = this.enforceConfigQuestCount(this.state.quests, this.state.projectPath);
  return this.formatStoryWithQuests({ ...storyResponse, quests: this.state.quests });
}
</code></pre>
<p>This function constructs the foundation of the adventure by weaving together project-specific configurations and pre-defined themes.</p>
<pre><code class="language-typescript">async exploreQuest(choice: string): Promise&lt;AdventureResult&gt; {
  const sanitizedChoice = this.validateAndSanitizeChoice(choice);
  if (this.isProgressRequest(sanitizedChoice)) {
    return this.getProgress();
  }
  const quest = this.findQuest(sanitizedChoice);
  if (!quest) {
    return this.createNotFoundResult();
  }
  return await this.executeQuest(quest);
}
</code></pre>
<p>This method allows adventurers to select paths and interact with the system, ensuring smooth quest navigation.</p>
<pre><code class="language-typescript">get progressPercentage(): number {
  return this.quests.length &gt; 0 
    ? Math.round((this.completedQuests.size / this.quests.length) * 100)
    : 0;
}
</code></pre>
<p>This calculation visually reinforces user progress, integrating motivation with narrative flow.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Organize project-specific files in the <code class="inline-code">adventure.config.json</code> to fine-tune default quest generation.</li>
<li>Explore <code class="inline-code">AdventureManager.initializeAdventure</code> to understand story generation entry points.</li>
<li>For your next deep dive, study <code class="inline-code">StoryGenerator</code> to unravel quest-creation dynamics.</li>
</ul>
<hr>
<p>Adventure complete! Armed with knowledge of orchestration, you are prepared for the journeys ahead!</p>
<p>Achievement Unlocked: Quest 2 - &quot;The Codex of Adventure&quot; successfully pushed to production; your debugging skills and algorithmic mastery are paving the way toward a 100% deployment‚Äîyou&#39;re a ‚≠ê in the development lifecycle! üöÄ</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="next-quest-btn">Next: Quest 3: The Analyzer's Lens ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>