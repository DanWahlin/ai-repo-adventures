<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Gallery of Themes ‚Äì Shaping the Worlds of Adventure - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'developer' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">The Codex of the Infinite Adventures</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Gallery of Themes ‚Äì Shaping the Worlds of Adventure</h1>
<hr>
<p>Carefully navigating the corridors of code that define this epic journey, you now arrive at the majestic Gallery of Themes. This chamber holds the keys to shaping entire worlds of adventure, each embedded with unique stories inspired by the depths of logic and creativity. From blazing rockets in space to enchanted kingdoms, the power to tailor your quest lies within themes waiting to be unlocked. But beware‚Äîonly by unraveling the structure behind these themes can their true essence shine in your codex-driven explorations. The adventure beckons; let the unlocking begin!</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Theme Definitions and Utilities</h3>
<p>The <code class="inline-code">theme.ts</code> file is the beating heart of the adventure system&#39;s thematic customization. It defines the structure and logic of themes, empowering developers to transform repository exploration into immersive experiences. Each theme encapsulates a unique identity with attributes like <code class="inline-code">id</code>, <code class="inline-code">key</code>, <code class="inline-code">displayName</code>, and <code class="inline-code">keywords</code>. For example, the &quot;Space Exploration&quot; theme features cosmic metaphors and stardust-inspired APIs, while &quot;Ancient Civilization&quot; evokes images of lost temples and wisdom-filled algorithms. Practical utilities such as <code class="inline-code">getThemeByKey()</code> and <code class="inline-code">parseTheme()</code> simplify operations, like mapping user input to themes based on keywords or IDs. Through these functions, <code class="inline-code">theme.ts</code> streamlines the process of selecting, validating, and formatting adventures for seamless integration into tailor-made narratives.</p>
<h4>Highlights</h4>
<ul>
<li>Defines themes with detailed attributes (e.g., <code class="inline-code">id</code>, <code class="inline-code">key</code>, <code class="inline-code">description</code>).</li>
<li>Implements <code class="inline-code">parseTheme()</code> for user-friendly theme input handling.</li>
<li>Provides <code class="inline-code">getFormattedThemeOptions()</code> for concise yet interactive display of all theme choices.</li>
<li>Serves as the single source of truth for organizing theme-related functionality.</li>
<li>Ensures extensibility for adding custom themes with validation logic.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Input Validation for Adventure Choices</h3>
<p>The <code class="inline-code">input-validator.ts</code> file guards the adventure system against erratic user inputs. It features utility functions that validate strings (such as adventure choices or file paths) to prevent errors and security risks. Functions like <code class="inline-code">validateAdventureChoice()</code> ensure user-provided inputs are non-empty and within allowable character limits, while <code class="inline-code">validateTheme()</code> confirms whether themes are valid based on keywords or exact matches. This ensures a smooth adventure by rejecting invalid choices or ensuring sanitized output fit for display. Delicate handling of inputs such as paths using <code class="inline-code">validateProjectPath()</code> maintains integrity by blocking potentially unsafe characters.</p>
<h4>Highlights</h4>
<ul>
<li>Handles <code class="inline-code">validateAdventureChoice()</code> for clean input handling.</li>
<li>Implements <code class="inline-code">validateTheme()</code> to ensure proper theme selection and safeguard against invalid entries.</li>
<li>Includes <code class="inline-code">sanitizeForDisplay()</code> for secure output formatting by removing unsafe characters or excessive whitespace.</li>
<li>Provides robust safety features for file paths with <code class="inline-code">validateProjectPath()</code>.</li>
<li>Plays a critical role in securing input-handling processes across the adventure system.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">/**
 * Central theme definitions for the adventure system
 * Single source of truth for all theme-related data
 */

export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust.&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore realms where databases are dragon hoards and functions are spells.&#39;,
    keywords: [&#39;magic&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover temples where algorithms are ancient wisdom and APIs are trade routes.&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;ruins&#39;, &#39;civilization&#39;]
  },
  CUSTOM: {
    id: 5,
    key: &#39;custom&#39;,
    displayName: &#39;Custom Theme&#39;,
    emoji: &#39;üé®&#39;,
    description: &#39;Design your own adventure! Prompt options will guide theme creation.&#39;,
    keywords: [&#39;custom&#39;, &#39;unique&#39;, &#39;personal&#39;]
  }
} as const;
</code></pre>
<p>Every theme is like a storybook page that transforms coding efforts into cinematic experiences.  </p>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}

export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    throw new Error(&#39;Invalid theme. Valid themes: space, mythical, ancient, custom&#39;);
  }
  
  return parsedTheme;
}
</code></pre>
<p>These functions act as vigilant guards, ensuring only well-formed inputs enter the sacred realm of adventure creation.  </p>
<h2>Helpful Hints</h2>
<ul>
<li>Always follow input validation practices when handling user choices to secure your system against unexpected or unsafe behavior.</li>
<li>Combine custom themes with <code class="inline-code">sanitizeForDisplay()</code> for thematic inputs to maintain a polished appearance in generated adventures.</li>
<li>Explore ways to expand the <code class="inline-code">THEMES</code> object with rich descriptive terms for deeper immersion into new coding meta-realities.</li>
</ul>
<hr>
<p>Congratulations on committing Quest 4: &quot;The Gallery of Themes ‚Äì Shaping the Worlds of Adventure&quot; to the master branch of your development journey‚Äîyour project&#39;s architecture is now 60% closer to deployment-ready perfection! üöÄüíéüí°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: The Scrolls of Configuration ‚Äì ... ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>