<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí† Quest 4: Themes of the Arcane (Config and Themes) - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <script>
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'mythical' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">‚öîÔ∏è Realm of Enchanted Code: The Quest for the Eternal Compiler</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1><strong>üí† Quest 4: Themes of the Arcane (Config and Themes)</strong></h1>
<hr>
<p>The Kingdom of Codoria trembles under the enigmatic spell of fractured balance. The Compilershard‚Äôs magic flickers uncertainly, leaving adventurers straining against disarray. As you embark on the fourth chapter of this mythical journey, you enter into a realm of arcane energies‚Äîthematic foundations upon which all other quests rest. Here, the enchantments of configuration and the sacred scrolls of adventure themes reveal truths as intricate as the stars. Woven among these are codes of validation, limits of mystical thresholds, and timeless definitions that guide the brave. The path forward demands clarity, wisdom, and an eye for precision.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">src/shared/config.ts:</span> Configuration Enchanter‚Äôs Codex</h3>
<p>The <strong>src/shared/config.ts</strong> file is the scholarly tome from which the rules of the mystical adventure system are drawn. It governs Codoria with its spells of configuration‚Äîconstants, timeouts, limits, and paths that ensure harmony across the realm. Its lines are filled with enchantments such as <code class="inline-code">LLM_REQUEST_TIMEOUT</code>, dictating the tempo of spellcasting through the LLM, and <code class="inline-code">MAX_FILE_SIZE_MB</code>, ensuring that nothing too large disturbs the delicate balancer. In this file, Codoria defines thresholds for quests, including the <strong>repomix cache</strong>, essential for maintaining the mana of efficiency, and designated limits for files and quests, keeping the adventure manageable yet robust. These settings are like the invisible weavings of fate, shaping what is possible across the adventure.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Manages durations for LLM spell invocations.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Enforces the lifespan of cached knowledge to keep quests fresh.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Prevents analysis overflow by restricting file sizes.</li>
</ul>
<h3><span class="header-prefix">src/shared/theme.ts:</span> Enchanted Scrolls of Themes</h3>
<p>The <strong>src/shared/theme.ts</strong> file holds Codoria‚Äôs enchanted scrolls, detailing the Kingdom&#39;s various adventure themes. Each theme, such as the mystical <strong>MYTHICAL</strong> or cosmic <strong>SPACE</strong>, is described with clarity and an essence that resonates deeply with adventurers. Through its <code class="inline-code">THEMES</code> constant, the file outlines the overarching vocabulary, lore, and appearance of each theme. Functions like <code class="inline-code">getThemeByKey</code> serve as oracles, revealing the secret paths to these themes, while <code class="inline-code">formatThemeOption</code> provides neatly adorned descriptions for display. Whether the call of dragons or the allure of distant stars resonates, this file ensures every adventurer has a place that feels uniquely their own.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Contains the sacred definitions of all possible adventure themes.</li>
<li><code class="inline-code">getThemeByKey</code>: Guides adventurers to the correct theme based on key input.</li>
<li><code class="inline-code">formatThemeOption</code>: Crafts elegant and clear theme descriptions for the adventurer.</li>
</ul>
<h3><span class="header-prefix">src/shared/input-validator.ts:</span> Guardian of Purity</h3>
<p><strong>src/shared/input-validator.ts</strong> serves as the Kingdom‚Äôs protector against corrupted inputs and unguarded paths. This guardian code scrutinizes every adventurer‚Äôs choice with wisdom, ensuring harmony and adherence to Codoria‚Äôs laws. The <code class="inline-code">validateAdventureChoice</code> function is key to maintaining the sacred rites of adventure selection, ensuring each decision is deliberate and thoughtful. Meanwhile, <code class="inline-code">sanitizeForDisplay</code> steps in to cleanse unsafe symbols, ensuring that the presentation of information remains unsullied and pure. In this file, safety meets wisdom‚Äîensuring that Codoria flourishes under the light of integrity.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Verifies the adventurous intent of the user‚Äôs input.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Ensures that unsafe characters are removed for a clean presentation.</li>
<li><code class="inline-code">validateProjectPath</code>: Guards against forbidden pathways and ensures valid quest origins.</li>
</ul>
<h2>Code</h2>
<h3>src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 30000; // 30 seconds for complex story generation with large prompts
export const LLM_CACHE_TTL = 300000; // 5 minutes
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
export const DEFAULT_THEME = &#39;space&#39; as const;

// Timeouts in milliseconds for various functions
export const FILE_ANALYSIS_TIMEOUT = 30000;
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;);
</code></pre>
<p>These configurations are akin to the delicate balance of a wizard‚Äôs spells‚Äîensuring no incantation consumes too much power while preserving efficiency and harmony.</p>
<h3>src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;magic&#39;, &#39;castle&#39;, &#39;dragon&#39;]
  }
};
</code></pre>
<p>The themes here serve as the banners under which adventurers pledge their quests‚Äîwhether to dragons or distant stars.</p>
<h3>src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }

  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }

  return input.trim();
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;

  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>These functions are like the gates of a fortress‚Äîensuring only worthy inputs enter the Kingdom.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Codoria‚Äôs themes and configurations ensure adventures are accessible yet balanced‚Äîuse them thoughtfully.</li>
<li>Check <code class="inline-code">validateTheme</code> to explore options for dynamic themes or enhance validation rules for future quests.</li>
<li>Explore deeper integration possibilities by expanding <code class="inline-code">sanitizeForDisplay</code> logic or layering additional safety checks.</li>
</ul>
<hr>
<p>With the mastery of &quot;Themes of the Arcane,&quot; your enchanted quill sings with brilliance, forging luminous pathways to the final quest‚Äîpress on, valiant champion, for the realm awaits your triumph!</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/mcp-repo-adventure" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="images/github-mark.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>