<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Quest 4: The Cosmic Configuration Chamber - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <script>
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'space' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">üöÄ Starship Infinity: The Lost Code Chronicles</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1><span class="header-prefix">üõ°Ô∏è Quest 4:</span> The Cosmic Configuration Chamber</h1>
<hr>
<p>As the <em>Starship Infinity</em> glided deeper into the fragmented nebula, the crew prepared their next challenge: venturing into the Cosmic Configuration Chamber. This mysterious data vault, believed to be hidden within the heart of the nebula, was rumored to hold key parameters that could fine-tune the ship&#39;s systems for deciphering the &quot;Lost Code Pulse.&quot; However, this wouldn&#39;t be a straightforward journey. The chamber&#39;s encryption defenses were legendary, and the Infinity&#39;s systems had to be configured perfectly to avoid triggering galactic-scale data distortions. With minds sharpened by starlight, the team delved into the ship&#39;s configuration archives, ready to unlock secrets that would rewrite the stars.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">src/shared/config.ts:</span> Central Space Configurations for Optimized Navigation</h3>
<p>The <a href="https://github.com/danwahlin/mcp-repo-adventure/blob/main/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">src/shared/config.ts</code></a> file serves as the beating heart of the <em>Starship Infinity‚Äôs</em> mission parameters. Like the captain&#39;s manual, it centralizes mission-critical configurations that govern the starship&#39;s exploration and analysis systems. It holds variables for timeout durations, cache settings, file size limits, and API integrations with Long-Lived Models (LLMs) and Repomix tools. This file is essentially the commanding officer&#39;s checklist to ensure smooth operation while traversing uncharted cosmic terrains. Key constants such as <code class="inline-code">LLM_API_KEY</code>, <code class="inline-code">REPOMIX_CACHE_TTL</code>, and <code class="inline-code">MAX_FILE_SIZE_MB</code> are part of its arsenal. By regulating these elements, the file prevents analysis models from overloading and keeps the processing of galactic code bases streamlined. </p>
<p>This configuration file also introduces flexibility via environment variables, allowing real-time adjustments to the Infinity‚Äôs performance metrics without the need for disruptive reboots. For example, variables like <code class="inline-code">REPOMIX_SUBPROCESS_TIMEOUT</code> ensure subprocesses are safely terminated within two minutes, safeguarding system integrity. The file‚Äôs combination of static defaults and dynamic adjustments mirrors real-life protocols used in spacecraft operations, where mission-critical parameters must remain adaptable to unknown challenges.</p>
<h4>Highlights</h4>
<ul>
<li>Contains critical timeout settings, such as <code class="inline-code">LLM_REQUEST_TIMEOUT</code> for external API requests.</li>
<li>Limits maximum file sizes (<code class="inline-code">MAX_FILE_SIZE_MB</code>) to avoid memory issues during exploration.</li>
<li>Leverages environment variables to allow configuration flexibility during runtime.</li>
</ul>
<h2>Code</h2>
<h3>src/shared/config.ts</h3>
<pre><code class="language-typescript">// Timeouts in milliseconds
export const FILE_READ_TIMEOUT = 10000;
export const FILE_ANALYSIS_TIMEOUT = 30000;
export const LLM_REQUEST_TIMEOUT = 30000; // 30 seconds for complex story generation with large prompts
export const LLM_CACHE_TTL = 300000; // 5 minutes
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
export const REPOMIX_SUBPROCESS_TIMEOUT = parseInt(process.env.REPOMIX_SUBPROCESS_TIMEOUT || &#39;120000&#39;); // 2 minutes, configurable via env
export const REPOMIX_GRACEFUL_TIMEOUT = 5000; // 5 seconds for graceful shutdown before SIGKILL
export const REPOMIX_MAX_BUFFER_SIZE = 100 * 1024 * 1024; // 100MB max buffer to prevent memory exhaustion
</code></pre>
<p>These settings act like the safety protocols of a spaceship, making sure no system overheats or operates too long outside safe parameters.</p>
<pre><code class="language-typescript">// Analysis limits
export const MAX_SCAN_DEPTH = 3; // Maximum directory depth to prevent infinite recursion and keep analysis focused
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
export const KEY_SOURCE_FILES = 10; // Number of key files to highlight in adventure generation
export const TOP_FUNCTIONS = 20; // Maximum functions to include in code analysis summaries
export const TOP_CLASSES = 5; // Maximum classes to include in analysis to keep stories focused
</code></pre>
<p>These constants ensure the analytical tools remain efficient, much like setting boundaries for an excavation team to avoid unnecessary digging.</p>
<pre><code class="language-typescript">// Adventure settings
export const DEFAULT_THEME = &#39;space&#39; as const;
export const MAX_FILE_LINES_FOR_LLM = 100; // Truncate files to keep LLM prompts manageable
export const MAX_FILES_PER_QUEST = 3; // Limit files per quest to maintain focus and readability

// Error settings
export const MAX_ERROR_MESSAGE_LENGTH = 200;
export const INCLUDE_STACK_TRACES = process.env.NODE_ENV === &#39;development&#39;;
</code></pre>
<p>By defining structured error parameters and quest limits, the configuration ensures the entire adventure system remains focused and user-friendly, avoiding mission fatigue.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Always review the environmental variables used in this file. They provide a highly adaptable way to adjust system performance mid-mission.</li>
<li>Consider refining <code class="inline-code">MAX_SCAN_DEPTH</code> or <code class="inline-code">MAX_FILE_SIZE_MB</code> during large or complex repository scans to optimize LLM performance.</li>
<li>Explore how <code class="inline-code">REPOMIX_CACHE_TTL</code> interacts with system responsiveness; adjusting it may help fine-tune memory usage during longer sessions.</li>
</ul>
<hr>
<p>Stellar success! Your mastery of the Cosmic Configuration Chamber has propelled your mission to warp-speed progress‚Äîyou&#39;re now 60% closer to conquering the galaxy-wide questline!</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: üåå Quest 5: The Galactic Data Archives ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/mcp-repo-adventure" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>