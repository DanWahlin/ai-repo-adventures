<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Stardock of Theme Selection - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'space' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">Starship Lumina: The Odyssey of Code</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Stardock of Theme Selection</h1>
<hr>
<p>As the <em>Starship Lumina</em> glided through the vast cosmic expanse, its destination became visible through the viewport: the illustrious <em>Stardock of Theme Selection</em>. This celestial hub buzzed with shimmering starship traffic, ready to assist in assigning the perfect thematic coordinates for journeys into the repository galaxy. Within these stellar arrays, the crew prepared to determine their narrative path, a choice that would resonate across their entire mission.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Central Configuration for Adventure System</h3>
<p>The <code class="inline-code">config.ts</code> file acts as the steering console for the entire adventure system. It defines the operational parameters that keep the system efficient and safe for exploration. Variables such as <code class="inline-code">LLM_API_KEY</code> and <code class="inline-code">LLM_BASE_URL</code> serve as the navigational beacons for connecting to the language model APIs, ensuring that every interaction is finely tuned. With limits set by constants like <code class="inline-code">FILE_READ_TIMEOUT</code> and <code class="inline-code">LLM_MAX_TOKENS</code>, the file prevents the ship&#39;s systems from overloading, akin to managing the dilithium crystal flow in a starship&#39;s warp core. The extensive use of environment variables adds adaptability, allowing the Lumina to chart new territories based on the captain&#39;s directives.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_API_KEY</code> and <code class="inline-code">LLM_BASE_URL</code> ensure secure and seamless API integration.</li>
<li><code class="inline-code">FILE_ANALYSIS_TIMEOUT</code> safeguards against infinite exploration loops.</li>
<li><code class="inline-code">IGNORE_PATTERNS</code> filters out system-sensitive directories for safe navigation.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Input Validation for Secure Navigation</h3>
<p>The <code class="inline-code">input-validator.ts</code> file serves as the security officer of the system, ensuring that every input crossing the ship&#39;s console is cleared for mission-critical use. Functions such as <code class="inline-code">validateAdventureChoice</code> and <code class="inline-code">validateProjectPath</code> enforce stringent sanitation and validation rules, much like spaceport customs ensuring contraband isn‚Äôt smuggled onto interstellar vessels. One standout feature is the <code class="inline-code">sanitizeForDisplay</code> function, which further processes inputs for safe display, much like a universal translator ensuring no garbled messages make their way into a briefing.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code> shields against overly lengthy or blank inputs.</li>
<li><code class="inline-code">validateTheme</code> ensures only legitimate, mission-compatible themes are accepted.</li>
<li><code class="inline-code">sanitizeForDisplay</code> strips away hazardous characters before rendering text.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Theme Definitions and Validation</h3>
<p>The <code class="inline-code">theme.ts</code> file is the galactic library where all themes are cataloged, offering users a richly varied selection for their explorations. It presents themes such as <code class="inline-code">SPACE</code>, <code class="inline-code">ANCIENT</code>, and <code class="inline-code">DEVELOPER</code>, each with keywords and vivid descriptions. The <code class="inline-code">getAllThemes</code> function is akin to a starmap, listing all available constellations (themes) for adventurers to choose from. It also ensures interstellar peace through <code class="inline-code">isValidTheme</code>, which verifies that all theme selections are accurate and appropriately aligned to a known category.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code> contains pre-configured options with detailed descriptions and visual flair.</li>
<li><code class="inline-code">getAllThemes</code> compiles a detailed list of options for adventurer reference.</li>
<li><code class="inline-code">formatThemeOption</code> provides clear and concise display formatting for themes.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">// Timeouts in milliseconds
export const FILE_READ_TIMEOUT = 10000;
export const FILE_ANALYSIS_TIMEOUT = 30000;
export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
export const LLM_CACHE_TTL = 300000; // 5 minutes
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
export const REPOMIX_SUBPROCESS_TIMEOUT = parseInt(process.env.REPOMIX_SUBPROCESS_TIMEOUT || &#39;120000&#39;); // 2 minutes, configurable via env
export const REPOMIX_GRACEFUL_TIMEOUT = 5000; // 5 seconds for graceful shutdown before SIGKILL
</code></pre>
<p>The timeouts act like mission protocols ensuring systems respond swiftly to emergencies before terminating.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>This function acts like a docking clearance system, ensuring no oversized or void-filled entries are allowed through.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}

export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}

export function formatThemeOption(theme: ThemeDefinition): string {
  return `${theme.emoji} **${theme.id}. ${theme.displayName}** - ${theme.description}`;
}
</code></pre>
<p>These functions together are like an interstellar guidebook, providing a map of available worlds and verifying course alignments.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Familiarize yourself with <code class="inline-code">config.ts</code> to optimize the system‚Äôs runtime efficiency and prevent bottlenecks.</li>
<li>Explore <code class="inline-code">theme.ts</code> to fully understand how themes are structured and extend it if necessary.</li>
<li>Review <code class="inline-code">input-validator.ts</code> for crafting new functions tailored to specific user inputs.</li>
</ul>
<hr>
<p>Mission accomplished, Star Explorer‚Äîyour mastery of the Stardock of Theme Selection has launched your learning journey into orbit, bringing you 75% closer to the completion galaxy! ‚≠êüöÄ‚ö°</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>