<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Quest 4: Nebula Configuration Horizons - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">🚀 Galactic Codex: The MCP Discovery Mission</a>
        </div>
    </nav>
    
    <div class="container">
        <h1>🚀 Quest 4: Nebula Configuration Horizons</h1>
        
        
      <div class="quest-navigation">
        <a href="quest-3.html">← Previous: ⭐ Quest 3: Celestial Narrative Generation Protocols</a>
        <a href="quest-5.html">Next: 🌌 Quest 5: Galactic Theme Harmonizer →</a>
      </div>
    
        
        <div class="quest-content">
            <p><strong>🚀 Quest 4: Nebula Configuration Horizons</strong></p>
<p>As the crew aboard the starship <em>Ecliptica</em> advanced deeper into the dazzling veil of &quot;Nebula Configuration Horizons,&quot; grimacing cosmic storms tested the limits of their navigation system. Their mission was tethered to a singular objective—deciphering configurations hidden within the nebulous clouds to map stellar pathways crucial for intergalactic exploration. Memories of prior quests resurfaced: calibrating starship systems in &quot;Asteroid Protocol Lock&quot; and salvaging orphaned data from the interstellar wreckage in &quot;Binary Cluster Anomaly.&quot; Yet now, the stakes rose higher as fragments of outdated navigation files threatened to disrupt clarity. Commander Liana issued an urgent call: &quot;Crew, configure the last nodes before the nebula devours our data streams!&quot;</p>
<p>┌───────────────────────────────────────────┐<br>🛠️ <strong>File Analysis: <code class="inline-code">src/shared/adventure-config.ts</code></strong><br>└───────────────────────────────────────────┘  </p>
<p>This file serves as a key mechanism for managing the adventure configurations essential for the crew’s mission. Think of it as the starship’s onboard navigation system, meticulously designed to retrieve, parse, and validate dynamic configurations stored in external files. The structure revolves around multiple methods—each tailored for seamless file interaction and data extraction:</p>
<p>These collective functions power the quest by mimicking how star maps are iteratively analyzed—a sequence of cautious inspections before commanding boldly forward.</p>
<p>👩‍🚀 <strong>Connection to the Narrative</strong>: The starship crew relies on such methods to filter stellar noise from usable cosmic data, ensuring their navigation remains calibrated to known paths rather than drifting into uncharted—and potentially perilous—territory.</p>
<p><strong>📜 Code Discoveries:</strong>
<strong><code class="inline-code">src/shared/adventure-config.ts</code>:</strong>
<div class="code-block"><div class="code-header">typescript</div><pre><code class="language-typescript"><span class="keyword">import</span> * as fs from <span class="string">'fs'</span>;
<span class="keyword">import</span> * as path from <span class="string">'path'</span>;

<span class="keyword">const</span> ADVENTURE_CONFIG_FILE = <span class="string">'adventure.config.json'</span>;

<span class="keyword">function</span> <span class="function">readFileIfExists</span>(filePath: <span class="type">string</span>): <span class="type">string</span> | null {
  try {
    <span class="keyword">return</span> fs.<span class="function">readFileSync</span>(filePath, <span class="string">'utf-8'</span>);
  } catch {
    <span class="keyword">return</span> null;
  }
}

<span class="keyword">export</span> <span class="keyword">function</span> <span class="function">loadAdventureConfig</span>(projectPath: <span class="type">string</span>): <span class="type">string</span> | null {
  <span class="keyword">const</span> configPath = path.<span class="function">join</span>(projectPath, ADVENTURE_CONFIG_FILE);
  <span class="keyword">return</span> <span class="function">readFileIfExists</span>(configPath);
}

<span class="keyword">export</span> <span class="keyword">function</span> <span class="function">parseAdventureConfig</span>(projectPath: <span class="type">string</span>): <span class="type">unknown</span> | null {
  <span class="keyword">const</span> raw = <span class="function">loadAdventureConfig</span>(projectPath);
  <span class="keyword">if</span> (!raw) <span class="keyword">return</span> null;
  try {
    <span class="keyword">return</span> JSON.<span class="function">parse</span>(raw);
  } catch {
    <span class="keyword">return</span> null;
  }
}

<span class="keyword">export</span> <span class="keyword">function</span> <span class="function">extractUniqueFilePaths</span>(projectPath: <span class="type">string</span>): <span class="type">string</span>[] {
  <span class="keyword">const</span> parsed = <span class="function">parseAdventureConfig</span>(projectPath);
  <span class="keyword">if</span> (!parsed || typeof parsed !== <span class="string">'object'</span>) <span class="keyword">return</span> [];

  <span class="keyword">const</span> unique = new Set<<span class="type">string</span>>();
  <span class="keyword">const</span> stack: <span class="type">any</span>[] = [parsed];

  <span class="keyword">while</span> (stack.<span class="property">length</span>) {
    <span class="keyword">const</span> node = stack.<span class="function">pop</span>();
    <span class="keyword">if</span> (!node || typeof node !== <span class="string">'object'</span>) continue;

    <span class="keyword">if</span> (typeof node.<span class="property">path</span> === <span class="string">'string'</span> && node.<span class="property">path</span>.<span class="function">trim</span>()) {
      <span class="keyword">const</span> rel = node.<span class="property">path</span>.<span class="function">trim</span>();
      <span class="keyword">if</span> (fs.<span class="function">existsSync</span>(path.<span class="function">resolve</span>(projectPath, rel))) {
        unique.<span class="function">add</span>(rel);
      }
    }

    <span class="keyword">const</span> children = Array.<span class="function">isArray</span>(node) ? node : Object.<span class="function">values</span>(node);
    children.<span class="function">forEach</span>(child => {
      <span class="keyword">if</span> (child && typeof child === <span class="string">'object'</span>) stack.<span class="function">push</span>(child);
    });
  }

  <span class="keyword">return</span> Array.<span class="function">from</span>(unique);
}</code></pre></div>
<em>💡 <strong>Real-World Analogy</strong>: These functions operate like an astronaut&#39;s toolkit:</em></p>
<p><strong>💡 Helpful Hints:</strong>
• <strong>File Reading (<code class="inline-code">readFileIfExists</code>)</strong>: Acts as the preliminary scout, ensuring only accessible portions of the cosmic navigation files are read. Analogous to an astronaut checking for clear log transmissions before proceeding.
• <strong>Config Parsing (<code class="inline-code">parseAdventureConfig</code>)</strong>: A vital decoding station—like decrypting ancient star maps—which ensures JSON-based files from the repository adhere to expected formats before further use.
• <strong>Path Extraction (<code class="inline-code">extractUniqueFilePaths</code>)</strong>: A cosmic treasure hunt! This function identifies resourceful travel routes hidden within the config file by gathering all unique file paths that pass validation and exist in the project directory.
• <strong><code class="inline-code">readFileIfExists</code></strong> checks if a data log exists before opening it—like ensuring radio transmissions aren&#39;t garbled before deciphering.
• <strong><code class="inline-code">loadAdventureConfig</code> and <code class="inline-code">parseAdventureConfig</code></strong> act as the communicators transforming raw signals (JSON strings) into actionable patterns.
• <strong><code class="inline-code">extractUniqueFilePaths</code></strong> is the navigator scanning for road markers hidden within the terrain—extracting all usable paths that align with the ship’s route.
• Always verify file paths in your adventure configuration before deploying changes to cosmic exploration systems; missing paths can lead to static loops in navigation data.
• Next steps involve testing for edge cases—damaged or corrupted JSON files can arise when navigating volatile data realms like nebulae.</p>
<hr>
<p>&quot;✨ Stellar work, Navigator! You&#39;ve successfully charted the uncharted in 🚀 Quest 4: Nebula Configuration Horizons, propelling your mission across 33% of the cosmic frontier—keep warping toward the stars!&quot;</p>

        </div>
        
        
      <div class="quest-navigation">
        <a href="quest-3.html">← Previous: ⭐ Quest 3: Celestial Narrative Generation Protocols</a>
        <a href="quest-5.html">Next: 🌌 Quest 5: Galactic Theme Harmonizer →</a>
      </div>
    
    </div>
</body>
</html>