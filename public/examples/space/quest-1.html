<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellar HTML Generator - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "tk53e05gf2");
    </script>
    
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }

        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-space">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Galactic Code Chronicles</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Adventure</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: Stellar HTML Generator</h1>
<hr>
<p>Aboard the Galactic Voyager, the HTML Generator Module hums with cosmic energy, transforming raw data into radiant adventure pages. As the ship‚Äôs navigator, your task is to decode the intricate workings of this system, ensuring seamless generation of themed adventures for the crew. Explore the interconnected pathways of the <code class="inline-code">HTMLAdventureGenerator</code>, <code class="inline-code">TemplateEngine</code>, and <code class="inline-code">AssetManager</code> to uncover how the Voyager crafts its stellar stories. Each file represents a vital subsystem, working in harmony to deliver immersive space-themed experiences to explorers across the galaxy.</p>
<h2>Key Takeaways</h2>
<p>After completing this quest, you will understand:</p>
<ul>
<li>üéØ <strong>Dynamic HTML Generation</strong>: How modular systems like <code class="inline-code">HTMLAdventureGenerator</code> orchestrate adventure creation across themes.</li>
<li>üîç <strong>Template Rendering</strong>: The mechanics of <code class="inline-code">TemplateEngine</code> for processing placeholders and building cohesive pages.</li>
<li>‚ö° <strong>Asset Management</strong>: Techniques used by <code class="inline-code">AssetManager</code> to organize and copy assets for multi-theme adventures.</li>
<li>üí° <strong>Modular Architecture</strong>: How isolated components enable scalability and maintainability in complex systems.</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/html-generator.ts</code></a></h3>
<p>The <code class="inline-code">HTMLAdventureGenerator</code> serves as the Voyager‚Äôs command center for HTML creation, coordinating the generation of themed adventures. It integrates repository analysis, story generation, and asset management into a streamlined pipeline. This file demonstrates advanced orchestration techniques, including multi-theme generation and CLI-based configuration, making it pivotal for producing interactive adventure websites.</p>
<h4>Highlights</h4>
<ul>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts#L235" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateAdventure</code></a>: Orchestrates the entire adventure generation process, from repository analysis to quest page creation.</li>
<li><code class="inline-code">generateAllThemes</code>: Enables parallel generation of multiple themes, optimizing for scalability in multi-theme environments.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L58" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateThemeCSS</code></a>: Combines theme-specific, base, and animation styles into a unified CSS file for adventures.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts#L328" target="_blank" rel="noopener noreferrer"><code class="inline-code">extractQuestInfo</code></a>: Processes quest data into structured outputs for page generation.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts#L339" target="_blank" rel="noopener noreferrer"><code class="inline-code">saveLlmOutput</code></a>: Logs LLM-generated content for debugging and analysis.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">async generateAdventure(): Promise&lt;void&gt; {
  console.log(chalk.yellow.bold(&#39;üöÄ Generating Adventure...&#39;));
  const repomixContent = await repoAnalyzer.generateRepomixContext(this.projectPath);
  const projectInfo = createProjectInfo(repomixContent);

  const storyContent = await this.adventureManager.initializeAdventure(
    projectInfo, 
    this.selectedTheme, 
    this.projectPath,
    this.customThemeData
  );

  this.extractQuestInfo();

  await this.generateThemeCSS();
  const assetManager = await this.getAssetManager();
  assetManager.copyQuestNavigator(this.outputDir);
  assetManager.copyImages(this.outputDir, this.isMultiTheme);

  this.generateIndexHTML();
  await this.contentGenerator.generateQuestPages();
  await this.generateSummaryHTML();
}
</code></pre>
<ul>
<li>This method integrates repository analysis, story generation, and asset management into a cohesive workflow.</li>
<li>It utilizes modular components like <code class="inline-code">repoAnalyzer</code> and <code class="inline-code">adventureManager</code> to process input dynamically.</li>
<li>The <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L58" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateThemeCSS</code></a> step highlights the importance of combining visual styles for immersive user experiences.</li>
<li>Quest extraction ensures structured data for generating individual adventure pages.</li>
<li>Asset management ensures proper organization of images and navigators across themes.</li>
</ul>
<hr>
<pre><code class="language-typescript">static async generateSingleThemeStatic(
  theme: AdventureTheme,
  themeDir: string,
  maxQuests: number | undefined,
  logLlmOutput: boolean,
  logLlmOutputDir: string
): Promise&lt;void&gt; {
  const themeGenerator = new HTMLAdventureGenerator();
  themeGenerator.selectedTheme = theme;
  themeGenerator.outputDir = themeDir;
  themeGenerator.maxQuests = maxQuests;
  themeGenerator.logLlmOutput = logLlmOutput;
  themeGenerator.logLlmOutputDir = logLlmOutputDir;
  themeGenerator.isMultiTheme = true;

  try {
    await themeGenerator.generateAdventure();
  } finally {
    themeGenerator.cliInterface.close();
  }
}
</code></pre>
<ul>
<li>This factory method creates isolated instances for generating single themes, preventing state corruption in multi-theme scenarios.</li>
<li>It demonstrates the importance of encapsulated workflows for concurrent processing.</li>
<li>The use of <code class="inline-code">logLlmOutputDir</code> ensures traceability and debugging capabilities for generated content.</li>
<li>By reusing <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts#L235" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateAdventure</code></a>, it maintains consistency across single and multi-theme workflows.</li>
<li>The design supports scalability by enabling parallel execution.</li>
</ul>
<hr>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/template-engine.ts</code></a></h3>
<p>The <code class="inline-code">TemplateEngine</code> is the Voyager‚Äôs creative core, transforming placeholders into fully rendered HTML pages. It leverages caching and dynamic variable replacement to optimize performance and ensure consistent output across adventures. This file exemplifies the power of modular template rendering systems in large-scale projects.</p>
<h4>Highlights</h4>
<ul>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts#L58" target="_blank" rel="noopener noreferrer"><code class="inline-code">renderPage</code></a>: Combines base and content templates into a unified HTML page.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts#L44" target="_blank" rel="noopener noreferrer"><code class="inline-code">replacePlaceholders</code></a>: Dynamically replaces placeholders with corresponding variables for customized rendering.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts#L25" target="_blank" rel="noopener noreferrer"><code class="inline-code">loadTemplate</code></a>: Implements caching for efficient template retrieval and reuse.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">renderPage(contentTemplate: string, variables: TemplateVariables): string {
  const baseTemplate = this.loadTemplate(&#39;base-template.html&#39;);
  const contentHtml = this.loadTemplate(contentTemplate);
  const renderedContent = this.replacePlaceholders(contentHtml, variables);
  const pageVariables = { ...variables, CONTENT: renderedContent };
  return this.replacePlaceholders(baseTemplate, pageVariables);
}
</code></pre>
<ul>
<li>This method combines base and content templates dynamically, ensuring flexibility in page structure.</li>
<li>The use of <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts#L44" target="_blank" rel="noopener noreferrer"><code class="inline-code">replacePlaceholders</code></a> allows for precise customization based on input variables.</li>
<li>By separating content and base templates, it adheres to the principle of separation of concerns.</li>
<li>The inclusion of <code class="inline-code">CONTENT</code> as a variable highlights modularity in rendering workflows.</li>
<li>This approach supports scalability by enabling dynamic content generation for diverse themes.</li>
</ul>
<hr>
<pre><code class="language-typescript">private replacePlaceholders(template: string, variables: TemplateVariables): string {
  let result = template;
  for (const [key, value] of Object.entries(variables)) {
    const placeholder = `{{${key}}}`;
    result = result.replace(new RegExp(placeholder, &#39;g&#39;), value || &#39;&#39;);
  }
  return result;
}
</code></pre>
<ul>
<li>This method dynamically replaces placeholders with corresponding variables using regex patterns.</li>
<li>It ensures that templates are rendered accurately based on provided data.</li>
<li>The use of <code class="inline-code">RegExp</code> enables global replacement, supporting complex templates with repeated placeholders.</li>
<li>By handling missing values gracefully, it prevents rendering errors.</li>
<li>This design promotes extensibility by allowing additional placeholders to be added without modifying core logic.</li>
</ul>
<hr>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/asset-manager.ts</code></a></h3>
<p>The <code class="inline-code">AssetManager</code> ensures that the Voyager‚Äôs adventures are visually captivating by handling the copying and organization of assets. It supports multi-theme generation and efficient resource management, making it essential for creating consistent and immersive experiences.</p>
<h4>Highlights</h4>
<ul>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L134" target="_blank" rel="noopener noreferrer"><code class="inline-code">copyGlobalAssets</code></a>: Copies shared assets like images and CSS for multi-theme adventures.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L97" target="_blank" rel="noopener noreferrer"><code class="inline-code">copyQuestNavigator</code></a>: Organizes navigator files for single-theme adventures.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L186" target="_blank" rel="noopener noreferrer"><code class="inline-code">loadThemeCSS</code></a>: Retrieves theme-specific CSS files with fallback mechanisms.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">copyGlobalAssets(outputDir: string): void {
  const globalAssetsDir = path.join(outputDir, &#39;assets&#39;);
  const targetImagesDir = path.join(globalAssetsDir, &#39;images&#39;);
  fs.mkdirSync(targetImagesDir, { recursive: true });

  const globalImages = [&#39;github-mark.svg&#39;, &#39;github-mark-white.svg&#39;];
  globalImages.forEach(file =&gt; {
    const sourcePath = path.join(this.sourceDir, &#39;assets&#39;, &#39;shared&#39;, file);
    const targetPath = path.join(globalAssetsDir, &#39;shared&#39;, file);
    fs.copyFileSync(sourcePath, targetPath);
  });
}
</code></pre>
<ul>
<li>This method organizes shared assets into a global directory for multi-theme adventures.</li>
<li>The use of <code class="inline-code">mkdirSync</code> ensures directories are created recursively for proper asset placement.</li>
<li>By copying shared images, it promotes consistency across themes.</li>
<li>The modular design supports extensibility by allowing additional asset types to be added.</li>
<li>This approach ensures efficient resource management for large-scale projects.</li>
</ul>
<hr>
<pre><code class="language-typescript">loadThemeCSS(theme: string): string {
  return this.loadCSSFile(`themes/${theme}.css`, &#39;themes/default.css&#39;);
}
</code></pre>
<ul>
<li>This method retrieves theme-specific CSS files with fallback options for missing styles.</li>
<li>The use of <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L207" target="_blank" rel="noopener noreferrer"><code class="inline-code">loadCSSFile</code></a> demonstrates modularity in asset retrieval workflows.</li>
<li>By including a default fallback, it ensures robustness in multi-theme environments.</li>
<li>The dynamic path resolution supports flexible theme configurations.</li>
<li>This design promotes scalability by enabling additional themes to be added seamlessly.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Study how <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/html-generator.ts#L235" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateAdventure</code></a> integrates repository analysis, story generation, and asset management into a single workflow.</li>
<li>Observe how <code class="inline-code">TemplateEngine</code> uses caching to optimize template retrieval and rendering performance.</li>
<li>Explore the role of <code class="inline-code">AssetManager</code> in organizing shared resources across multi-theme adventures.</li>
</ul>
<h2>Try This</h2>
<p>Challenge yourself to deepen your understanding:</p>
<ol>
<li><strong>Add a New Placeholder</strong>: Modify <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/template-engine.ts#L44" target="_blank" rel="noopener noreferrer"><code class="inline-code">TemplateEngine.replacePlaceholders</code></a> to support a new placeholder (e.g., <code class="inline-code">{{FOOTER}}</code>). Update the templates and test the rendering with custom footer content.</li>
<li><strong>Trace Asset Copying</strong>: Add console logs in <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L134" target="_blank" rel="noopener noreferrer"><code class="inline-code">AssetManager.copyGlobalAssets</code></a> to trace the copying of each file. Run the generator to observe how assets are organized across themes.</li>
<li><strong>Create a Custom Theme</strong>: Design a new theme by adding a CSS file and updating the <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/asset-manager.ts#L186" target="_blank" rel="noopener noreferrer"><code class="inline-code">loadThemeCSS</code></a> method. Generate adventures with your custom theme to test its integration.</li>
</ol>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries of the Galactic Voyager‚Äôs systems.</p>
<p>Mission accomplished, cadet‚Äîyour Stellar HTML Generator has launched into the coding cosmos, lighting up the universe of web design with your brilliance! üöÄ‚≠ê‚ö°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>