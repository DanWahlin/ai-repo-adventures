<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harness the Power of Configuration and Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "tk53e05gf2");
    </script>
    
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }

        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-ancient">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Sacred Repository of Ancient Wisdom</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Adventure</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: Harness the Power of Configuration and Themes</h1>
<hr>
<p>In the heart of the jungle lies the Chamber of Configurations, an ancient hall adorned with intricate carvings of glyphs and symbols. This sacred chamber governs the balance of the repository, its themes, and its operational limits. Here, you will unearth the secrets of the configuration scrolls and the thematic artifacts that define the repository&#39;s adventures. By deciphering these ancient inscriptions, you will restore balance and unlock the full potential of the Sacred Repository, ensuring its wisdom is preserved for future explorers.</p>
<h2>Key Takeaways</h2>
<p>After completing this quest, you will understand:</p>
<ul>
<li>üéØ <strong>Centralized Configuration</strong>: How configurations are managed to control repository behavior and limits.</li>
<li>üîç <strong>Theme System</strong>: How themes are defined and parsed for dynamic adventure customization.</li>
<li>‚ö° <strong>Validation Patterns</strong>: The role of input validation in ensuring reliable and secure operations.</li>
<li>üí° <strong>Dynamic Theme Management</strong>: How CSS and assets are dynamically generated and applied based on selected themes.</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<p>The configuration file acts as the ancient scroll that defines the operational limits and behavior of the repository. It centralizes all settings, including timeouts, cache durations, and resource constraints, allowing the system to adapt dynamically to different environments. This file ensures that all components of the repository adhere to a consistent set of rules.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code> defines the maximum duration for LLM requests, ensuring timely responses.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code> specifies the cache duration for repository analysis results, optimizing performance.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code> limits the size of files to be analyzed, preventing memory exhaustion during processing.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = parseInt(process.env.REPO_ADV_LLM_REQUEST_TIMEOUT || &#39;60000&#39;); // 60 seconds
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPO_ADV_REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues
</code></pre>
<ul>
<li>These constants ensure the system operates within predefined limits, preventing performance bottlenecks.</li>
<li>Environment variables allow for dynamic adjustments without code changes, enhancing flexibility.</li>
<li>The use of <code class="inline-code">parseInt</code> ensures type safety when converting string inputs to numbers.</li>
<li>Centralizing these settings simplifies maintenance and reduces the risk of inconsistencies.</li>
<li>The constraints protect the system from excessive resource consumption, ensuring stable operation.</li>
</ul>
<hr>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<p>This file serves as the repository&#39;s thematic codex, defining all available themes and their properties. It includes helper functions to parse, validate, and retrieve themes, ensuring seamless integration with the adventure system.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code> defines the properties of each theme, including display names, emojis, and descriptions.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts#L78" target="_blank" rel="noopener noreferrer"><code class="inline-code">getThemeByKey</code></a> retrieves a theme by its key, enabling dynamic theme selection.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts#L93" target="_blank" rel="noopener noreferrer"><code class="inline-code">parseTheme</code></a> parses user input to determine the corresponding theme, supporting both keywords and IDs.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  }
};
</code></pre>
<ul>
<li>The <code class="inline-code">THEMES</code> object centralizes all theme definitions, making them easily accessible and modifiable.</li>
<li>Each theme includes keywords for flexible user input matching, enhancing usability.</li>
<li>The descriptive properties allow for rich, immersive storytelling tailored to the selected theme.</li>
<li>This structure supports extensibility, allowing new themes to be added with minimal effort.</li>
<li>The use of constants ensures immutability, preventing accidental modifications.</li>
</ul>
<hr>
<h3><span class="header-prefix">File:</span> <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/theme-manager.ts</code></a></h3>
<p>The <code class="inline-code">ThemeManager</code> class acts as the artisan of the repository, crafting the visual and structural elements of each theme. It dynamically generates CSS, selects appropriate assets, and ensures consistency across all generated adventures.</p>
<h4>Highlights</h4>
<ul>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L58" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateThemeCSS</code></a> combines multiple CSS files into a single output, streamlining the theming process.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L49" target="_blank" rel="noopener noreferrer"><code class="inline-code">getGitHubLogo</code></a> selects the appropriate logo based on the theme&#39;s color scheme, ensuring visual harmony.</li>
<li><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L81" target="_blank" rel="noopener noreferrer"><code class="inline-code">getThemeIcons</code></a> retrieves theme-specific icons for consistent branding across quests.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-typescript">generateThemeCSS(theme: AdventureTheme, outputDir: string): void {
  const cssFiles = [
    path.join(this.themesDir, &#39;base.css&#39;),
    path.join(this.themesDir, &#39;homepage.css&#39;), 
    path.join(this.themesDir, &#39;animations.css&#39;),
    path.join(this.themesDir, `${theme}.css`)
  ];
  
  let combinedCSS = &#39;&#39;;
  
  cssFiles.forEach(cssFile =&gt; {
    if (fs.existsSync(cssFile)) {
      combinedCSS += fs.readFileSync(cssFile, &#39;utf8&#39;) + &#39;\\n\\n&#39;;
    }
  });
  
  const cssPath = path.join(outputDir, &#39;assets&#39;, &#39;theme.css&#39;);
  fs.writeFileSync(cssPath, combinedCSS);
}
</code></pre>
<ul>
<li>This method consolidates multiple CSS files, ensuring all theme-specific styles are applied.</li>
<li>The use of <code class="inline-code">fs.existsSync</code> prevents errors by checking file existence before reading.</li>
<li>The dynamic path construction allows for flexible directory structures and custom themes.</li>
<li>Writing the combined CSS to a single file improves performance by reducing HTTP requests.</li>
<li>This approach supports modular CSS development, making it easier to manage and update styles.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Study how the <code class="inline-code">config.ts</code> file centralizes operational limits to understand the importance of maintainable configurations.</li>
<li>Explore the <code class="inline-code">theme.ts</code> file to see how themes are defined and parsed for dynamic user input handling.</li>
<li>Review the <code class="inline-code">ThemeManager</code> class to learn how CSS and assets are dynamically managed for different themes.</li>
</ul>
<h2>Try This</h2>
<p>Challenge yourself to deepen your understanding:</p>
<ol>
<li><p><strong>Add a New Theme</strong>: Create a new theme in <code class="inline-code">theme.ts</code> with a unique emoji, description, and keywords. Update <code class="inline-code">ThemeManager</code> to support the new theme and test its integration.</p>
<ul>
<li>Example: Add a &quot;Cyberpunk&quot; theme with neon aesthetics and futuristic keywords.</li>
</ul>
</li>
<li><p><strong>Customize CSS</strong>: Modify the <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts#L58" target="_blank" rel="noopener noreferrer"><code class="inline-code">generateThemeCSS</code></a> method to include a new CSS file for custom animations. Test how this affects the generated HTML adventures.</p>
</li>
<li><p><strong>Enhance Validation</strong>: Update the <a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/adventure/story-generator.ts#L686" target="_blank" rel="noopener noreferrer"><code class="inline-code">validateTheme</code></a> function in <code class="inline-code">input-validator.ts</code> to provide more detailed error messages, including suggestions for valid themes.</p>
</li>
</ol>
<hr>
<p>You have mastered all the secrets of the Sacred Repository! Your adventure is complete.</p>
<p>O seekers of sacred wisdom, thou hast unlocked the ancient art of Configuration and Themes, ascending the steps of the temple of mastery with triumphant resolve‚Äîpress onward, for the final quest beckons like a blazing star!</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4</a>
        <a href="summary.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>