<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Orbital Configuration Systems - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Codebase Chronicles</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Orbital Configuration Systems</h1>
<hr>
<p>The <strong>Starship Repo Voyager</strong> has navigated countless nebulae of interdependent files, unraveling the cosmic codebase&#39;s secrets piece by intricate piece. Now, it enters a critical mission in the orbital sphere surrounding its configuration systems. These systems maintain the delicate balance required for the ship&#39;s navigation, energy management, and communications with distant repositories. Insight awaits in deciphering configuration protocols, universal themes, and validation scripts. Stay vigilant, as understanding these configurations is pivotal to sustaining the Starship&#39;s intricate ecosystem and completing the final leg of your galactic mission.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Orbital Synchronization</strong>: How are timeouts and caching durations configured to optimize mission performance?  </li>
<li>‚ö° <strong>Theme Compendium</strong>: How does the system encapsulate and validate themes, ensuring accurate navigation and story alignment?  </li>
<li>üõ°Ô∏è <strong>Asteroid Shielding</strong>: What mechanisms protect against invalid inputs or misconfigurations in the adventure data pipeline?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration logic and constants</h3>
<p>This file is the core of the configuration systems powering the <strong>Starship Repo Voyager</strong>. It defines constants for API keys, cache settings, timeout durations, and analysis limits‚Äîessential for controlling the starship&#39;s processes. Without these constraints and tunable configurations, the ongoing exploration could lead to chaotic energy usage, infinite code loops, or memory exhaustion. </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_API_KEY</code>: Extracts API keys from environment variables to authenticate with the starship&#39;s language model systems.  </li>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Manages operational time limits for language model requests, preventing system blockages during high-load missions.  </li>
<li><code class="inline-code">IGNORE_PATTERNS</code>: Specifies directory and file patterns to skip during code scanning, streamlining mission focus and avoiding unnecessary processing.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">// Extract API keys from environment variables
export const LLM_API_KEY = process.env.LLM_API_KEY || &#39;&#39;;
export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation
export const IGNORE_PATTERNS = [
  &#39;node_modules&#39;,
  &#39;.git&#39;,
  &#39;.env&#39;,
  &#39;dist&#39;,
  &#39;logs&#39;,
  &#39;*.log&#39;,
];
</code></pre>
<ul>
<li><strong>LLM_API_KEY</strong> initializes the connection to cosmic-level language models, ensuring secure authentication across missions.  </li>
<li><strong>LLM_REQUEST_TIMEOUT</strong> establishes a finite duration for operations, preventing ship systems from stalling during overextended computations.  </li>
<li><strong>IGNORE_PATTERNS</strong> improves scanning efficiency by bypassing irrelevant artifacts, optimizing performance and maintaining analysis relevance.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Centralized theme definitions</h3>
<p>This file serves as the mission&#39;s thematic beacon, housing definitions for all the possible adventure themes. It includes robust utilities to parse, validate, and format themes, enabling seamless alignment between user preferences and system functionality. Every theme balances narrative flair with technical rigor‚Äîessential for maintaining cohesive exploration experiences.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">getThemeByKey</code>: Retrieves theme data using its unique key, ensuring accurate story alignment.  </li>
<li><code class="inline-code">isValidTheme</code>: Confirms whether a given theme matches predefined options, preventing errors or mismatched adventures.  </li>
<li><code class="inline-code">getFormattedThemeOptions</code>: Provides a formatted overview of all themes for display, helping crew members make informed decisions.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export function getThemeByKey(key: string): ThemeDefinition | null {
  return THEMES_ARRAY.find(theme =&gt; theme.key === key) || null;
}

export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}

export function getFormattedThemeOptions(): string {
  return getAllThemes()
    .sort((a, b) =&gt; a.id - b.id)
    .map(formatThemeOption)
    .join(&#39;\n&#39;);
}
</code></pre>
<ul>
<li><strong>getThemeByKey</strong> locates a theme based on its unique identifier, ensuring consistency between user choices and system specifications.  </li>
<li><strong>isValidTheme</strong> safeguards the adventure by validating user inputs against predefined options, eliminating thematic mismatches.  </li>
<li><strong>getFormattedThemeOptions</strong> enhances user experience by presenting all available themes in a clear and attractive layout.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Input validation strategies</h3>
<p>This file is the ship&#39;s defense mechanism against invalid or malicious inputs. It implements functions that sanitize and validate user data, protecting critical systems from unintended consequences. By scrutinizing choices, themes, and project paths, the input validator ensures safe passage through volatile data streams.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Cleans and verifies user input for adventure selection, ensuring meaningful engagement.  </li>
<li><code class="inline-code">validateTheme</code>: Parses and confirms the validity of user-selected themes, preventing errors during initialization.  </li>
<li><code class="inline-code">sanitizeForDisplay</code>: Removes any unsafe or excess characters from input, ensuring reliable and clean presentation.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  return input.trim();
}

export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  return parsedTheme;
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<ul>
<li><strong>validateAdventureChoice</strong> ensures players enter clear and concise choices, reducing errors during mission setup.  </li>
<li><strong>validateTheme</strong> integrates logic for parsing and validating user theme selections, enforcing proper alignment with the story engine.  </li>
<li><strong>sanitizeForDisplay</strong> refines raw inputs for display, filtering unsafe characters to maintain system integrity and user trust.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Focus on the interplay between configuration constants and validation logic to identify patterns of safeguarding mission-critical systems.  </li>
<li>Explore how themes harmonize narrative elements with input-guided decision-making.  </li>
<li>Notice the balance struck between security mechanisms and user accessibility.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries of the <strong>Starship Repo Voyager</strong>!</p>
<p>Mission accomplished, Cadet! Quest 4: Orbital Configuration Systems is locked into place‚Äîyou&#39;re 60% through your cosmic voyage and soaring like a supernova‚Äîkeep charting the stars! üöÄ‚≠ê‚ö°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
</body>
</html>