<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Configuration & Theme System - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Stellar Repository Expeditions</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Configuration &amp; Theme System</h1>
<hr>
<p>In the vast galaxy of bitstreams and repositories, you now reach a critical juncture in the mission: the Configuration &amp; Theme System. Your crew relies on the starship&#39;s advanced configuration modules and adaptive theme systems to keep the journey aligned with the ever-changing dynamics of the repository universe. It is your task to explore and optimize these systems for peak performance, ensuring that the ship can chart its course through codebases with both precision and creativity. Beware, Captain‚Äîvalidation protocols and intricate theme matrices await!</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Config Stability Check</strong>: What timeout thresholds and general configuration values ensure the ship‚Äôs system stability during high-load operations?</li>
<li>‚ö° <strong>Theme Charting</strong>: How does the starship map and classify the THEMES for adventures, and what mechanisms validate user input?</li>
<li>üõ°Ô∏è <strong>Data Validation Shields</strong>: How does the system enforce input validation to protect against disruptive anomalies like invalid paths or incorrect theme selections?</li>
</ul>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Galactic Configuration Central</h3>
<p>In this file, we find constants and environment-based settings that shape the core mechanics of the codebase mission. Here, <code class="inline-code">LLM_REQUEST_TIMEOUT</code> governs external data retrieval timelines with a default value of 60 seconds, while the <code class="inline-code">REPOMIX_CACHE_TTL</code> and <code class="inline-code">MAX_FILE_SIZE_MB</code> parameters ensure the ship avoids memory overload by limiting cache lifetimes and file size thresholds. Together, these constants prevent disaster during interstellar code processing. Pay close attention to the <code class="inline-code">IGNORE_PATTERNS</code>, as they define areas bypassed during scans‚Äîessential for time-saving during resource-heavy expeditions.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Timeout for long-range memory (LLM) operations.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Cache time-to-live for frequently accessed data.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: File size limitations to preserve memory integrity.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Cosmic Theme Repository</h3>
<p>This file defines and manages the cosmic THEMES that add narrative dynamics to adventures. <code class="inline-code">THEMES</code> contains rich metadata, while utility functions like <code class="inline-code">getAllThemes</code> and <code class="inline-code">parseTheme</code> handle theme-specific input parsing and validation. The ship&#39;s user interface benefits from <code class="inline-code">formatThemeOption</code> to deliver a polished and engaging experience when listing themes. Exploration of this file unveils the algorithms that transform celestial themes into narrative-driven missions.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Central repository of available themes.</li>
<li><code class="inline-code">getAllThemes</code>: Retrieves the full list of themes in a systemized order.</li>
<li><code class="inline-code">parseTheme</code>: Parses user input and matches it to an appropriate theme.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Validation Defense Grid</h3>
<p>The <code class="inline-code">input-validator.ts</code> file ensures that every command given to the starship is securely validated. Here, <code class="inline-code">validateAdventureChoice</code> prevents erroneous or malicious mission selections, while <code class="inline-code">validateProjectPath</code> protects against invalid navigation paths. Moreover, <code class="inline-code">validateTheme</code> safeguards the theme-selection process by utilizing checks against <code class="inline-code">THEMES</code>. This essential safeguard guarantees that all crew actions adhere to the mission parameters without breaking the ship‚Äôs systems.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Validates the user‚Äôs choice of adventure.</li>
<li><code class="inline-code">validateTheme</code>: Ensures only valid themes are selected, leveraging the theme utilities.</li>
<li><code class="inline-code">validateProjectPath</code>: Validates directory paths for the adventure.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>Ensures that external requests involving memory or AI-driven operations are bounded and do not delay operations indefinitely.</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>Defines a time-to-live rule for storing intermediate results, ensuring resources are efficiently reused.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>Protects the system from memory overflow by enforcing a ceiling on file size during analysis.</p>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  ...
} as const;
</code></pre>
<p>A master directory containing theme definitions‚Äîeach categorized by unique identifiers, descriptions, and relevant keywords.</p>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}
</code></pre>
<p>Retrieves and maps all available THEMES to ensure seamless exploration.</p>
<pre><code class="language-typescript">export function parseTheme(input: string): AdventureTheme | null {
  ...
}
</code></pre>
<p>Processes user input to identify valid themes using key matching, ID validation, and keyword search.</p>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  return input.trim();
}
</code></pre>
<p>Ensures input choice validity‚Äîavoiding errors from blank or excessively long adventure selections.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  ...
}
</code></pre>
<p>Validates and normalizes user-selected themes, throwing errors when selections don‚Äôt align with defined THEMES.</p>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  ...
}
</code></pre>
<p>Checks paths for invalid characters or excessive lengths, defaulting to the current working directory when none is provided.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Start by observing how <code class="inline-code">validateTheme</code> aligns with theme data in <code class="inline-code">themes.ts</code>.</li>
<li>Test modifying <code class="inline-code">REPOMIX_CACHE_TTL</code> for faster or slower cache clearing in dynamic environments.</li>
<li>Experiment with <code class="inline-code">parseTheme</code> to understand how flexible the system is in interpreting user input patterns.</li>
</ul>
<hr>
<p>Cosmic systems operational, Captain! Your mission has been charted successfully‚Äîonward to the stars of the Repository Universe!</p>
<p>Stellar work, Commander‚ÄîQuest 4: Configuration &amp; Theme System is locked into orbit, propelling your mission through the cosmos at 60% completion‚Äîkeep pushing to ignite the final frontier! üöÄ‚≠êüì°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>