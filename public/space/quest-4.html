<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Configuring Stellar Parameters - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Starship Horizons: Adventures in Galactic Code</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Configuring Stellar Parameters</h1>
<hr>
<p>As the <em>Horizons</em> continues its cosmic journey, the crew must fine-tune the ship&#39;s configuration systems to ensure seamless navigation through the computational currents of the Code Nebula. This critical mission focuses on exploring how stellar parameters like timeouts, cache limits, and themes are calibrated to sustain interstellar decoding operations. Your task is to investigate the ship&#39;s configuration and theme systems, uncover their intricate workings, and improve their resilience against the cosmic forces that threaten data integrity. The galaxy awaits precision in every choice‚Äîdiscover the patterns that guide interstellar exploration.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Parameter Adjustment Patterns</strong>: How are timeouts and cache limits defined in the configuration system, and what mechanisms ensure their reliability for sustained exploration?</li>
<li>‚ö° <strong>Theme Navigation</strong>: What patterns emerge in the codebase that enable handling and validation of adventure themes, ensuring a cohesive experience for explorers?</li>
<li>üõ°Ô∏è <strong>Validation Safeguards</strong>: How does the system ensure safe and effective handling of user input, particularly when selecting themes or specifying project paths?</li>
</ul>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Core Configuration</h3>
<p>The <code class="inline-code">config.ts</code> file houses essential constants and parameters that shape the <em>Horizons&#39;</em> operations. This includes timeouts, cache settings, file size limits, and other modular configurations that ensure the starship&#39;s AI systems can process signals efficiently without overloading. The default values provided here are crucial in maintaining system stability across unpredictable cosmic terrains. Dynamic settings, like API keys and token limits, rely on environmental variables to adapt to mission-specific requirements. These parameters not only drive mission-critical operations but also set the boundaries within which the system safely operates.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Defines the duration for interstellar signal requests, ensuring stable data retrieval from remote sources.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Specifies the time-to-live for cached mission data, balancing resource usage and performance.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Enforces limits on file analysis to avoid unnecessary resource consumption.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Adventure Theme System</h3>
<p>The <code class="inline-code">theme.ts</code> file serves as the thematic cornerstone of the mission, containing definitions for all available themes. These themes not only add flavor to navigational choices but also guide explorers in understanding abstract concepts through a familiar lens. The file includes methods to parse, validate, and display themes, ensuring that user inputs align with predefined options. The <code class="inline-code">THEMES</code> object functions as a repository of theme metadata, while helper functions streamline the integration of themes into the starship&#39;s operations.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">getAllThemes</code>: Provides a concise list of all supported adventure themes in the system.</li>
<li><code class="inline-code">parseTheme</code>: Converts raw user input into structured theme data, leveraging keyword-based matching for flexibility.</li>
<li><code class="inline-code">validateTheme</code>: Ensures the selected theme is both valid and supported, safeguarding against thematic misconfigurations.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Input Validation Mechanisms</h3>
<p>The <code class="inline-code">input-validator.ts</code> file ensures safe handling of user input, protecting the ship&#39;s systems from invalid or harmful commands. It includes utility functions for validating adventure choices, themes, and project paths, as well as methods for sanitizing inputs for display. Every validation process demonstrates robust error-checking mechanisms to detect anomalies and guide users toward expected behavior.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Validates a user&#39;s adventure selection, imposing constraints on length and content.</li>
<li><code class="inline-code">validateTheme</code>: Normalizes and verifies selected themes against the system&#39;s definitions.</li>
<li><code class="inline-code">validateProjectPath</code>: Ensures the project path adheres to the starship&#39;s navigational requirements, maintaining operational readiness.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">// LLM-related configuration
export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds caching
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than 10MB for analysis
</code></pre>
<ul>
<li>The <code class="inline-code">LLM_REQUEST_TIMEOUT</code> controls the duration allowed for decoding signals, ensuring the system handles complex story computations efficiently.</li>
<li>The <code class="inline-code">REPOMIX_CACHE_TTL</code> balances the lifespan of cached data with memory resource management for enhanced system performance.</li>
<li>The <code class="inline-code">MAX_FILE_SIZE_MB</code> protects the mission infrastructure from becoming overwhelmed by oversized files, preserving exploration focus.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}

export function parseTheme(input: string): AdventureTheme | null {
  if (!input) return null;
  
  const normalized = input.trim().toLowerCase();
  const exactMatch = getThemeByKey(normalized);
  if (exactMatch) return exactMatch.key as AdventureTheme;
  
  const numericId = parseInt(normalized, 10);
  if (!isNaN(numericId)) {
    const byId = getThemeById(numericId);
    if (byId) return byId.key as AdventureTheme;
  }

  for (const theme of THEMES_ARRAY) {
    if (theme.keywords.some(keyword =&gt; normalized.includes(keyword.toLowerCase()))) {
      return theme.key as AdventureTheme;
    }
  }

  return null;
}

export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<ul>
<li><code class="inline-code">getAllThemes</code> centralizes theme data retrieval, offering explorers a clear reference to available adventure options.</li>
<li><code class="inline-code">parseTheme</code> showcases robust techniques for matching user input with predefined thematic structures, including keyword-based parsing.</li>
<li><code class="inline-code">validateTheme</code> integrates thorough error handling and normalization to ensure user input aligns with system expectations.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}

export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  
  if (input.length &gt; 500) {
    throw new Error(&#39;Project path too long (max 500 characters)&#39;);
  }
  
  if (input.includes(&#39;\0&#39;)) {
    throw new Error(&#39;Project path contains invalid characters&#39;);
  }
  
  return input.trim();
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<ul>
<li><code class="inline-code">validateAdventureChoice</code> imposes constraints on user selections, ensuring valid and feasible inputs for mission phases.</li>
<li><code class="inline-code">validateProjectPath</code> includes comprehensive checks for path validity, safeguarding against erroneous data entry.</li>
<li><code class="inline-code">sanitizeForDisplay</code> handles formatting for safe output, stripping potentially harmful characters to maintain data integrity.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Always review default values in configuration files‚Äîoptimizing these parameters directly affects mission outcomes and system performance.</li>
<li>Compare validation methods across files to understand the interplay between safety mechanisms and user input processing.</li>
<li>Explore theme definitions to uncover opportunities for customization and enhancements.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>Congratulations, Star Voyager! ‚ö° You‚Äôve charted stellar success in configuring celestial parameters, propelling your cosmic mission to a dazzling 60% completion‚Äîkeep shining as bright as the stars! üöÄ‚≠ê</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>