<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Galactic Configurator - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'space' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">Galactic Odyssey: The Codebase Chronicles</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Galactic Configurator</h1>
<hr>
<p>The AI Repository Nexus hums with electric potential, lighting up like a cosmic scatter of constellations as you embark on Quest 4: The Galactic Configurator. Your mission is critical — harness the configuration protocols to expand the universe of adventure by unlocking advanced narrative tools and refining user theme interactions. As you dive deep into the digital cosmos, every keystroke is a starlit map guiding you closer to mastering this interstellar repository engine. Prepare your instruments and calibrate your Repomix Engines; the stars are waiting.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Simplified Configuration for the Galactic System</h3>
<p>The <code class="inline-code">config.ts</code> file lays the foundation for managing environment variables and key settings crucial to the operation of the AI Repository Nexus. By configuring timeouts, API integrations, and memory limitations, it acts as the control panel for fine-tuning operations. Constants like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code> ensure that your exploration stays efficient and stable while maintaining secure contextual analysis. Additionally, tailored limits such as <code class="inline-code">MAX_FILE_SIZE_MB</code> prevent the galaxy’s systems from overloading when analyzing massive stars — or files. This structured configuration enables seamless storytelling and adventure generation workflows by balancing computational intensity and responsiveness across the Nexus.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code> ensures long-running API calls don&#39;t stall the mission.  </li>
<li><code class="inline-code">REPOMIX_MAX_BUFFER_SIZE</code> prevents memory exhaustion during analysis.  </li>
<li><code class="inline-code">IGNORE_PATTERNS</code> streamlines data analysis by skipping irrelevant cosmic debris.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Setting Stellar Narratives in Motion</h3>
<p>The <code class="inline-code">theme.ts</code> file defines the thematic orbit within which your interstellar adventures unfold. With a collection of pre-built themes like <code class="inline-code">SPACE</code>, <code class="inline-code">MYTHICAL</code>, and <code class="inline-code">CUSTOM</code>, it acts as the Nexus’ story generator — translating abstract input into dazzling quests. The <code class="inline-code">THEMES</code> constant holds critical attributes such as unique IDs, display names, and descriptive keywords to ensure that adventures adhere to consistent narrative patterns. Helper functions like <code class="inline-code">getAllThemes()</code> and <code class="inline-code">parseTheme()</code> facilitate user-friendly exploration, allowing your storycrafting tools to align perfectly with player input. Every configured detail ensures the stars align to create narratives tailored to cosmic explorers.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code> organizes built-in themes with display names, emojis, and rich descriptions.  </li>
<li><code class="inline-code">validateTheme()</code> ensures player choices are aligned with available themes.  </li>
<li><code class="inline-code">parseTheme(input)</code> enables intuitive pattern recognition based on keywords or numerical IDs.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Securing the Cosmic Path</h3>
<p>The <code class="inline-code">input-validator.ts</code> file acts as the galactic security checkpoint, safeguarding the repository against unvalidated inputs and potential obstacles. With methods like <code class="inline-code">validateAdventureChoice()</code> and <code class="inline-code">sanitizeForDisplay()</code>, it ensures that inputs are trimmed, sanitized, and ready for efficient navigation. For instance, <code class="inline-code">validateProjectPath()</code> guarantees that even when navigating uncharted systems, explorers can avoid dangerous pitfalls like null characters or unauthorized directories. By embedding clear error messaging and compact validation logic, this file keeps your journey smooth while minimizing risks amidst the data nebula.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice()</code> trims user input for precision and clarity.  </li>
<li><code class="inline-code">sanitizeForDisplay()</code> cleans up potential injection attacks and garbles.  </li>
<li><code class="inline-code">validateProjectPath(input)</code> supports explorers navigating their local systems safely.</li>
</ul>
<hr>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // Configurable via env
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues
export const IGNORE_PATTERNS = [ 
  &#39;node_modules&#39;, 
  &#39;.git&#39;, 
  &#39;dist&#39;, 
  &#39;build&#39;, 
  &#39;*.log&#39;, 
  &#39;.env&#39; 
] as const;
</code></pre>
<p>The file operates like a starship’s control panel, ensuring every configuration meets the needs of its interstellar mission without exceeding resource limitations.</p>
<hr>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = { 
  SPACE: { 
    id: 1, 
    key: &#39;space&#39;, 
    displayName: &#39;Space Exploration&#39;, 
    emoji: &#39;🚀&#39;, 
    description: &#39;Journey through cosmic codebases where data flows like stardust.&#39;, 
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;] 
  }, 
  CUSTOM: { 
    id: 5, 
    key: &#39;custom&#39;, 
    displayName: &#39;Custom Theme&#39;, 
    emoji: &#39;🎨&#39;, 
    description: &#39;Design your own adventure!&#39;, 
    keywords: [&#39;custom&#39;, &#39;personalized&#39;, &#39;unique&#39;] 
  } 
} as const;

export function validateTheme(input: string): string { 
  const normalized = input.toLowerCase().trim(); 
  const parsedTheme = parseTheme(normalized); 
  if (!parsedTheme) { 
    throw new Error(&#39;Invalid theme. Use: space, mythical, ancient...&#39;); 
  } 
  return parsedTheme; 
}
</code></pre>
<p>The theme definitions act as a constellation map, guiding explorers toward vibrant adventure universes.</p>
<hr>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string { 
  if (!input?.trim()) { 
    return process.cwd(); 
  } 
  if (input.includes(&#39;\0&#39;)) { 
    throw new Error(&#39;Invalid characters in project path&#39;); 
  } 
  return input.trim(); 
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string { 
  if (!input) return &#39;&#39;; 
  return input.replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;).trim().slice(0, maxLength); 
}
</code></pre>
<p>This file acts like a cosmic force field, shielding explorers from harmful anomalies in their digital navigation paths.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Ensure environment variables, such as <code class="inline-code">LLM_API_KEY</code>, are configured before initiating galactic adventures.  </li>
<li>Experiment with <code class="inline-code">CUSTOM</code> themes to personalize quests using keywords like &quot;creative&quot; and &quot;personalized.&quot;  </li>
<li>Dive deeper into <code class="inline-code">input-validator.ts</code> to strengthen file security measures for expansive repositories.</li>
</ul>
<hr>
<p>Mission Accomplished, Cosmic Navigator! You&#39;ve successfully calibrated the Galactic Configurator, charting 60% of your stellar journey—keep soaring among the stars! ⭐🚀⚡</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: The Thematic Nexus →</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>