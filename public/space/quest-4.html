<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Stellar Configuration Nexus - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Stellar Repository Exploration: A Space Adventure</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Stellar Configuration Nexus</h1>
<hr>
<p>The starship‚Äôs control systems are due for a critical upgrade as your mission takes you deeper into the Stellar Repository. On this leg of the journey, you arrive at the Stellar Configuration Nexus‚Äîa sector where alien technologies intertwine arcane configuration files and dynamic themes. Your crew is tasked with deciphering how these constructs stabilize the cosmic drift of the adventure engine. By investigating the foundational <code class="inline-code">config.ts</code>, <code class="inline-code">theme.ts</code>, and <code class="inline-code">input-validator.ts</code> files, you may unlock new ways to steer through the chaotic software nebula‚Äîand bring clarity to the chaos of unbound variables.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Temporal Constants Bridge</strong>: How do time-based settings like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code> enforce operational limits on core functions?</li>
<li>‚ö° <strong>Theme Orbit Calibration</strong>: How does the <code class="inline-code">parseTheme</code> function interpret user input, and what patterns ensure valid themes align with the <code class="inline-code">THEMES</code> definition?  </li>
<li>üõ°Ô∏è <strong>Input Stability Metrics</strong>: What safeguards are in place in <code class="inline-code">validateAdventureChoice</code> and <code class="inline-code">validateProjectPath</code> to prevent invalid user input from destabilizing the system?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration Parameters for the Starship</h3>
<p>The <code class="inline-code">config.ts</code> file is the central repository for essential constants governing system performance, including environment defaults, timeout thresholds, and memory allocations. Constants such as <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code> optimize starship performance by preventing resources from overextending. The file contains analysis limits like <code class="inline-code">MAX_FILE_SIZE_MB</code>, which ensures no single cosmic payload overwhelms the system, and directory scanning constraints via <code class="inline-code">IGNORE_PATTERNS</code>.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Determines request timeout to prevent prolonged API calls.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Cache expiration configuration for content regeneration.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Ensures only manageable files are processed.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>This ensures timeouts for interstellar LLM requests, optimizing long-distance communications within the galaxy.</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>This manages cache lifecycle for maintaining temporal stability during frequent exploration sessions.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>This filter functions like a weight limit on data packets, preventing systemic overload.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Thematic Mapping of the Starship&#39;s Cosmic Ventures</h3>
<p>The <code class="inline-code">theme.ts</code> file defines and manages themes for the starship&#39;s interface and narrative settings. It includes the <code class="inline-code">THEMES</code> dictionary, which provides static properties for each theme, and dynamic utilities like <code class="inline-code">parseTheme</code> and <code class="inline-code">isValidTheme</code>. These functions decode user preferences while enforcing alignment with predefined options, ensuring accurate course corrections.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Central theme definitions, including identifiers, descriptions, and keywords.</li>
<li><code class="inline-code">parseTheme</code>: Input handling logic to map raw data into valid themes.</li>
<li><code class="inline-code">isValidTheme</code>: Type-safe validation of themes using lightweight checks.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust...&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  ... // Other themes omitted for brevity
} as const;
</code></pre>
<p>This acts as an intergalactic manifest for all available narrative routes and systems onboard.</p>
<pre><code class="language-typescript">export function parseTheme(input: string): AdventureTheme | null {
  if (!input) return null;
  const normalized = input.trim().toLowerCase();
  const exactMatch = getThemeByKey(normalized);
  if (exactMatch) return exactMatch.key as AdventureTheme;  
  ... // Additional logic for ID and keyword matching
  return null;
}
</code></pre>
<p>This utility function acts as the starship&#39;s translator, interpreting alien inputs for thematic alignment with set routes.</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>This ensures all chosen coordinates abide by known celestial routes‚Äîpreventing navigation errors.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Ensuring User Input Does Not Derail Cosmic Navigation</h3>
<p>Focused on input validation, this file guarantees stability during user interaction. The <code class="inline-code">validateAdventureChoice</code> and <code class="inline-code">validateProjectPath</code> functions handle string sanitization and error reporting, while <code class="inline-code">sanitizeForDisplay</code> cleans unnecessary artifacts, contributing to reliable command inputs.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Validates and normalizes user input for adventure selection.</li>
<li><code class="inline-code">validateProjectPath</code>: Ensures provided paths fall within acceptable formats.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Strips risky characters from inputs for safe user display.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  return input.trim();
}
</code></pre>
<p>This function secures the adventure-selector panel, sanitizing commands to avoid destabilizing inputs.</p>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  if (input.length &gt; 500) {
    throw new Error(&#39;Project path too long (max 500 characters)&#39;);
  }
  if (input.includes(&#39;\0&#39;)) {
    throw new Error(&#39;Project path contains invalid characters&#39;);
  }
  return input.trim();
}
</code></pre>
<p>This ensures navigation systems are locked onto valid directories, rejecting malformed coordinates.</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  return input.replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;).replace(/\s+/g, &#39; &#39;).trim().slice(0, maxLength);
}
</code></pre>
<p>Helps ensure messages presented to the crew are both clean and concise, stripping extraneous noise.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Use the <code class="inline-code">THEMES</code> object as a definitive guide to narrative options aboard the starship.</li>
<li>Focus on error messages in validators to better understand handling mechanisms.</li>
<li>Run experiments with timeout constants to test performance limits and stability.</li>
</ul>
<hr>
<p>Having successfully navigated the Stellar Configuration Nexus, new starship functionalities unfold. Your exploration team now possesses a deeper understanding of how configurations, themes, and validation converge within the adventure system. Onward to the next cosmic challenge!</p>
<p>Mission accomplished, stellar navigator! You&#39;ve expertly plotted the Nexus, securing 60% completion of your cosmic journey‚Äîkeep shining bright as you rocket toward the final frontier! ‚≠êüöÄ‚ö°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>