<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Nebula Configuration Core - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Adventures: The Codex of the Stellar Repository</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Nebula Configuration Core</h1>
<hr>
<p>As <em>The Quantum Voyager</em> orbits the Stellar Repository, Galactic Command sends an urgent directive: anomalies ripple through the Nebula Configuration Core, destabilizing critical systems. Vital adjustments to the repository’s cosmic infrastructure are malfunctioning due to errors deep within its configuration layers. Your mission is clear: delve into the core&#39;s intricate systems, decipher its themes, and recalibrate its neural pathways to align with the repository&#39;s stellar governance protocols. The galaxy’s stability depends upon restoring balance to the configuration matrix.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Input Validation for Galactic Systems</h3>
<p>The <code class="inline-code">input-validator.ts</code> file contains a suite of key functions designed to ensure that user inputs align with the expected parameters for managing the Nebula Configuration Core. Functions such as <code class="inline-code">validateAdventureChoice</code> and <code class="inline-code">validateTheme</code> prevent invalid data from entering the system, which is essential for maintaining the integrity of galactic communications. These validation mechanisms safeguard core processes from corruption and ensure a stable user interface within the Stellar Repository. Proper sanitization of inputs mitigates risks from anomalous data or unexpected edge cases.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Ensures quest options meet length and format requirements.</li>
<li><code class="inline-code">validateTheme</code>: Verifies themes against pre-defined cosmic categories.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Converts raw input into a safe, display-ready form.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>This function acts as a safeguard to ensure starship navigators input valid quest directives.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>This method ensures starship crews pick valid galactic exploration contexts.</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>Sanitizing raw user inputs ensures they are ready for cosmic report displays.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Galactic Theming Matrix</h3>
<p>The <code class="inline-code">theme.ts</code> file defines the thematic structure of the Nebula Configuration Core, determining the vibrancy and consistency of the missions. It introduces robust theme definitions along with functions to handle validation, parsing, and formatting. The file&#39;s <code class="inline-code">THEMES</code> map outlines core galactic categories like &quot;space&quot; or &quot;mythical.&quot; With functions like <code class="inline-code">getAllThemes</code> and <code class="inline-code">isValidTheme</code>, themes are verified against system-predefined configurations. This file is instrumental for customizing adventures while keeping themes aligned with universal protocols.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Enumerates allowable galactic theme definitions.</li>
<li><code class="inline-code">isValidTheme</code>: Confirms theme compatibility with repository standards.</li>
<li><code class="inline-code">parseTheme</code>: Performs flexible theme parsing to accommodate user inputs.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;🚀&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
};
</code></pre>
<p>This map serves as the foundation for defining galactic mission categories.</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>Verifying themes ensures consistency across the Stellar Repository&#39;s configuration.</p>
<pre><code class="language-typescript">export function parseTheme(input: string): AdventureTheme | null {
  const normalized = input.trim().toLowerCase();
  
  const exactMatch = getThemeByKey(normalized);
  if (exactMatch) return exactMatch.key as AdventureTheme;
  
  return null;
}
</code></pre>
<p>This parsing function flexibly aligns starship inputs with known galactic themes.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Repository&#39;s Core Settings</h3>
<p>The <code class="inline-code">config.ts</code> file centralizes the repository&#39;s operational settings. From environment variables to timeout configurations, this file ensures the Nebula Configuration Core operates within optimal parameters. Constants like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">MAX_FILE_SIZE_MB</code> dictate system-wide limits, while theme-related variables, such as <code class="inline-code">DEFAULT_THEME</code>, set initial parameters for cosmic exploration. This file provides the foundation for a stable and predictable configuration framework.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Default maximum latency for AI responses.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Ensures compatibility by filtering oversized data files.</li>
<li><code class="inline-code">DEFAULT_THEME</code>: Establishes the starting configuration for galactic missions.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>The interstellar communication delay is capped to prevent system overload.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>This limit guarantees that file sizes remain manageable during stellar analysis.</p>
<pre><code class="language-typescript">export const DEFAULT_THEME = &#39;space&#39; as const;
</code></pre>
<p>The default &quot;space&quot; theme ensures initial missions align with core galactic narratives.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li><strong>Validation best practices</strong>: Double-check user inputs during quest configuration to avoid invalid states.</li>
<li><strong>Robust themes</strong>: Incorporate keywords to handle fuzzy matches and maintain theme flexibility.</li>
<li><strong>Timeout settings</strong>: Optimize timeout values based on mission complexity and repository load.</li>
</ul>
<hr>
<p>With the Nebula Configuration Core repaired, cosmic harmony begins to return to the Stellar Repository. Prepare to recalibrate the next layer of this vital galactic infrastructure, brave explorer!</p>
<p>Mission accomplished, Star Navigator! With the Nebula Configuration Core locked and calibrated, you&#39;re powering through the cosmos at warp speed—60% complete and stellar brilliance ahead! ⭐🚀⚡</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: The Cosmic Utility Vault →</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>