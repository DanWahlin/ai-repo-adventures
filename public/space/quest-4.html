<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Nebula Configuration & Theme Matrix - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Repository Adventures</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Nebula Configuration &amp; Theme Matrix</h1>
<hr>
<p>In the uncharted Cosmic Codebase Drawer, a critical stage of the Repository Voyager activation hinges on stabilizing its Nebula Configuration and unlocking the Theme Matrix. These celestial modules intertwine code clarity with the galactic themes that will guide interstellar exploration. You, the Astronaut-Coder, must dive deep into the core configuration files and theme systems, decrypt their logic, and ensure harmony in the gridlock of cosmic directives. Will your skills align with the Voyager&#39;s navigational path to infinity?</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üåå <strong>Orbital Calibration</strong>: How are timeout values structured to ensure cosmic tasks execute within realistic windows?  </li>
<li>üõ∞Ô∏è <strong>Theme Synchronization</strong>: What patterns drive theme definitions and validations to maintain intergalactic cohesion?  </li>
<li>üõ°Ô∏è <strong>Protective Layers</strong>: How is input validated and sanitized to prevent disruptions in the Repository Voyager&#39;s systems?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration constants for navigation modules</h3>
<p>The <code class="inline-code">config.ts</code> file provides the foundation for managing galactic constants, such as timeouts and adventure-related limits. With a focus on simplicity and direct implementation, it defines critical parameters powering the Repository Voyager&#39;s logical subsystems. Take note of timeout values that keep operations smooth across vast cosmic scales and error-handling configurations ensuring resilience in intergalactic mission management.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code> for controlling AI query windows</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code> for caching mechanisms reducing redundant requests</li>
<li><code class="inline-code">IGNORE_PATTERNS</code> for directory exclusions essential for system focus</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Galactic theme integration and management</h3>
<p>The <code class="inline-code">theme.ts</code> file acts as the repository&#39;s Theme Matrix, defining and validating the galactic aesthetics that align explorations with cosmic beauty. By analyzing how themes are structured, queried, and validated through helper functions like <code class="inline-code">getThemeByKey</code> and <code class="inline-code">validateTheme</code>, you&#39;ll uncover consistent patterns driving user interaction and system integrity across thematic parameters.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code> mapping galactic presets for adventure generation</li>
<li><code class="inline-code">parseTheme</code> defining the logic for user-input normalization</li>
<li><code class="inline-code">isValidTheme</code> employing type guards for protected theme validation</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Ensuring stable system inputs</h3>
<p>The <code class="inline-code">input-validator.ts</code> reinforces the Repository Voyager&#39;s systems by sanitizing and validating user-provided information. With functions like <code class="inline-code">validateAdventureChoice</code> and <code class="inline-code">sanitizeForDisplay</code>, it ensures errors and anomalies are identified before impacting Voyager&#39;s mission-critical operations.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code> enforcing string input requirements</li>
<li><code class="inline-code">validateProjectPath</code> managing path-related security measures</li>
<li><code class="inline-code">sanitizeForDisplay</code> filtering user input for safe system display</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for large prompts
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds
export const IGNORE_PATTERNS = [
  &#39;node_modules&#39;,
  &#39;.git&#39;,
  &#39;dist&#39;,
  &#39;build&#39;,
  &#39;*.log&#39;,
] as const;
</code></pre>
<p>Think of these constants as celestial markers on a star map, ensuring Voyager navigates smoothly across cosmic data structures.</p>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases...&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;]
  },
  DEVELOPER: {
    id: 4,
    key: &#39;developer&#39;,
    displayName: &#39;Developer Documentation&#39;,
    emoji: &#39;üìñ&#39;,
    description: &#39;Technical explanations...&#39;,
    keywords: [&#39;developer&#39;, &#39;code&#39;, &#39;debug&#39;]
  }
} as const;

export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}

export function parseTheme(input: string): AdventureTheme | null {
  const normalized = input.trim().toLowerCase();
  return getThemeByKey(normalized)?.key || null;
}
</code></pre>
<p>Themes are Voyager&#39;s guiding constellations, translating user input into stellar adventure styles.</p>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) throw new Error(&#39;Choice is required&#39;);
  if (input.length &gt; 200) throw new Error(&#39;Choice too long&#39;);
  return input.trim();
}

export function validateProjectPath(input?: string): string {
  if (!input?.trim()) return process.cwd();
  if (input.includes(&#39;\0&#39;)) throw new Error(&#39;Project path contains invalid characters&#39;);
  return input.trim();
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  return input.replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;).trim().slice(0, maxLength);
}
</code></pre>
<p>These routines are the safety shields of Voyager&#39;s systems, ensuring input integrity amidst galactic turbulence.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Use <code class="inline-code">IGNORE_PATTERNS</code> to exclude irrelevant directories during code scans.</li>
<li>Validate adventure choices early to streamline mission preparation.</li>
<li>Themes act as navigational overlays‚Äîensure they sync with the overarching Repository Voyager narrative.</li>
</ul>
<hr>
<p>The nebula glows brighter as you align Voyager&#39;s systems with precision and purpose. Adventure awaits! üöÄ</p>
<p>Mission accomplished, Star Voyager‚ÄîQuest 4&#39;s Nebula Configuration &amp; Theme Matrix is locked in and blazing like a supernova; you&#39;re propelling at warp speed through the cosmic milestones‚Äîkeep shining brightly among the stars! ‚≠êüöÄ‚ö°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>