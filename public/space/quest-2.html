<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 2: Stellar Quest Generator - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Cosmic Code Chronicles</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 2: Stellar Quest Generator</h1>
<hr>
<p>In the vast expanse of the Nebula of Repositories, the starship <em>Code Explorer</em> encounters a subspace anomaly containing fragmented star maps across alien code repositories. The crew&#39;s new mission focuses on using the <em>Stellar Quest Generator</em> to uncover hidden pathways by analyzing encrypted lines of code and transmitting coherent narratives back to central command. As the crew navigates through orbital clusters, they must deploy specialized tools to decode data, chart navigational routes, and cross interstellar themes safeguarding valuable cargo for intergalactic insights.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/adventure/story-generator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/adventure/story-generator.ts</code></a>: Quest creation mechanics and story synthesis</h3>
<p>The <em>Stellar Quest Generator</em> starts by initializing quests through complex AI-driven logic captured within this file. It focuses on parsing response content using markdown and creating structured quests for meaningful exploration. This file showcases how both overarching narratives and specific quest content are constructed from project data and LLM responses. <code class="inline-code">StoryGenerator</code> acts as the core constructor that integrates user-defined themes and dynamically adjusts content based on selected adventure contexts.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">StoryGenerator.generateStoryAndQuests</code>: Establish intergalactic quests from project analysis.  </li>
<li><code class="inline-code">StoryGenerator.generateQuestContent</code>: Create thematic exploration outputs for crew missions.  </li>
<li><code class="inline-code">parseMarkdownToStoryResponse</code>: Parse stellar markdown into defined quest structures.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/adventure/story-generator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/adventure/story-generator.ts</code></a></h3>
<pre><code class="language-typescript">async generateStoryAndQuests(projectInfo: ProjectInfo, theme: AdventureTheme, projectPath?: string): Promise&lt;StoryResponse&gt; {
  const validatedTheme = this.validateTheme(theme);
  return await this.generateWithLLM(projectInfo, validatedTheme);
}
</code></pre>
<p>Think of this function as launching a starship with an adaptive AI system to compile mission objectives based on the galaxy&#39;s terrain (project files).</p>
<pre><code class="language-typescript">async generateQuestContent(quest: Quest, theme: AdventureTheme, codeContent: string): Promise&lt;QuestContent&gt; {
  const prompt = loadQuestContentPrompt({
    theme,
    adventureTitle: quest.title,
    codeContent,
    storyContent: this.currentStoryContent || &#39;No story context available.&#39;,
    ...(this.customThemeData &amp;&amp; { customThemeData: this.customThemeData })
  });
  const response = await this.withTimeout(
    this.llmClient.generateResponse(prompt, { maxTokens: LLM_MAX_TOKENS_QUEST })
  );
  return {
    adventure: response.content.trim(),
    fileExploration: &#39;&#39;,
    codeSnippets: [],
    hints: []
  };
}
</code></pre>
<p>This function operates like a galaxy navigator honing in on specific stars (functions/files), generating exploration routes tailored to theme-specific objectives.</p>
<pre><code class="language-typescript">function parseMarkdownToStoryResponse(markdownContent: string): StoryResponse {
  const tokens = marked.lexer(markdownContent);
  let title = &#39;&#39;;
  let story = &#39;&#39;;
  const quests: Quest[] = [];
  tokens.forEach(token =&gt; {
    if (token.type === &#39;heading&#39; &amp;&amp; token.depth === 1) title = token.text;
    if (token.type === &#39;paragraph&#39; &amp;&amp; !title) story += token.text + &#39;\n&#39;;
  });
  return { title, story, quests };
}
</code></pre>
<p>This parser acts like an antenna translating signal patterns (markdown tokens) to streamlined linguistic instructions for intergalactic plotting.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Use <em>generateQuestContent</em> to translate complex, encrypted code signals into digestible mission briefs.</li>
<li>Experiment with custom themes during outer space explorations!  </li>
<li>Modify markdown structures to reflect mission needs directly.</li>
</ul>
<hr>
<p>Keep exploring the stars, adventurer! More quests await as the galaxy unfolds its mysteries.</p>
<p>You‚Äôve successfully launched Quest 2: Stellar Quest Generator into cosmic orbit‚Äîkeep fueling your starship with determination as you chart your course across the galaxy, ‚≠êüöÄ!</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-1.html" class="prev-quest-btn">‚Üê Previous: Quest 1: Galactic Interface Op...</a>
        <a href="quest-3.html" class="next-quest-btn">Next: Quest 3: Neural Navigators & D... ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>