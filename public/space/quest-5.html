<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: Galactic Utility Module - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Stellar Repository Exploration: A Space Adventure</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: Galactic Utility Module</h1>
<hr>
<p>The starship, <strong>Stellar Repository</strong>, rockets toward the next phase of its voyage. After successfully parsing alien data to power galactic navigation, your team receives a new directive: unlock the <strong>Galactic Utility Module</strong>, a crucial system designed to enhance operational efficiency. This mission takes you to the core configuration files of the ship‚Äôs command network, where understanding the modular utilities that fuel mission control is paramount. The systems seem dormant, but are they merely waiting for the right input? It&#39;s time to investigate the alien code&#39;s deeper patterns and integrate the wisdom it offers.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Config Scanner</strong>: How does the <code class="inline-code">loadAdventureConfig</code> function ensure proper file handling for the starship‚Äôs configuration files?</li>
<li>‚ö° <strong>Path Discovery Protocol</strong>: What strategies does the <code class="inline-code">extractUniqueFilePaths</code> function use to traverse and validate references within the system‚Äôs configuration hierarchy?</li>
<li>üõ°Ô∏è <strong>Error Containment Shield</strong>: How does the <code class="inline-code">parseAdventureConfig</code> function mitigate potential risks during JSON parsing?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/adventure-config.ts:</span> Galactic Configuration Loader</h3>
<p>This file functions as a bridge between the Stellar Repository&#39;s runtime systems and the adventure configuration files. It is responsible for managing core functionalities like loading configuration files, parsing their contents into usable objects, and extracting file paths referenced within the configuration. These operations ensure that the <strong>Galactic Utility Module</strong> operates with accurate, validated, and up-to-date data to guide the ship.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadAdventureConfig</code>: Checks for the presence of a configuration file and loads its contents as raw text without parsing.</li>
<li><code class="inline-code">parseAdventureConfig</code>: Parses raw configuration JSON and catches errors to avoid destabilizing cosmic workflows.</li>
<li><code class="inline-code">extractUniqueFilePaths</code>: Recursively processes configuration data to identify all valid, unique file paths referenced.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/adventure-config.ts</h3>
<pre><code class="language-typescript">export function loadAdventureConfig(projectPath: string): string | null {
  const configPath = path.join(projectPath, ADVENTURE_CONFIG_FILE);
  return readFileIfExists(configPath);
}
</code></pre>
<p>This function is like a deep space probe, ensuring that the configuration file exists and retrieving its raw contents without risking a crash upon failure.</p>
<pre><code class="language-typescript">export function parseAdventureConfig(projectPath: string): unknown | null {
  const raw = loadAdventureConfig(projectPath);
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
</code></pre>
<p>Here, a JSON-parsing failsafe operates like a cosmic error-detection shield, ensuring invalid data never destabilizes the Stellar Repository&#39;s codebase.</p>
<pre><code class="language-typescript">export function extractUniqueFilePaths(projectPath: string): string[] {
  const parsed = parseAdventureConfig(projectPath);
  if (!parsed || typeof parsed !== &#39;object&#39;) return [];

  const unique = new Set&lt;string&gt;();
  const stack: any[] = [parsed];

  while (stack.length) {
    const node = stack.pop();
    if (!node || typeof node !== &#39;object&#39;) continue;

    if (typeof node.path === &#39;string&#39; &amp;&amp; node.path.trim()) {
      const rel = node.path.trim();
      if (fs.existsSync(path.resolve(projectPath, rel))) {
        unique.add(rel);
      }
    }

    const children = Array.isArray(node) ? node : Object.values(node);
    children.forEach(child =&gt; {
      if (child &amp;&amp; typeof child === &#39;object&#39;) stack.push(child);
    });
  }

  return Array.from(unique);
}
</code></pre>
<p>This recursive pathfinder embodies the spirit of exploration, traversing nodes with diligence and extracting only valid paths to ensure integrity within the config module.</p>
<h2>Helpful Hints</h2>
<ul>
<li><strong>File Handling</strong>: Use the <code class="inline-code">loadAdventureConfig</code> function as the starting point to diagnose file-related issues in the system.</li>
<li><strong>Recursive Patterns</strong>: Study <code class="inline-code">extractUniqueFilePaths</code> for examples of depth-first search implemented practically in configuration files.</li>
<li><strong>Error Management</strong>: Leverage insights from <code class="inline-code">parseAdventureConfig</code> to implement graceful error handling when working with external data.</li>
</ul>
<hr>
<p>Your investigation has illuminated the Galactic Utility Module! With these systems unlocked, the <strong>Stellar Repository</strong> gains unparalleled operational efficiency. Return to the mission console for your next objective!</p>
<p>Mission accomplished, cosmic cadet‚ÄîQuest 5: Galactic Utility Module securely docked into the starship of your knowledge; your trajectory to 100% completion is blazing brighter than a supernova! üöÄ‚≠ê‚ú®</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4</a>
        <a href="index.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>