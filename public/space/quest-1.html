<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 1: Navigating the Stellar Site Builder - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-space">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">Cosmic Chronicles: The Codebase Expedition</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: Navigating the Stellar Site Builder</h1>
<hr>
<p>Aboard the starship Codebreaker, your crew embarks on a daring mission within the cosmic expanse of the Stellar Site Builder module. This critical system holds the power to transform lifeless codebases into vibrant, interactive adventure experiences. As you chart the pathways through its logic cores, you&#39;ll uncover how to generate themed HTML pages, manage essential assets, and render dynamic templates for quests that will stretch across galaxies. The success of this mission will illuminate the full potential of digital exploration for generations of interstellar travelers.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:  </p>
<ul>
<li>üîç <strong>Template Rigging</strong>: How does the <code class="inline-code">TemplateEngine</code> efficiently load and replace placeholders within templates?  </li>
<li>‚ö° <strong>Mission Integration</strong>: What are the step-by-step processes in <code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> that ensure successful quest generation?  </li>
<li>üõ°Ô∏è <strong>Resource Allocation</strong>: How does the <code class="inline-code">AssetManager.copyGlobalAssets</code> ensure shared resources are handled safely across different themes?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/template-engine.ts:</span> Dynamic template processing logic</h3>
<p>This file contains the <code class="inline-code">TemplateEngine</code> class, responsible for loading HTML templates, caching them for performance, and replacing placeholders with dynamic variables. It is the bridge between static assets and content-rich, real-time generated pages.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">constructor</code>: Initializes the engine and sets the default <code class="inline-code">templatesDir</code> path. A cornerstone for centralized file operations.  </li>
<li><code class="inline-code">loadTemplate</code>: Reads template files from the directory, leveraging caching to avoid redundant loading. Critical for efficient resource handling.  </li>
<li><code class="inline-code">replacePlaceholders</code>: A utility to replace dynamic placeholders (e.g., <code class="inline-code">{{key}}</code>) in templates. Ensures content customization across various themes.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/template-engine.ts</h3>
<pre><code class="language-typescript">constructor() {
  const __dirname = path.dirname(new URL(import.meta.url).pathname);
  this.templatesDir = path.join(__dirname, &#39;templates&#39;);
}
</code></pre>
<ul>
<li>Initializes the <code class="inline-code">TemplateEngine</code> to operate within the <code class="inline-code">templates</code> directory.</li>
<li>Uses <code class="inline-code">path</code> utilities to ensure compatibility across environments.</li>
<li>Provides a scalable foundation for organizing and accessing templates.</li>
</ul>
<hr>
<pre><code class="language-typescript">private loadTemplate(templateName: string): string {
  if (this.templateCache.has(templateName)) {
    return this.templateCache.get(templateName)!;
  }

  const templatePath = path.join(this.templatesDir, templateName);
  
  try {
    const content = fs.readFileSync(templatePath, &#39;utf-8&#39;);
    this.templateCache.set(templateName, content);
    return content;
  } catch (error) {
    throw new Error(`Failed to load template ${templateName}: ${error}`);
  }
}
</code></pre>
<ul>
<li>Utilizes caching to minimize redundant file reads, improving performance.</li>
<li>Handles file reading errors gracefully, preserving system stability.</li>
<li>Dynamically constructs paths, ensuring flexibility for varying template names.</li>
</ul>
<hr>
<pre><code class="language-typescript">private replacePlaceholders(template: string, variables: TemplateVariables): string {
  let result = template;
  
  for (const [key, value] of Object.entries(variables)) {
    const placeholder = `{{${key}}}`;
    result = result.replace(new RegExp(placeholder, &#39;g&#39;), value || &#39;&#39;);
  }
  
  return result;
}
</code></pre>
<ul>
<li>Simplifies the process of content personalization within templates.</li>
<li>Relies on regular expressions to dynamically replace multiple placeholders.</li>
<li>Supports fallback to ensure empty variables don‚Äôt disrupt rendering.</li>
</ul>
<hr>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/html-generator.ts:</span> The quest generation engine</h3>
<p>The <code class="inline-code">HTMLAdventureGenerator</code> class orchestrates the process of analyzing repository data, rendering dynamic pages, and managing user-selected themes to create an interactive quest experience.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">generateAdventure</code>: The mission-critical process that analyzes a repository, renders templates, and generates output.  </li>
<li><code class="inline-code">generateAllThemes</code>: Handles parallelized generation of multiple adventure themes for a unified output directory.  </li>
<li><code class="inline-code">buildQuestHTML</code>: Assembles content into a complete quest page, including navigation links between chapters.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/html-generator.ts</h3>
<pre><code class="language-typescript">async start(): Promise&lt;void&gt; {
  console.clear();
  console.log(chalk.bgBlue.white.bold(&#39; üåü AI Repo Adventures HTML Generator üåü &#39;));
  console.log(chalk.dim(&#39;‚îÄ&#39;.repeat(50)));

  try {
    await this.selectTheme();
    await this.selectOutputDirectory();
    await this.generateAdventure();
      
    console.log(chalk.green.bold(&#39;üéâ Adventure website generated successfully!&#39;));
  } catch (error) {
    console.error(chalk.red(&#39;‚ùå Error generating adventure:&#39;), error);
  }

  this.rl.close();
  process.exit(0);
}
</code></pre>
<ul>
<li>Initializes the generator through a clear CLI interface.</li>
<li>Points users to key decision areas like theme selection and directory setup.</li>
<li>Provides robust error handling to ensure graceful termination on failures.</li>
</ul>
<hr>
<pre><code class="language-typescript">async generateAdventure(): Promise&lt;void&gt; {
  console.log(chalk.yellow.bold(&#39;üöÄ Generating Adventure...&#39;));
  const storyContent = await this.adventureManager.initializeAdventure(
    projectInfo, 
    this.selectedTheme, 
    this.projectPath,
    this.customThemeData
  );

  this.extractQuestInfo();
  await this.generateQuestPages();
}
</code></pre>
<ul>
<li>Manages the lifecycle for adventure generation, combining backend data analysis with frontend page creation.</li>
<li>Calls necessary methods to initialize storytelling and prepare quest data for processing.</li>
<li>Keeps the pipeline modular, supporting clear debugging and feature scalability.</li>
</ul>
<hr>
<pre><code class="language-typescript">private buildQuestHTML(quest: QuestInfo, content: string, questIndex: number): string {
  const variables = {
    ...this.getCommonTemplateVariables(),
    QUEST_CONTENT: this.formatMarkdown(content),
  };

  return this.templateEngine.renderPage(&#39;quest-template.html&#39;, variables);
}
</code></pre>
<ul>
<li>Renders a singular quest page by assembling content variables into the respective <code class="inline-code">quest-template.html</code> file.</li>
<li>Ensures modular flexibility by relying on upstream components like <code class="inline-code">TemplateEngine</code> for reusable patterns.</li>
<li>Converts markdown quest content into polished HTML for seamless user experiences.</li>
</ul>
<hr>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/asset-manager.ts:</span> Resource handler for assets</h3>
<p>The <code class="inline-code">AssetManager</code> class ensures the safe handling of assets like images, CSS, and shared resources. It supports multi-theme and shared asset configurations, laying the foundation for consistent user experiences.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">copyGlobalAssets</code>: Copies shared resources (e.g., images, icons, and theme toggles) into the root directory for streamlined access.  </li>
<li><code class="inline-code">copyQuestNavigator</code>: Manages quest-specific navigational styling and scripting for a smooth user flow.  </li>
<li><code class="inline-code">copyImages</code>: Handles the efficient organization and movement of theme and shared assets to reduce redundancy.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/asset-manager.ts</h3>
<pre><code class="language-typescript">copyGlobalAssets(outputDir: string): void {
  const globalAssetsDir = path.join(outputDir, &#39;assets&#39;);
  const targetImagesDir = path.join(globalAssetsDir, &#39;images&#39;);
  fs.mkdirSync(targetImagesDir, { recursive: true });

  const headerImageSource = path.join(this.sourceDir, &#39;assets&#39;, &#39;images&#39;, &#39;ai-adventures.png&#39;);
  const headerImageTarget = path.join(targetImagesDir, &#39;ai-adventures.png&#39;);
  if (fs.existsSync(headerImageSource)) {
    fs.copyFileSync(headerImageSource, headerImageTarget);
  }
}
</code></pre>
<ul>
<li>Ensures global assets (like header images) are copied with directory integrity preserved.</li>
<li>Supports redundancy elimination by checking file existence before operations.</li>
<li>Maintains directory structure consistency for clear debugging.</li>
</ul>
<hr>
<pre><code class="language-typescript">copyQuestNavigator(outputDir: string): void {
  const assetsDir = path.join(outputDir, &#39;assets&#39;);
  fs.mkdirSync(assetsDir, { recursive: true });

  const cssSource = path.join(this.sourceDir, &#39;templates&#39;, &#39;quest-navigator.css&#39;);
  const jsSource = path.join(this.sourceDir, &#39;templates&#39;, &#39;quest-navigator.js&#39;);
  if (fs.existsSync(cssSource)) {
    fs.copyFileSync(cssSource, path.join(assetsDir, &#39;quest-navigator.css&#39;));
  }
  if (fs.existsSync(jsSource)) {
    fs.copyFileSync(jsSource, path.join(assetsDir, &#39;quest-navigator.js&#39;));
  }
}
</code></pre>
<ul>
<li>Copies navigation-related styling and scripts to enable fluid movement through quest pages.</li>
<li>Uses relative paths to ensure portability across different directories.</li>
<li>Prioritizes minimal coupling with other asset management logic for modularity.</li>
</ul>
<hr>
<pre><code class="language-typescript">copyImages(outputDir: string, isMultiTheme: boolean = false): void {
  const sourceImagesDir = path.join(this.sourceDir, &#39;assets&#39;, &#39;images&#39;);
  const targetImagesDir = path.join(outputDir, &#39;assets&#39;, &#39;images&#39;);
  fs.mkdirSync(targetImagesDir, { recursive: true });

  if (fs.existsSync(sourceImagesDir)) {
    const imageFiles = fs.readdirSync(sourceImagesDir);
    imageFiles.forEach(file =&gt; {
      const sourcePath = path.join(sourceImagesDir, file);
      const targetPath = path.join(targetImagesDir, file);
      fs.copyFileSync(sourcePath, targetPath);
    });
  }
}
</code></pre>
<ul>
<li>Handles the core task of copying images, supporting multi-theme abstraction.</li>
<li>Incorporates essential directory creation to avoid runtime errors.</li>
<li>Ensures processing scales even with large volumes of asset files.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li><strong>Performance Tip</strong>: Use caching mechanisms like <code class="inline-code">templateCache</code> to reduce redundant I/O operations.  </li>
<li><strong>Focus Path</strong>: Start by understanding <code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> for insight into the pipeline.  </li>
<li><strong>Log Observations</strong>: Debug warnings in <code class="inline-code">AssetManager</code> for cases where files are skipped.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>Congratulations, cadet! You&#39;ve successfully launched into orbit by mastering the Stellar Site Builder, setting course for a cosmic journey through the vast galaxy of web creation‚Äîkeep powering forward like a blazing comet! üöÄ‚ö°‚≠ê</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>