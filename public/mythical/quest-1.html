<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 1: The Mystic Forge of HTML - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-mythical">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Enchanted Chronicles of the Codebase</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: The Mystic Forge of HTML</h1>
<hr>
<p>Through the fog of Codethia‚Äôs towering libraries lies the Mystic Forge, where the kingdom‚Äôs ethereal stories are woven into digital tomes. This forge is no ordinary artifact‚Äîit houses the enchanted scripts and sacred spells powering Codethia‚Äôs web of interconnected knowledge. Brave adventurer, your task is to harness the arcane codes of the <code class="inline-code">HTML Generator</code>, the <code class="inline-code">Template Engine</code>, and the <code class="inline-code">Asset Manager</code>. Within these scrolls lies the key to crafting immersive tales and orchestrating magical assets. Will you unlock the knowledge of the forge and rise to glory?</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Arcane Assembly</strong>: How does the <code class="inline-code">HTMLAdventureGenerator</code> create and assemble themed adventures using its <code class="inline-code">generateAdventure</code> method?</li>
<li>‚ö° <strong>Template Alchemy</strong>: How does the <code class="inline-code">TemplateEngine.renderPage</code> method transform templates into complete HTML artifacts using provided variables?</li>
<li>üõ°Ô∏è <strong>Asset Fortification</strong>: How does the <code class="inline-code">AssetManager.copyGlobalAssets</code> ensure shared resources like images and styles are accurately placed across the mystical domain?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/html-generator.ts:</span> The Enchanted Story-Weaver</h3>
<p>The <code class="inline-code">HTMLAdventureGenerator</code> is the central architect of Codethia&#39;s legendary tales. Its <code class="inline-code">generateAdventure</code> method serves as the omniscient storyteller, orchestrating all resources to produce adventure websites. It integrates asset copying, quest page generation, and an overarching narrative, ensuring harmony between functionality and theme. Each invocation breathes life into the kingdom‚Äôs chronicles, blending technical systems with thematic brilliance.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">generateAdventure</code> organizes story generation, template transformation, and resource allocation, bringing thematic experiences to life.</li>
<li><code class="inline-code">generateAllThemes</code> powers simultaneous crafting of multi-themed adventures, using parallel processes for efficiency and grandeur.</li>
<li><code class="inline-code">buildQuestHTML</code> sculpts individual quest pages, dynamically embedding navigation and theming.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/html-generator.ts</h3>
<pre><code class="language-typescript">async generateAdventure(): Promise&lt;void&gt; {
  console.log(chalk.yellow.bold(&#39;üöÄ Generating Adventure...&#39;));
  console.log();
  
  // Analyze the repository for contextual structure
  const repomixContent = await repoAnalyzer.generateRepomixContext(this.projectPath);
  const projectInfo = createProjectInfo(repomixContent);
  
  // Generate the story content
  const storyContent = await this.adventureManager.initializeAdventure(
    projectInfo, 
    this.selectedTheme, 
    this.projectPath,
    this.customThemeData
  );
  
  // Extract and refine quests, control quest generation limits if specified
  this.extractQuestInfo();
  const questsToGenerate = this.maxQuests ? Math.min(this.maxQuests, this.quests.length) : this.quests.length;
  if (questsToGenerate &lt; this.quests.length) {
    this.quests = this.quests.slice(0, questsToGenerate);
  }
  
  // Generate necessary assets and all quest pages
  this.generateThemeCSS();
  this.copyQuestNavigator();
  this.generateIndexHTML();
  await this.generateQuestPages();
}
</code></pre>
<ul>
<li>Coordinates the generation of adventures by combining project-specific data with theming information.</li>
<li>Ensures thematic integrity through CSS generation and navigator asset management.</li>
<li>Incorporates modularity to scale with the number of quests and supported themes.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/generator/src/cli/template-engine.ts:</span> The Artisan of Templates</h3>
<p>The <code class="inline-code">TemplateEngine</code> acts as Codethia‚Äôs mystical manuscript forger, converting raw templates into vibrant HTML entities. Its <code class="inline-code">renderPage</code> method combines the base structure with dynamic content templates, enveloping adventures into enchanting vessels.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">renderPage</code> stitches together base and content templates with dynamic variables to form immersive web pages.</li>
<li><code class="inline-code">replacePlaceholders</code> meticulously inserts variables into predefined placeholders, ensuring personalization across themes.</li>
<li><code class="inline-code">loadTemplate</code> fetches template files with a caching mechanism, optimizing the flow of magical energies (performance).</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/template-engine.ts</h3>
<pre><code class="language-typescript">renderPage(contentTemplate: string, variables: TemplateVariables): string {
  const baseTemplate = this.loadTemplate(&#39;base-template.html&#39;);
  const contentHtml = this.loadTemplate(contentTemplate);
  
  // Render the content template first
  const renderedContent = this.replacePlaceholders(contentHtml, variables);
  
  // Render the base template with the content
  const pageVariables = {
    ...variables,
    CONTENT: renderedContent
  };
  
  return this.replacePlaceholders(baseTemplate, pageVariables);
}
</code></pre>
<ul>
<li>Combines the foundational structure (<code class="inline-code">base-template.html</code>) with dynamic content for cohesive theming.</li>
<li>Employs placeholder replacement to inject quest-specific details into pre-existing structures.</li>
<li>Balances flexibility and clarity for diverse adventures.</li>
</ul>
<hr>
<h3><span class="header-prefix">packages/generator/src/cli/asset-manager.ts:</span> The Keeper of Shared Resources</h3>
<p>The <code class="inline-code">AssetManager</code> commands Codethia‚Äôs treasure trove of shared assets, ensuring that global images, styles, and files are meticulously copied to the output domains. The <code class="inline-code">copyGlobalAssets</code> method protects and consolidates shared resources, preventing redundancy across themes.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">copyGlobalAssets</code> guarantees that resources critical to all themes are correctly placed in shared directories.</li>
<li><code class="inline-code">copyQuestNavigator</code> augments theme-specific directories with navigation assets like stylesheets, ensuring seamless continuity across quests.</li>
<li><code class="inline-code">copyImages</code> handles the symbolic icons and shared images integral to both narrative and visual consistency.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/asset-manager.ts</h3>
<pre><code class="language-typescript">copyGlobalAssets(outputDir: string): void {
  const globalAssetsDir = path.join(outputDir, &#39;assets&#39;);
  const targetImagesDir = path.join(globalAssetsDir, &#39;images&#39;);
  fs.mkdirSync(targetImagesDir, { recursive: true });

  const globalSharedDir = path.join(outputDir, &#39;assets&#39;, &#39;shared&#39;);
  fs.mkdirSync(globalSharedDir, { recursive: true });

  const globalImages = [&#39;github-mark.svg&#39;, &#39;github-mark-white.svg&#39;];
  globalImages.forEach(file =&gt; {
    const sourcePath = path.join(this.sourceDir, &#39;assets&#39;, &#39;shared&#39;, file);
    if (fs.existsSync(sourcePath)) {
      const targetPath = path.join(globalSharedDir, file);
      fs.copyFileSync(sourcePath, targetPath);
    }
  });

  const headerImageSource = path.join(this.sourceDir, &#39;assets&#39;, &#39;images&#39;, &#39;ai-adventures.png&#39;);
  if (fs.existsSync(headerImageSource)) {
    const headerImageTarget = path.join(targetImagesDir, &#39;ai-adventures.png&#39;);
    fs.copyFileSync(headerImageSource, headerImageTarget);
  }
}
</code></pre>
<ul>
<li>Consolidates resources into shared directories for efficient multi-theme support.</li>
<li>Handles critical assets like global configuration resources without redundancy.</li>
<li>Reinforces structural integrity across themes and quests.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>üõ†Ô∏è When investigating <code class="inline-code">generateAdventure</code>, explore its modular interaction with <code class="inline-code">generateQuestPages</code> and <code class="inline-code">generateThemeCSS</code>.</li>
<li>üìú Examine <code class="inline-code">renderPage</code> in <code class="inline-code">TemplateEngine</code> for efficient and customizable HTML rendering patterns.</li>
<li>üåü Observe <code class="inline-code">AssetManager.copyGlobalAssets</code> for its pivotal role in preserving the consistency of shared resources.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>üéâ By the blazing flames of the ancient phoenix, you have forged your first legendary artifact in the Mystic Forge of HTML‚Äîlet the stars bear witness to your noble beginning, brave adventurer! ‚≠ê‚öîÔ∏èüî•</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>