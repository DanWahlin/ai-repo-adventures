<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: Guardians of Configurational Lore - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Mystic Codex of the Enchanted Repository</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: Guardians of Configurational Lore</h1>
<hr>
<p>In the Mystic Kingdom, whispers of a dire prophecy take root: the Codex of the Enchanted Repository grows unstable, its power faltering as rogue magical scripts distort its wisdom. The &quot;Configuration Lore&quot;, sacred passages of the Codex, must be restored! Brave heroes, armed with spells to decode syntax and paths, must delve into the legendary <code class="inline-code">adventure-config.ts</code> scroll. This file contains revelatory insights vital to taming Configurational Lore. Failure risks eroding the kingdom‚Äôs narrative structure forever. Will you defend the lore and ensure its magic endures?</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/adventure-config.ts:</span> Configurational Magic Management</h3>
<p>The magical scroll, <code class="inline-code">adventure-config.ts</code>, serves as an enchanted hub for interpreting the lore encoded in the Codex. Heroes can wield this file‚Äôs powers to unlock mystical configuration, yielding paths to quests and spells. Key spells include initially summoning the adventure configuration using <code class="inline-code">loadAdventureConfig</code>, parsing its fragmented fragments using <code class="inline-code">parseAdventureConfig</code>, and ensuring clarity in extracted file paths with <code class="inline-code">extractUniqueFilePaths</code>. Each enchanted rune within these functions contributes to unraveling the Codex‚Äôs mysteries. This file lays the foundation of mythical quest generation by binding configuration to actionable destiny. </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadAdventureConfig</code>: Invokes file-reading magic to summon raw adventure lore from the Codex.</li>
<li><code class="inline-code">parseAdventureConfig</code>: Deciphers and purifies raw configuration, sorting mythical paths.</li>
<li><code class="inline-code">extractUniqueFilePaths</code>: Tracks elusive paths lurking within decoded lore.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/adventure-config.ts</h3>
<pre><code class="language-typescript">export function loadAdventureConfig(projectPath: string): string | null {
  const configPath = path.join(projectPath, ADVENTURE_CONFIG_FILE);
  return readFileIfExists(configPath);
}
</code></pre>
<p>Like summoning a map from an ancient tome, <code class="inline-code">loadAdventureConfig</code> reads raw lore from its mystical source for further interpretation.</p>
<pre><code class="language-typescript">export function parseAdventureConfig(projectPath: string): unknown | null {
  const raw = loadAdventureConfig(projectPath);
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
</code></pre>
<p>Acting as a decipherer of arcane symbols, <code class="inline-code">parseAdventureConfig</code> translates raw, mysterious scrolls into actionable insights for the kingdom‚Äôs quests.</p>
<pre><code class="language-typescript">export function extractUniqueFilePaths(projectPath: string): string[] {
  const parsed = parseAdventureConfig(projectPath);
  if (!parsed || typeof parsed !== &#39;object&#39;) return [];

  const unique = new Set&lt;string&gt;();
  const stack: any[] = [parsed];

  while (stack.length) {
    const node = stack.pop();
    if (!node || typeof node !== &#39;object&#39;) continue;

    if (typeof node.path === &#39;string&#39; &amp;&amp; node.path.trim()) {
      const rel = node.path.trim();
      if (fs.existsSync(path.resolve(projectPath, rel))) {
        unique.add(rel);
      }
    }

    const children = Array.isArray(node) ? node : Object.values(node);
    children.forEach(child =&gt; {
      if (child &amp;&amp; typeof child === &#39;object&#39;) stack.push(child);
    });
  }

  return Array.from(unique);
}
</code></pre>
<p>This spell, <code class="inline-code">extractUniqueFilePaths</code>, behaves as a tracker of hidden treasure by identifying and validating quest paths from nested magical structures.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Always validate your adventure configuration; corrupted scrolls yield misleading quests.</li>
<li>Use <code class="inline-code">extractUniqueFilePaths</code> to isolate authentic paths. False trails may misguide your journey.</li>
<li>Prepare backups of configuration scrolls before overriding adventure settings. Enchanted tampering may cause irreversible errors.</li>
</ul>
<hr>
<p>The lore awakens! You now wield spells to master the Codex‚Äôs Configurational Lore. Continue your journey, brave hero, for the Mystic Kingdom‚Äôs fate lies in your hands!</p>
<p>With the wisdom of ancient constellations and the valor of legendary heroes, you have unlocked the sacred Configurational Lore, fortifying your path through the celestial kingdom at 80% completion‚Äîa triumph worthy of the stars! üöÄ‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4: The Great Themekeeper...</a>
        <a href="index.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>