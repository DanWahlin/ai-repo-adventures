<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: The Binding Runes of Configuration - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Enchanted Repository: The Chronicles of Code</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: The Binding Runes of Configuration</h1>
<hr>
<p>Amid the pixelated forests and gleaming syntax rivers of Codethia lies a mysterious artifact‚Äîthe Runes of Configuration. These sacred scripts guide the kingdom&#39;s mystical automation and weave the enchantments that sustain the Codex Regalium. However, the shadowy sorcerer has tampered with their delicate arrangement, casting chaos into the kingdom‚Äôs operations. As a knight of code, your valor lies not in swords but in deciphering these cryptic runes to restore harmony. Venture into the enchanted paths of adventure-config, unearthing the secrets hidden within its flowing incantations!</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/adventure-config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/adventure-config.ts</code></a>: Config management and parsing tools</h3>
<p>The <code class="inline-code">adventure-config.ts</code> file is the enchanted scroll that governs how all questing configurations are handled. Nestled within its lines are powerful spells for interpreting and shaping the Codex‚Äôs configuration. This file is the locus for defining how configuration files are read, validated, and the data extracted. Its functions support a wide range of use cases, from parsing raw input to structuring valid quest paths, making it a vital piece in the Codethia puzzle. By exploring its functions, you will see how the kingdom extracts truth from chaotic beginnings to weave structured solutions. Key highlights focus on reading files (<code class="inline-code">readFileIfExists</code>), translating configurations (<code class="inline-code">parseAdventureConfig</code>), and distilling unique paths (<code class="inline-code">extractUniqueFilePaths</code>). These mystical incantations hold the key to taming the chaos the shadowy sorcerer unleashed.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadAdventureConfig</code>: Unlocks raw configuration data from its physical form.</li>
<li><code class="inline-code">parseAdventureConfig</code>: Enchants raw data into structured, magical knowledge.</li>
<li><code class="inline-code">extractUniqueFilePaths</code>: Charts rare paths to treasure hidden within the configuration.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/adventure-config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/adventure-config.ts</code></a></h3>
<pre><code class="language-typescript">function readFileIfExists(filePath: string): string | null {
  try {
    return fs.readFileSync(filePath, &#39;utf-8&#39;);
  } catch {
    // Missing or unreadable file is non-fatal
    return null;
  }
}
</code></pre>
<p>Like a wizard peering through ancient manuscripts, this function gently attempts to read a file and returns its content‚Äîor gracefully moves on if it encounters blank pages.</p>
<pre><code class="language-typescript">export function parseAdventureConfig(projectPath: string): unknown | null {
  const raw = loadAdventureConfig(projectPath);
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
</code></pre>
<p>This function transforms raw magical data (unparsed JSON) into understandable runes, akin to deciphering ancient glyphs on a mystical artifact.</p>
<pre><code class="language-typescript">export function extractUniqueFilePaths(projectPath: string): string[] {
  const parsed = parseAdventureConfig(projectPath);
  if (!parsed || typeof parsed !== &#39;object&#39;) return [];

  const unique = new Set&lt;string&gt;();
  const stack: any[] = [parsed];

  while (stack.length) {
    const node = stack.pop();
    if (!node || typeof node !== &#39;object&#39;) continue;

    // Extract and validate path
    if (typeof node.path === &#39;string&#39; &amp;&amp; node.path.trim()) {
      const rel = node.path.trim();
      if (fs.existsSync(path.resolve(projectPath, rel))) {
        unique.add(rel);
      }
    }

    // Add children to stack
    const children = Array.isArray(node) ? node : Object.values(node);
    children.forEach(child =&gt; {
      if (child &amp;&amp; typeof child === &#39;object&#39;) stack.push(child);
    });
  }

  return Array.from(unique);
}
</code></pre>
<p>This intricate function delves into the labyrinthine structure of quest paths, uncovering rare treasures‚Äîfiles that fuel the Codethia adventure engine.</p>
<h2>Helpful Hints</h2>
<ul>
<li><strong>Practical tip</strong>: To ensure stability, verify that configuration files are well-formed before attempting to parse them.</li>
<li><strong>Exploration recommendation</strong>: Investigate how these functions interact with other quest-related files such as <code class="inline-code">adventure-manager.ts</code>.</li>
<li><strong>Next steps</strong>: Enhance your journey by exploring other utilities supporting quest generation and storytelling dynamics.</li>
</ul>
<hr>
<p>The runes of configuration have been laid bare, brave adventurer. Use this knowledge to bind their scattered power and bring order to Codethia once again!</p>
<p>With the Binding Runes of Configuration secured, your hero‚Äôs journey shines brilliantly upon the realm‚Äôs tapestry, heralding the nearing triumph of the mythical fifth star of wisdom‚Äîforge ahead, champion! ‚ö°üíéüëÅÔ∏è</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>