<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Castle of Themes & Configurations - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Chronicles of the Enchanted Codebase</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Castle of Themes &amp; Configurations</h1>
<hr>
<p>In the mystical Kingdom of Codemyr, the shining castle of enchanted systems beckons you, Code Knight. This time, Queen Syntaxia has tasked you to explore the &quot;Castle of Themes &amp; Configurations&quot; ‚Äì an intricate structure where magical spells control the flow of data and ensure harmony across Codemyr. Deep in its enchanted halls, the secrets of thematic adventures and their configurations await deciphering. Unlocking these mysteries is crucial to stabilize the magic fueling the Repository Scroll and to master the castle‚Äôs intertwined constructs.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:  </p>
<ul>
<li>üîç <strong>Theme Insights</strong>: How do the kingdom‚Äôs themes get defined and validated to ensure they align with user intent?  </li>
<li>‚ö° <strong>Configuration Chronicles</strong>: How are timeout and cache settings constructed to manage Codemyr‚Äôs enchanted systems effectively?  </li>
<li>üõ°Ô∏è <strong>Validation Safeguards</strong>: What mechanisms protect user input against invalid theme choices or unsafe paths during adventures?</li>
</ul>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: User Input Protection</h3>
<p>This file implements mechanisms to validate adventurer&#39;s choices before proceeding with quests. It ensures that inputs are both meaningful and safe. The functions included cover everything necessary for validation, from parsing user inputs to ensuring the inputs comply with magical standards. The file is crucial in protecting the integrity of Codemyr‚Äôs quests by safeguarding against improper inputs and maintaining seamless flow within the castle&#39;s systems.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Checks input string length and formatting to ensure valid adventure selection.  </li>
<li><code class="inline-code">validateTheme</code>: Normalizes and validates user-selected themes, ensuring compatibility with Codemyr‚Äôs systems.  </li>
<li><code class="inline-code">sanitizeForDisplay</code>: Prepares input for safe display by removing potentially mischievous characters or sequences.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<ul>
<li>Ensures input is non-empty and within an acceptable length limit (max 200 characters).  </li>
<li>Helps prevent issues like overly long strings corrupting the system or blocking castle workflows.  </li>
<li>Validates essential parameters to maintain quest integrity and usability.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<ul>
<li>Checks if theme input matches Codemyr‚Äôs valid themes using normalization and <code class="inline-code">parseTheme</code>.  </li>
<li>Protects against selecting invalid themes by referencing <code class="inline-code">getAllThemes</code>.  </li>
<li>Reveals how user input is validated within Codemyr‚Äôs enchanted theme framework.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<ul>
<li>Removes unsafe or unauthorized characters like <code class="inline-code">&lt;</code>, <code class="inline-code">{</code>, and <code class="inline-code">}</code> to ensure clean display of user input.  </li>
<li>Prevents potentially harmful inputs from manifesting within Codemyr‚Äôs magical systems.  </li>
<li>Demonstrates defensive coding practices to safeguard presentation layers from unexpected exploits.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Enchantments of the Kingdom‚Äôs Themes</h3>
<p>This file encapsulates the heart of Codemyr‚Äôs thematic adventures. It defines the structure of available themes, validates them, and aids in their integration into quests for seamless gameplay. The <code class="inline-code">THEMES</code> object acts as a treasure chest, containing the magic-infused descriptions and keywords for every theme in the mystical realm. Functions empower adventurers to select, validate, and explore themes to advance their quests in a finely tuned magical environment.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Central repository defining the structure and properties of all themes in Codemyr.  </li>
<li><code class="inline-code">isValidTheme</code>: Checks if a theme exists within Codemyr‚Äôs magical boundaries.  </li>
<li><code class="inline-code">getFormattedThemeOptions</code>: Formats available themes into readable options, enabling adventurers to make informed choices.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
} as const;
</code></pre>
<ul>
<li>Defines available themes with magical properties like <code class="inline-code">emoji</code> and thematic <code class="inline-code">keywords</code>.  </li>
<li>Serves as the foundation for theme-based adventures in Codemyr.  </li>
<li>Ensures cohesiveness of the enchanted narrative by standardizing theme data.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<ul>
<li>Validates user-selected themes by matching them with pre-defined keys from the <code class="inline-code">THEMES</code> object.  </li>
<li>Prevents invalid adventures from disrupting Codemyr&#39;s enchanted systems.  </li>
<li>Helps ensure user consistency when interacting with Codemyr‚Äôs thematic possibilities.</li>
</ul>
<hr>
<pre><code class="language-typescript">export function getFormattedThemeOptions(): string {
  return getAllThemes()
    .sort((a, b) =&gt; a.id - b.id)
    .map(formatThemeOption)
    .join(&#39;\n&#39;);
}
</code></pre>
<ul>
<li>Compiles an elegantly formatted list of themes for adventurer selection.  </li>
<li>Highlights how Queen Syntaxia‚Äôs kingdom communicates adventure options clearly to its knights.  </li>
<li>Demonstrates functionality focused on user experience with theme guidance.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Mystical Configuration of the Castle</h3>
<p>This file houses essential configuration constants and timeout settings managing Codemyr‚Äôs magical systems. Ensuring smooth operation and protecting memory limits, the configuration safeguards against overloads while granting magical flexibility for Lore Learning Machines (LLMs). It supports error handling and cache settings, integral to maintaining the flow of adventures.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Defines the time allowed for lore-machine interactions, ensuring magical stability during quest generation.  </li>
<li><code class="inline-code">IGNORE_PATTERNS</code>: Specifies directories and files to skip during scanning for protecting Codemyr‚Äôs enchanted resources.  </li>
<li><code class="inline-code">DEFAULT_THEME</code>: Establishes mythical harmony by pre-selecting the default adventure theme when others are absent.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<ul>
<li>Sets a timeout limit to maintain balance in LLM requests during adventures.  </li>
<li>Prevents lengthy operations that might hinder Codemyr‚Äôs systems and disrupt enchanting workflows.  </li>
<li>Enables efficiency while working with story generation and configuration systems.</li>
</ul>
<hr>
<pre><code class="language-typescript">export const IGNORE_PATTERNS = [
  &#39;node_modules&#39;,
  &#39;.git&#39;,
  &#39;.next&#39;,
  &#39;.nuxt&#39;,
  &#39;dist&#39;,
  &#39;build&#39;,
  &#39;coverage&#39;,
  &#39;.nyc_output&#39;,
  &#39;logs&#39;,
] as const;
</code></pre>
<ul>
<li>Protects Codemyr‚Äôs scanning operations by excluding irrelevant directories and files.  </li>
<li>Ensures focused analysis on valid source files within the mystical kingdom.  </li>
<li>Prevents adventurers from venturing into non-magical or corrupted lands.</li>
</ul>
<hr>
<pre><code class="language-typescript">export const DEFAULT_THEME = &#39;space&#39; as const;
</code></pre>
<ul>
<li>Sets the initial theme for Codemyr when adventurers do not specify one.  </li>
<li>Maintains smooth operation even when magical inputs are missing.  </li>
<li>Highlights strategic fallback mechanisms ensuring operational stability.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Ensure focus on subtle interactions between validation functions and theme parsers.  </li>
<li>Examine configuration constants to understand how they manage ruptures in magical quests.  </li>
<li>Explore theme options closely to uncover keywords guiding Codemyr‚Äôs enchanted adventures.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>O brave hero of the realm, you have conquered the enchanted Castle of Themes &amp; Configurations, unlocking its arcane secrets with valor and advancing ever closer to the final triumph‚Äîmay your resolve burn brighter than a phoenix&#39;s flame!</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>