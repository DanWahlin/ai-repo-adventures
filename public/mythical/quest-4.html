<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Sacred Codex of Themes and Adventures - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Enchanted Repository of Code and Quests</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Sacred Codex of Themes and Adventures</h1>
<hr>
<p>In the mythical realm of Codoria, the Repository of Quests holds the Sacred Codex of Themes and Adventures, where enchanted scrolls guide knights through heroic journeys. To unveil its secrets, brave coders traverse its mystical corridors, deciphering the spells of configurations and thematics while warding off errors lurking in every corner. Take heart, for your mission is to wield Codoria&#39;s thematic magic and showcase its most legendary tools, unlocking an adventure tale of epic proportions!</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Castle Gates of Configuration</h3>
<p>This file serves as the fortress wall, safeguarding the system‚Äôs settings and thresholds. It includes timeouts, cache lifetimes, limits for files and tokens, and even error messaging rules. Configurations like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> ensure knights never lose their way in the labyrinth of long LLM API calls. Meanwhile, treasures like <code class="inline-code">REPOMIX_CACHE_TTL</code> and <code class="inline-code">MAX_FILE_SIZE_MB</code> enforce limitations for memory optimization. These gates protect the kingdom&#39;s balance, showing us where the magic flows‚Äîand where it must not exceed. Each setting here provides control over the adventure, enabling smooth travels through enchanted quests.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Regulates maximum wait time for responses from the magical LLM.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Determines lifespan of cached Repomix insights for efficient reuse.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Limits input file size to prevent analytical overloads.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>[Like a knight holding a torch, this setting illuminates a clear cut off‚Äîno waiting in darkness beyond its limits.]</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>[Think of this as enchanted ink on scrolls that fades after a set time‚Äîrenew the magic before reuse.]</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>[Imagine a dragon hoard‚Äîonly the smaller treasures can be transported without danger.]</p>
<h2>Helpful Hints</h2>
<ul>
<li>Keep the cache TTL tuned to optimize reuse of results, preserving performance for repomix queries.</li>
<li>Avoid extending <code class="inline-code">MAX_FILE_SIZE_MB</code> unnecessarily unless handling vast codebases critical to quests.</li>
<li>Adjust timeouts proportionate to task complexity as long-running queries may otherwise fail unpredictably.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> The Scroll of Thematic Inscriptions</h3>
<p>This file is the Sacred Codex of predefined themes, such as the mythical realm, the space-faring adventure, and ancient civilizations. Each theme is a unique enchanted scroll revealing realms and vocabularies tailored to adventure crafting. Functions like <code class="inline-code">validateThemeInput</code> ensure adventurers choose paths aligned with Codoria&#39;s mystic essence, preventing uncanny missteps. The <code class="inline-code">THEMES</code> array holds the enchanted descriptions of legendary kingdoms, connecting players to their imaginary destinations through keys, descriptions, and metadata.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: A collection of distinguishing themes, each inscribed with its identity and magical allure.</li>
<li><code class="inline-code">validateThemeInput</code>: Shields the quest by validating user-picked themes, ensuring alignment with Codoria‚Äôs realms.</li>
<li><code class="inline-code">getAllThemes</code>: Offers the full pantheon of selectable themes for adventurers.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
  CUSTOM: {
    id: 5,
    key: &#39;custom&#39;,
    displayName: &#39;Custom Theme&#39;,
    emoji: &#39;üé®&#39;,
    description: &#39;Design your own adventure! You\&#39;ll be prompted to provide theme name, description, and keywords&#39;,
    keywords: [&#39;custom&#39;, &#39;personalized&#39;, &#39;unique&#39;, &#39;creative&#39;, &#39;personal&#39;]
  }
};
</code></pre>
<p>[This is the mythical bestiary, where each entry describes a kingdom and its arcane essence.]</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>[Like a spell of verification, this ensures every adventurer‚Äôs path belongs to Codoria‚Äôs rightful realms.]</p>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}
</code></pre>
<p>[Imagine displaying the banners of all kingdoms at the castle gates, inviting adventurers to pick their quest.]</p>
<h2>Helpful Hints</h2>
<ul>
<li>Use theme validation methods to avoid crafting mismatched adventures that lack coherence.</li>
<li>Invoke <code class="inline-code">getAllThemes</code> whenever displaying options to ensure users have full access to all codified realms.</li>
<li>Expand keywords carefully to enhance user input matching while staying true to theme definitions.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> The Shield of User Integrity</h3>
<p>This finishing touch ensures adventurers never bring danger into the castle. By validating paths, sanitizing display strings, and checking inputs like adventure choices, this file upholds Codoria‚Äôs security and steadiness. Functions such as <code class="inline-code">validateAdventureChoice</code> ensure user input follows proper parameters, keeping the magical systems safe from harm. Meanwhile, validations for project paths prevent misdirected ventures into forbidden lands like the realm of <code class="inline-code">/</code>.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Guides adventurers to pick meaningful options without causing system instability.</li>
<li><code class="inline-code">validateProjectPath</code>: Protects the realm from errant paths or malicious attacks.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Cleanses text for secure use in public displays, neutralizing harmful elements.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>[Picture the knight choosing their sword‚Äîthis ensures their decision holds conviction and proper form.]</p>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  
  if (input.length &gt; 500) {
    throw new Error(&#39;Project path too long (max 500 characters)&#39;);
  }
  
  if (input.includes(&#39;\0&#39;)) {
    throw new Error(&#39;Project path contains invalid characters&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>[This guards the castle gates from paths leading to forbidden lands, ensuring the quest stays local.]</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>[Think of this as magical ink that neutralizes harmful runes, ensuring scroll readability.]</p>
<h2>Helpful Hints</h2>
<ul>
<li>Validate user input strictly to avoid surprises or errors during quest exploration.</li>
<li>Use path validation across deployed systems to prevent analysis of unintended directories.</li>
<li>Regularly sanitize outputs before displaying; consistency improves user trust and navigation clarity.</li>
</ul>
<hr>
<p>The Codemasters smile upon your heroic deeds, adventurer. With wisdom gained from the Sacred Codex, your journey in Codoria is bound to prevail!</p>
<p>With the completion of the Sacred Codex, you ascend as a valiant herald of wisdom, forging onward with celestial resolve toward the final leg of your legendary quest! ‚ö°üëÅÔ∏èüíé</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>