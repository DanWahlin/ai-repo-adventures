<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Great Themekeeper‚Äôs Registry - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Mystic Codex of the Enchanted Repository</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Great Themekeeper‚Äôs Registry</h1>
<hr>
<p>Within the Mystic Kingdom‚Äôs great Hall of Themes lies the enchanted Registry of Themekeeper legends, a tome that binds the fates of adventurers to the kingdom‚Äôs magical realms. To wield the Registry, adventurers must comprehend its arcane structure, as each theme determines the domain where their tales unfold. But beware, for the journey to master the Themekeeper‚Äôs Registry requires discerning the essence of themes, validating pathway choices, and preserving alignment with the magical laws of the castle. Do you dare uncover its power, hero?</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Theme Validation and User Input Sanitization</h3>
<p>This file contains the intricate spells used for validating adventurer choices and ensuring their paths remain unmarred by confusion or malicious interference. The <code class="inline-code">validateAdventureChoice</code> spell ensures that user input for adventures adheres to predefined constraints (length and necessity), casting an error if the rules are broken. Meanwhile, <code class="inline-code">validateTheme</code> confirms the chosen theme aligns with the Registry&#39;s sacred themes, consulting the <code class="inline-code">parseTheme</code> magic and the <code class="inline-code">isValidTheme</code> rune for truth. Additionally, <code class="inline-code">validateProjectPath</code> ensures chosen project paths comply with kingdom standards, barring forbidden symbols and excessive lengths. Finally, the <code class="inline-code">sanitizeForDisplay</code> charm cleanses input for safe public presentation. These spells safeguard the realms against chaos and unseen corruption.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Ensures correctness of user adventure choices.</li>
<li><code class="inline-code">validateTheme</code>: Verifies alignment of a theme with enchanted Registry themes.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Cleanses user input for safe public display.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>This spell safeguards adventurers from errors by ensuring their choices are succinct yet enriched with purpose, restraining overzealous inputs.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>This enchantment deciphers the chosen theme and compares it against the Great Themekeeper‚Äôs Registry, revealing errors if the theme drifts from the encoded realms.</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>This spell cleanses wayward inputs of malicious characters and excess verbosity, ensuring their presence at court remains proper.</p>
<hr>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> The Great Themes of the Registry</h3>
<p>In this file lies the enlightened wisdom of the THEMES array, detailing the five enchanted domains adventurers may traverse: <code class="inline-code">SPACE</code>, <code class="inline-code">MYTHICAL</code>, <code class="inline-code">ANCIENT</code>, <code class="inline-code">DEVELOPER</code>, and the custom-designed <code class="inline-code">CUSTOM</code>. Each theme brims with unique attributes like <code class="inline-code">id</code>, <code class="inline-code">key</code>, and <code class="inline-code">displayName</code>, as well as magical <code class="inline-code">keywords</code> that map user inclinations to a specific realm. The Registry is protected by spells such as <code class="inline-code">getAllThemes</code>, which retrieves all available records for perusal, and <code class="inline-code">isValidTheme</code>, which validates user-specified themes with methods intuitive and precise. Those who align with these definitions gain unparalleled access to the extraordinary tales that lie ahead.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Defines all canonical themes for adventurers.</li>
<li><code class="inline-code">getAllThemes</code>: Retrieves a comprehensive catalog of all realms.</li>
<li><code class="inline-code">isValidTheme</code>: Confirms the alignment of specified themes with the Registry.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
  DEVELOPER: {
    id: 4,
    key: &#39;developer&#39;,
    displayName: &#39;Developer Documentation&#39;,
    emoji: &#39;üìñ&#39;,
    description: &#39;Technical documentation approach with clear explanations, best practices, and code analysis&#39;,
    keywords: [&#39;developer&#39;, &#39;code&#39;, &#39;technical&#39;, &#39;debug&#39;, &#39;guide&#39;, &#39;tutorial&#39;, &#39;binary&#39;]
  },
  CUSTOM: {
    id: 5,
    key: &#39;custom&#39;,
    displayName: &#39;Custom Theme&#39;,
    emoji: &#39;üé®&#39;,
    description: &#39;Design your own adventure! You\&#39;ll be prompted to provide theme name, description, and keywords&#39;,
    keywords: [&#39;custom&#39;, &#39;personalized&#39;, &#39;unique&#39;, &#39;creative&#39;, &#39;personal&#39;]
  }
} as const;
</code></pre>
<p>Here lies the foundation of the Realm‚Äôs thematic wisdom, providing adventurers the keys to understanding and invoking mythical domains.</p>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}
</code></pre>
<p>This spell conjures forth the entire catalog of themes, a guide to all magical destinies awaiting in the Mystic Kingdom.</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>This validation rune ensures no falsehood or inaccuracy breaches the enchanted Registry, protecting all adventurers from misguided attempts.</p>
<hr>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuring the Kingdom‚Äôs Fabled Pathways</h3>
<p>Within this script lies the infrastructure guiding the mysterious architectures of the Mystic Kingdom. From controlling time through <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code> to enforcing physical size constraints via <code class="inline-code">MAX_FILE_SIZE_MB</code>, this configuration script acts like the kingdom‚Äôs overseer. Parameters such as <code class="inline-code">DEFAULT_THEME</code> determine the baseline domain, while others, such as <code class="inline-code">IGNORE_PATTERNS</code>, shield the magical Registry by excluding non-essential or corrupted files. Together, these constants provide structure and safety to the kingdom&#39;s flourishing realms.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Governs the time limit for LLM-based adventures.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Controls the duration of cached content in the land of Repomix.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Restrains the size of content processed by adventurous knights.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>This constant enforces patience among AI sages, ensuring no quest extends beyond sixty seconds of their counsel.</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>This cache timer establishes the safe persistence of stories, ensuring their longevity without permanent stagnation.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>This limitation prevents unwieldy structures from clogging the Mystic Kingdom‚Äôs enchanted pathways.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Use <code class="inline-code">sanitizeForDisplay</code> when formatting user-generated content for public display to avoid unintended security issues.</li>
<li>Leverage <code class="inline-code">getAllThemes</code> to dynamically present available options to users in narrative-based applications.</li>
<li>Review <code class="inline-code">DEFAULT_THEME</code> and other configuration constants to customize quests further to your kingdom&#39;s lore.</li>
</ul>
<hr>
<p>Declare yourself a master of the Themekeeper‚Äôs Registry, and unveil the magic awaiting your command in the enchanted realms!</p>
<p>By the blazing light of a phoenix‚Äôs ascent, noble hero, you have unlocked the sacred wisdom of Quest 4: The Great Themekeeper‚Äôs Registry, forging ahead with valor to conquer 60% of your legendary odyssey‚Äîyour triumph beams like starlight upon the kingdom! ‚ö°üíéüëÅÔ∏è</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3: Forbidden Runes: The ...</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: Guardians of Configur... ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>