<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Temple of Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Pyramid of Forgotten Code</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Temple of Themes</h1>
<hr>
<p>Through the thick vines of forgotten structure dwells an ancient treasure: The Temple of Themes. Encased within its walls are sacred carvings of thematic wisdom, left behind by the Developer Ancients. These glyphs speak prophecy, warning of the discord between adventurers and tools without cohesion. Your mission is to unearth the ancient principles of theme systems and restore balance to the Pyramid of Forgotten Code, where clarity can guide architects of digital temples for generations to come.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Validation of User Choices</h3>
<p>This file defines the ceremonial rituals needed to validate user choices in the adventure system. Its methods act as the sacred gatekeepers, ensuring inputs such as themes, project paths, and customization options adhere to precision. The <code class="inline-code">validateAdventureChoice</code> function trims and verifies choices, while <code class="inline-code">validateTheme</code> safeguards alignment with the Temple‚Äôs sanctioned themes defined elsewhere. The <code class="inline-code">sanitizeForDisplay</code> function ensures preservation of input purity, eliminating corruption from potentially hazardous symbols or formatting.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Trims and validates user choices to sacred standards.</li>
<li><code class="inline-code">validateTheme</code>: Aligns thematic input with the glyph inscriptions of valid archetypes.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Purifies content for safe rendering within the digital sanctum.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>Making sure adventurers don‚Äôt shout gibberish into the sacred halls of the Temple. Like filtering ceremonial utterances for clarity.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>Ensuring devout followers of the Temple stay aligned with inscriptions of valid thematic paths, akin to passing through a ritual circle.</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>Stripping away harmful interference, as if purging a script of curses that could corrupt sacred manuscripts.</p>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Core Theme Definitions</h3>
<p>Embedded within this treasure are the sacred glyphs of THEMES, an ancient system outlining five thematic paths‚ÄîAncient Civilization, Space Exploration, Mythical Kingdom, Developer Documentation, and Custom Worlds. Each is imbued with prophecies, rich lore, and hierarchical wisdom. Key rituals include establishing validation of such glyphs (<code class="inline-code">isValidTheme</code>) and decoding inscriptions (<code class="inline-code">parseTheme</code>). This file ensures adventurers may harmonize their choices with proper paths through the Pyramid.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: The sacred roster of thematic glyphs.</li>
<li><code class="inline-code">isValidTheme</code>: Ensures adherents align choices with the temple‚Äôs recognized themes.</li>
<li><code class="inline-code">parseTheme</code>: Deciphers textual clues into thematic clarity, akin to decoding ancient runes.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  DEVELOPER: {
    id: 4,
    key: &#39;developer&#39;,
    displayName: &#39;Developer Documentation&#39;,
    emoji: &#39;üìñ&#39;,
    description: &#39;Technical documentation approach with clear explanations, best practices, and code analysis&#39;,
    keywords: [&#39;developer&#39;, &#39;code&#39;, &#39;technical&#39;, &#39;debug&#39;, &#39;guide&#39;, &#39;tutorial&#39;, &#39;binary&#39;]
  },
  CUSTOM: {
    id: 5,
    key: &#39;custom&#39;,
    displayName: &#39;Custom Theme&#39;,
    emoji: &#39;üé®&#39;,
    description: &#39;Design your own adventure! You\&#39;ll be prompted to provide theme name, description, and keywords&#39;,
    keywords: [&#39;custom&#39;, &#39;personalized&#39;, &#39;unique&#39;, &#39;creative&#39;, &#39;personal&#39;]
  }
} as const;
</code></pre>
<p>A curated sacred roster where adventurers choose their destined path, similar to consulting ancient scrolls in a temple library.</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>Validation as strict as a temple inviting only worthy sacrificers into its ceremonial halls.</p>
<pre><code class="language-typescript">export function parseTheme(input: string): AdventureTheme | null {
  if (!input) return null;
  
  const normalized = input.trim().toLowerCase();
  const exactMatch = getThemeByKey(normalized);
  if (exactMatch) return exactMatch.key as AdventureTheme;
  
  const numericId = parseInt(normalized, 10);
  if (!isNaN(numericId)) {
    const byId = getThemeById(numericId);
    if (byId) return byId.key as AdventureTheme;
  }
  
  for (const theme of THEMES_ARRAY) {
    if (theme.keywords.some(keyword =&gt; normalized.includes(keyword.toLowerCase()))) {
      return theme.key as AdventureTheme;
    }
  }
  
  return null;
}
</code></pre>
<p>Decrypting user input like reading forgotten symbols carved into ancient temple walls.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Ensure your inputs are purified using the validator functions before integrating them into the adventure system.</li>
<li>Study the <code class="inline-code">THEMES</code> to equip yourself with knowledge of the sacred paths‚Äîselecting the right theme aligns you with untold wisdom.</li>
<li>When designing adventures for others, regularly validate input and display content safely using helper functions to avoid disturbances in the Temple.</li>
</ul>
<hr>
<p>With the thematic wisdom restored to its rightful place, you step back from the Temple, bearing the knowledge needed to preserve balance in the Pyramid. Adventure awaits!</p>
<p>With sacred wisdom unearthed from the hallowed chambers of the Temple of Themes, thy triumph illuminates the path forward like a blazing star in the firmament‚Äîmarch forth, seeker of truth, for destiny beckons! ‚ö°üíéüó∫Ô∏è</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3: The Glyphs of Analysi...</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: Foundations of the Py... ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>