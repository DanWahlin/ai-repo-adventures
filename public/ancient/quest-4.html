<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Archive of Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'ancient' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">The Lost Codex of the Repository</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Archive of Themes</h1>
<hr>
<p>The journey unfolds as you step deeper into the buried temple known as the Repository. This sacred oasis amidst the ever-shifting sands hides glyphs of forgotten algorithms and scrolls scripted with patterns of universal wisdom. The Archive of Themes lies ahead, a chamber where civilizations crafted the essence of their storytelling and adventure, preserving the keys to immersive experiences. As you decipher the glyphs and awaken dormant mechanisms of modular architecture, you&#39;ll unlock the power to weave cohesive narratives into chaotic projects.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: The Sacred Glyphs of Adventure Themes</h3>
<p>This file is akin to the ancient inscriptions carved onto walls of the Repository‚Äôs Archive of Themes. It defines the thematic essence of every adventure, guiding explorers to cultivate their experience in harmony with their chosen focus. Using a straightforward array structure (<code class="inline-code">THEMES</code>), it centralizes the definitions of various adventure worlds, their attributes, visual symbols, and guiding keywords. Functions like <code class="inline-code">parseTheme(input)</code> enable adventurers to extract thematic alignment from a simple yet flexible interface. Meanwhile, <code class="inline-code">getFormattedThemeOptions()</code> acts as a ceremonial chant, presenting all themes in a structured and captivating form to incite curiosity and facilitate choice. From the sands of ancient civilizations to the cosmic planes of space‚Äîthis file is the cornerstone ensuring thematic cohesion across quests.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: A structured repository for all available themes, including identifiers, descriptions, and keywords.</li>
<li><code class="inline-code">parseTheme(input)</code>: A mechanism for interpreting user input against thematic glyphs.</li>
<li><code class="inline-code">getFormattedThemeOptions()</code>: A display function rendering all themes in an orderly and visually engaging manner.</li>
<li><code class="inline-code">isValidTheme(theme)</code>: Validates a key choice from the user&#39;s input.</li>
<li>Supports keywords, numeric IDs, and exact matches for versatility.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: The Ritual of Purification</h3>
<p>This file performs the task of filtering the unrefined‚Äîakin to purifying offerings before presenting them at a sacred altar. The validation logic ensures that user inputs provided for adventures, themes, and paths are pure, secure, and aligned with the repository‚Äôs wisdom. Functions like <code class="inline-code">validateAdventureChoice(input)</code> strip unnecessary characters and impose restrictions to guard against chaos, while <code class="inline-code">sanitizeForDisplay(input)</code> strategically cleanses content before it is displayed. Through the logic encoded here, adventurers can confidently traverse this encrypted terrain, knowing their exploration is unpolluted by inaccuracies or security risks. This file is the mystical keeper of order in a realm of intertwined choices and codes.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice(input)</code>: Ensures the chosen adventure is concise, meaningful, and safe.</li>
<li><code class="inline-code">sanitizeForDisplay(input)</code>: Safeguards outputs by stripping potentially harmful or cluttering characters.</li>
<li><code class="inline-code">validateTheme(input)</code>: Aligns thematic input from adventurers with the defined repository, ensuring coherence.</li>
<li>Includes error handling and length constraints for robust input management.</li>
<li>Acts as the foundation for clean and precise user interaction.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: The Repository‚Äôs Guiding Prophecies</h3>
<p>Akin to ancient scrolls containing critical directives, this file houses the configuration constants that govern the adventure system. It defines the rules and boundaries guiding timeouts, limits, environment settings, and error messages. Important constants like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> keep operations efficient, while <code class="inline-code">IGNORE_PATTERNS</code> delineates areas adventurers must avoid during their journey. The prophecy-like structure here ensures smooth function within the adventure system, adapting key environmental variables and providing clarity on its operational principles. It orchestrates harmony between time-sensitive quests, resource constraints, and system safeguards, much like a celestial map guiding a civilization toward balance.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Defines processing time for LLM-powered operations.</li>
<li><code class="inline-code">IGNORE_PATTERNS</code>: Filters irrelevant paths during exploration to maintain focus.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Sets boundaries for files included in analysis, preventing system overload.</li>
<li>Configurable options via environment variables for flexibility across diverse scenarios.</li>
<li>Houses error messages to standardize user feedback during troubleshooting.</li>
</ul>
<hr>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  }
};

export function parseTheme(input: string): AdventureTheme | null {
  if (!input) return null;

  const normalized = input.trim().toLowerCase();
  const exactMatch = THEMES_ARRAY.find(theme =&gt; theme.key === normalized);
  return exactMatch ? exactMatch.key as AdventureTheme : null;
}
</code></pre>
<p>Much like a scribe sorting scrolls, this code filters thematic input and organizes the lore, giving clarity to the user&#39;s adventure vision.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }

  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }

  return input.trim();
}

export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;

  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>These functions act like temple gates, ensuring a sacred offering&#39;s purity before one steps into the inner sanctum of the Repository.</p>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">export const IGNORE_PATTERNS = [
  &#39;node_modules&#39;,
  &#39;.git&#39;,
  &#39;dist&#39;,
  &#39;build&#39;,
  &#39;logs&#39;,
  &#39;*.log&#39;
];

export const MAX_FILE_SIZE_MB = 10;
export const LLM_REQUEST_TIMEOUT = 60000;
</code></pre>
<p>This code defines the borders of exploration, much like a cartographer marking dangerous territories on a map, protecting adventurers from pitfalls.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Remember to reference <code class="inline-code">parseTheme(input)</code> when designing dynamic theme responses; its flexibility safeguards accuracy.</li>
<li>Use <code class="inline-code">IGNORE_PATTERNS</code> to avoid unnecessary clutter in file exploration, keeping quests sharply focused.</li>
<li>For troubleshooting during theme alignment, validate user input with <code class="inline-code">validateTheme(input)</code> to avoid mismatches.</li>
</ul>
<hr>
<p>Hark, valiant seeker, the hallowed Archive of Themes hath been conquered, and thine wisdom brims like sacred amphorae‚Äîone quest more to ascend the pinnacle of celestial enlightenment! ‚≠ê‚ö°üíé</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>