<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Pillars of Configuration and Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Code of the Lost Civilization</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Pillars of Configuration and Themes</h1>
<hr>
<p>In the depths of an ancient temple hidden within the jungle, the pillars of configuration and themes stand resolute. These towering structures, etched with cryptic hieroglyphs, represent the foundational systems of the ancient civilization. They govern the flow of mystical energy‚Äîconfigurations that influence the realm of computation and sacred themes that define the paths of knowledge seekers. Each symbol on the pillar holds secrets, waiting to be unlocked by decipherers of logic. As you delve deeper, unravel these sacred scripts to restore balance to the Codex of Infinite Wisdom.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration Enchantment</h3>
<p>This file serves as the cornerstone of the temple‚Äôs infrastructure, a repository for ancient constants, environmental variables, and critical limits. It encapsulates the wisdom of the long-lost engineers, defining parameters such as timeouts, file size constraints, and even AI logic. The <code class="inline-code">LLM_REQUEST_TIMEOUT</code> is the relic that ensures time does not slip away during rituals, while the <code class="inline-code">REPOMIX_CACHE_TTL</code> governs the longevity of sacred memories. Similarly, <code class="inline-code">MAX_FILE_SIZE_MB</code> safeguards against overwhelming storage, ensuring balance and harmony remain intact. Each constant is interwoven into the temple‚Äôs architecture, offering a glimpse into the guiding principles of its creators.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Specifies the maximum duration of sacred invocations.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Controls the lifetime of ephemeral computations.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Protects against overwhelming inputs during file scans.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>This represents the patience of the temple‚Äôs scribes, limiting the duration of their invocation rituals.</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>A totem of impermanence, this defines how long knowledge remains before dissolving into the void.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>This ceiling prevents the temple from crumbling under the weight of excessively large tomes.</p>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Themes of the Ancients</h3>
<p>This file chronicles the wisdom of theme definitions, guiding adventurers through distinct realms of adventure. At the heart of the hieroglyphs is <code class="inline-code">THEMES</code>, a sacred compendium encapsulating key themes like <code class="inline-code">ANCIENT</code>, each adorned with descriptions, symbols, and characteristics. The <code class="inline-code">getAllThemes</code> function enables seekers to decode all known themes, while <code class="inline-code">validateThemeInput</code> ensures harmony is preserved by accepting only the most sacred patterns. These inscriptions provide clarity to those exploring the Codex, offering structured pathways towards understanding its many layers.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: The sacred compendium of adventure realms.</li>
<li><code class="inline-code">getAllThemes</code>: A scroll revealing all valid themes.</li>
<li><code class="inline-code">ThemeDefinition</code>: The blueprint for the bespoke worlds.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  }
} as const;
</code></pre>
<p>The sacred annals of the ancients, preserving realms where logic and creativity meet.</p>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}
</code></pre>
<p>A revelation scroll that enumerates all the sacred pathways for adventurers to follow.</p>
<pre><code class="language-typescript">export interface ThemeDefinition {
  readonly id: number;
  readonly key: string;
  readonly displayName: string;
  readonly emoji: string;
  readonly description: string;
  readonly keywords: readonly string[];
}
</code></pre>
<p>The engineering blueprint for defining the unique realms of adventure.</p>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Rituals of Input Sanctity</h3>
<p>This file functions as a gatekeeper, ensuring that only sacred and valid inputs are used to summon the Codex‚Äôs magic. The <code class="inline-code">validateAdventureChoice</code> method enforces the purity of the seeker‚Äôs intent, trimming excess and validating choices. Similarly, <code class="inline-code">validateTheme</code> ensures that only canonical themes are accepted, invoking ancient parsing and validation rituals. These functions epitomize the temple‚Äôs wisdom, acting as guardians to prevent corrupted invocations from interrupting the flow of sacred scripts.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Ritual of intent purification.</li>
<li><code class="inline-code">validateTheme</code>: Ensures loyalty to sacred themes.</li>
<li><code class="inline-code">validateProjectPath</code>: Restricts intrusion of corrupt pathways.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>A ritual that safeguards the path of the seeker by refining their choices.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>This ensures that the chosen theme aligns with the sacred compendium.</p>
<pre><code class="language-typescript">export function validateProjectPath(input?: string): string {
  if (!input?.trim()) {
    return process.cwd();
  }
  
  if (input.length &gt; 500) {
    throw new Error(&#39;Project path too long (max 500 characters)&#39;);
  }
  
  if (input.includes(&#39;\0&#39;)) {
    throw new Error(&#39;Project path contains invalid characters&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>The final sanctuary gate that protects against corrupted or excessive paths.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Double-check the <code class="inline-code">THEMES</code> definitions to ensure proper alignment of realm details.</li>
<li>Use the <code class="inline-code">validateTheme</code> function whenever applying theme-related logic to maintain sacred integrity.</li>
<li>Review environment configurations (<code class="inline-code">config.ts</code>) to optimize runtime limits while preserving harmony.</li>
</ul>
<hr>
<p>The pillars tremble as the light of understanding fills the temple. The secrets of configuration and themes have been unearthed. Your journey to restore the Codex progresses with every mystery unlocked. Press onward, adventurer!</p>
<p>By the sacred flame of wisdom and the hallowed pillars of ancient design, thou hast triumphed in Quest 4, unveiling the arcane mastery of configuration and themes‚Äîforge ahead, for destiny&#39;s tapestry awaits thy noble hand! ‚ö°üíéüó∫Ô∏è</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: Scrolls of Utility Wisdom ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>