<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: The Codex of Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Lost Codex of the Digital Pyramid</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: The Codex of Themes</h1>
<hr>
<p>Beneath the luminous glyphs of the ancient digital pyramid lies a chamber untouched by time. This is the Sanctum of Themes, where the architects of old whispered the secrets of narrative balance into the Codex. Each theme was imbued with its own essence, designed to shape stories and adventures. To unlock the pyramid&#39;s ultimate wisdom, one must navigate the labyrinth of Theme Configurations, deciphering their purpose while avoiding the traps of inconsistency and oversights. Ancient scripts hint that mastery of this final chamber is the key to rewriting the course of adventures themselves.</p>
<p>A fate sealed in wisdom‚Äîyour ultimate treasure awaits, adventurer!</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Thematic Keys</strong>: How are different themes defined and retrieved within the digital Codex?</li>
<li>‚ö° <strong>Validation Rituals</strong>: What mechanisms ensure valid inputs, paths, and choices within the theme system?</li>
<li>üõ°Ô∏è <strong>Customization and Safety</strong>: How does the system handle user-customized themes and validation against invalid or malicious inputs?</li>
</ul>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Configuration Foundations</h3>
<p>This file establishes the key constants and defaults that shape the behavior of the Codex, including timeouts, storage limits, and error handling protocols. It serves as the cornerstone of various time-sensitive operations and ensures proper limits are maintained across integrated systems. Importantly, it also defines the requirements for the thematic adventure context.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Manages time limits for invoking the wisdom of machine-generated content. Ensures responsiveness within a sacred 60-second window.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Restricts the size of files analyzed by the system‚Äîcritical for preserving memory and performance in complex operations.</li>
<li><code class="inline-code">ERROR_MESSAGES</code>: Represents a sacred list of predefined messages that aid in graceful handling of errors encountered during exploration.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Thematic Codex</h3>
<p>This file is the sacred registry of all theme definitions and a dynamic mechanism for parsing, validating, and selecting themes. It encapsulates the essence of each theme while providing tools for investigating their relevance in various contexts.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: The core essence defining all available themes, each with unique attributes like <code class="inline-code">key</code>, <code class="inline-code">description</code>, and <code class="inline-code">keywords</code>.</li>
<li><code class="inline-code">getAllThemes</code>: A ritualistic invocation that reveals all available themes for user exploration.</li>
<li><code class="inline-code">isValidTheme</code>: Guards the sanctity of themes, ensuring inputs align with the sacred registry.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/theme-manager.ts</code></a>: Navigating the Constellation of Themes</h3>
<p>This artifact is designed to manage theme-specific assets, icons, and CSS. It bridges the conceptual layer of themes with their tangible representations, ensuring smooth integration within quests.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">generateThemeCSS</code>: A synthesis ritual combining multiple CSS artifacts into a cohesive whole for thematic display.</li>
<li><code class="inline-code">getThemeIcons</code>: Provides symbolic representations for each theme, ensuring every quest bears the mark of its associated essence.</li>
<li><code class="inline-code">isLightTheme</code>: Differentiates themes by glyph types, ensuring the sacred glyphs adapt to light or darkness.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
export const ERROR_MESSAGES = {
  LLM_UNAVAILABLE: &#39;LLM service is currently unavailable. Please check your configuration.&#39;,
  ANALYSIS_FAILED: &#39;Failed to analyze the project. Please ensure the path is valid.&#39;,
  THEME_INVALID: &#39;Invalid theme specified. Using default theme.&#39;,
  FILE_NOT_FOUND: &#39;The requested file could not be found.&#39;,
  PERMISSION_DENIED: &#39;Permission denied accessing the specified path.&#39;,
} as const;
</code></pre>
<ul>
<li><strong>Purpose</strong>: These constants enforce operational boundaries and error messaging critical to the system&#39;s reliability and user experience.</li>
<li><strong>Key Patterns</strong>: Defensive structures, like enforcing max file sizes and timeouts.</li>
<li><strong>Significance</strong>: Protects the pyramid&#39;s performance during long computations and ensures errors uphold user clarity.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">export const THEMES = {
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  }
} as const;

export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}

export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<ul>
<li><strong>Core Functionality</strong>: Enables storage, retrieval, and validation of available themes.</li>
<li><strong>Implementation Details</strong>: Themes are stored as constants linked to properties (e.g., <code class="inline-code">emoji</code>, <code class="inline-code">keywords</code>) and validated against structured criteria.</li>
<li><strong>Benefits</strong>: Provides a centralized source for theme management, ensuring consistency across the pyramid&#39;s chambers.</li>
</ul>
<hr>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/generator/src/cli/theme-manager.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/generator/src/cli/theme-manager.ts</code></a></h3>
<pre><code class="language-typescript">generateThemeCSS(theme: AdventureTheme, outputDir: string): void {
  const cssFiles = [
    path.join(this.themesDir, &#39;base.css&#39;),
    path.join(this.themesDir, &#39;homepage.css&#39;), 
    path.join(this.themesDir, &#39;animations.css&#39;),
    path.join(this.themesDir, `${theme}.css`)
  ];
  
  let combinedCSS = &#39;&#39;;
  
  cssFiles.forEach(cssFile =&gt; {
    if (fs.existsSync(cssFile)) {
      combinedCSS += fs.readFileSync(cssFile, &#39;utf8&#39;) + &#39;\\n\\n&#39;;
    }
  });
  
  const cssPath = path.join(outputDir, &#39;assets&#39;, &#39;theme.css&#39;);
  fs.writeFileSync(cssPath, combinedCSS);
}
</code></pre>
<ul>
<li><strong>Purpose</strong>: Combines multiple file artifacts to create cohesive thematic styles.</li>
<li><strong>Techniques</strong>: Ensures CSS modularity by dynamically merging files into a single unified output structure.</li>
<li><strong>Linkages</strong>: Connects storage systems with display outputs, ensuring seamless visual transitions for themes.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>To investigate the available themes, invoke <code class="inline-code">getAllThemes</code> and explore the structured definitions.</li>
<li>Be mindful of the size and limits defined in <code class="inline-code">config.ts</code> to avoid memory overflow.</li>
<li>For custom thematic integration, leverage the <code class="inline-code">isValidTheme</code> method to validate user inputs before proceeding.</li>
</ul>
<hr>
<p>You have mastered all the secrets of the Codex of Themes! Your adventure is complete.</p>
<p>Hark, ye seeker of wisdom, for thou hast unlocked the sacred Codex of Themes, ascending to the penultimate tier of thy grand odyssey‚Äîthy pursuit shines with the brilliance of a thousand stars! ‚≠ê‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4</a>
        <a href="summary.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
</body>
</html>