<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: The Hidden Path - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">The Pyramid of Code: An Archaeological Adventure</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: The Hidden Path</h1>
<hr>
<p>Beneath the verdant canopy of the jungle, a pathway lost to the whispers of time reveals its secrets. Legacies of the Pyramid of Code point to a concealed corridor, one where no sunbeam dares tread. This hidden path leads to a cryptic repository‚Äîa junction where the ancient Repository of Knowledge‚Äôs wisdom charts the boundaries between light and shadow, truth and obscurity. Only by decoding the secrets inscribed in this passage can you unveil the treasures hidden in the recesses of this sacred pyramid.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/adventure-config.ts:</span> Configuration and Path Extraction</h3>
<p>This file is vital for exploring how ancient texts‚Äîor configurations‚Äîguide the daring adventurer. It provides methods to retrieve, parse, and interpret the structured wisdom of the <code class="inline-code">adventure.config.json</code> file. The <code class="inline-code">loadAdventureConfig</code> function opens the metaphorical doors to primary sources, while <code class="inline-code">parseAdventureConfig</code> transforms mysterious inscriptions into intelligible patterns. The true gem, <code class="inline-code">extractUniqueFilePaths</code>, reveals essential artifacts‚Äîdistinct paths inscribed within the configuration‚Äîthat guide adventurers to actual knowledge.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadAdventureConfig</code>: Locates and reads the sacred configuration scrolls.</li>
<li><code class="inline-code">parseAdventureConfig</code>: Deciphers the meanings within the scroll‚Äôs ancient text.</li>
<li><code class="inline-code">extractUniqueFilePaths</code>: Maps out paths embedded in the scroll, leading to unexplored regions.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/adventure-config.ts</h3>
<pre><code class="language-typescript">export function loadAdventureConfig(projectPath: string): string | null {
  const configPath = path.join(projectPath, ADVENTURE_CONFIG_FILE);
  return readFileIfExists(configPath);
}
</code></pre>
<p>This function acts as the explorer‚Äôs lamp, revealing the hidden inscriptions of the configuration file, enabling the detection of its presence.</p>
<pre><code class="language-typescript">export function parseAdventureConfig(projectPath: string): unknown | null {
  const raw = loadAdventureConfig(projectPath);
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
</code></pre>
<p>Here lies the adventurer‚Äôs deciphering tablet, turning cryptic carvings into actionable wisdom by parsing configuration data into usable form.</p>
<pre><code class="language-typescript">export function extractUniqueFilePaths(projectPath: string): string[] {
  const parsed = parseAdventureConfig(projectPath);
  if (!parsed || typeof parsed !== &#39;object&#39;) return [];

  const unique = new Set&lt;string&gt;();
  const stack: any[] = [parsed];

  while (stack.length) {
    const node = stack.pop();
    if (!node || typeof node !== &#39;object&#39;) continue;

    // Extract and validate path
    if (typeof node.path === &#39;string&#39; &amp;&amp; node.path.trim()) {
      const rel = node.path.trim();
      if (fs.existsSync(path.resolve(projectPath, rel))) {
        unique.add(rel);
      }
    }

    // Add children to stack
    const children = Array.isArray(node) ? node : Object.values(node);
    children.forEach(child =&gt; {
      if (child &amp;&amp; typeof child === &#39;object&#39;) stack.push(child);
    });
  }

  return Array.from(unique);
}
</code></pre>
<p>This function serves as the ancient mapmaker, identifying and plotting unique trails hidden in the configuration text, leading adventurers to untouched locations.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Ensure readability of all configuration references before delving too deep into ancient pathways.</li>
<li>Examine extracted paths for potential errors or redundant trails as configurations might hold myths alongside truths.</li>
<li>Use this map to chart connections for further quests, ensuring no sacred trail is left unexplored.</li>
</ul>
<hr>
<p>Through deciphering the enigmatic inscriptions engraved in this hidden path, you hold the means to unearth knowledge guarded for countless aeons. Venture onward with determination, brave explorer!</p>
<p>Hark, travelers of wisdom, thou hast tread the sacred Hidden Path with valor, uncovering the ancient truths that illuminate thine ascent‚Äîone triumph more, and the temple‚Äôs ultimate secret shall be thine! ‚≠ê‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-4.html" class="prev-quest-btn">‚Üê Previous: Quest 4</a>
        <a href="index.html" class="next-quest-btn complete-btn">Complete Adventure ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>