<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 5: Command Utility Core - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Codex: The Adventures of RepoQuest</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 5: Command Utility Core</h1>
<hr>
<p>Through the swirling maelstrom of the nebula, the <em>RepoQuest</em> encounters an anomaly‚Äîa fragment of the Galactic Codex whose paths are hidden within layers of encrypted stellar data. The ship&#39;s Command Utility Core must be configured to decode these layers, transform raw cosmic inputs into actionable exploration routes, and extract critical mission files. Captain, prepare your crew to delink the barrier and leverage advanced parsing algorithms to ensure the Codex reveals the secrets of this realm.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/adventure-config.ts:</span> Core configuration mechanics for quest objectives</h3>
<p>This file contains the structural foundation to read, parse, and analyze adventure configurations stored as JSON. It outlines the core functionality required to load configuration files from the filesystem, validate their contents, and extract mission-critical file paths for stellar navigation. Three key highlights include reading raw config files via <code class="inline-code">loadAdventureConfig</code>, parsing them into structured objects using <code class="inline-code">parseAdventureConfig</code>, and extracting unique file paths referenced across the decoded configuration objects via <code class="inline-code">extractUniqueFilePaths</code>. These methods form the backbone of the Command Utility Core, enabling seamless exploration of the Codex‚Äôs encrypted layers.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadAdventureConfig</code>: Handles raw input retrieval with fail-safes.</li>
<li><code class="inline-code">parseAdventureConfig</code>: Decodes adventure configurations into actionable objects.</li>
<li><code class="inline-code">extractUniqueFilePaths</code>: Extracts file paths essential for navigation.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/adventure-config.ts</h3>
<pre><code class="language-typescript">export function loadAdventureConfig(projectPath: string): string | null {
  const configPath = path.join(projectPath, ADVENTURE_CONFIG_FILE);
  return readFileIfExists(configPath);
}
</code></pre>
<p>Like a scanner probing distant star charts, this function retrieves raw data from the filesystem, ensuring missing or unreadable files don‚Äôt obstruct critical missions.</p>
<pre><code class="language-typescript">export function parseAdventureConfig(projectPath: string): unknown | null {
  const raw = loadAdventureConfig(projectPath);
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
</code></pre>
<p>This function acts as a decoder, translating cosmic data into structured objects, much like transforming static star signals into galactic map coordinates.</p>
<pre><code class="language-typescript">export function extractUniqueFilePaths(projectPath: string): string[] {
  const parsed = parseAdventureConfig(projectPath);
  if (!parsed || typeof parsed !== &#39;object&#39;) return [];

  const unique = new Set&lt;string&gt;();
  const stack: any[] = [parsed];

  while (stack.length) {
    const node = stack.pop();
    if (!node || typeof node !== &#39;object&#39;) continue;

    if (typeof node.path === &#39;string&#39; &amp;&amp; node.path.trim()) {
      const rel = node.path.trim();
      if (fs.existsSync(path.resolve(projectPath, rel))) {
        unique.add(rel);
      }
    }

    const children = Array.isArray(node) ? node : Object.values(node);
    children.forEach(child =&gt; {
      if (child &amp;&amp; typeof child === &#39;object&#39;) stack.push(child);
    });
  }

  return Array.from(unique);
}
</code></pre>
<p>This extraction function behaves like a stellar sieve, filtering through cosmic detritus to identify valid paths leading to hidden mission files.</p>
<h2>Helpful Hints</h2>
<ul>
<li><strong>Practical Tip:</strong> Always validate your Codex configuration files for unknown errors before integration into larger missions.</li>
<li><strong>Exploration Recommendation:</strong> Test edge cases (e.g., empty objects or nested structures) to ensure extracted paths match mission requirements.</li>
<li><strong>Next Steps:</strong> Extend path validation logic to include remote destinations and alien nodes for future Codex entries.</li>
</ul>
<hr>
<p>Your Command Utility Core is primed, Captain. The secrets of this stellar realm await your decoding!</p>
<p>Mission Control confirms an astronomical success as Quest 5: Command Utility Core is powered up‚Äîyou&#39;re 80% through the cosmic journey, a true starship captain blazing through the galactic frontier! ‚≠êüöÄ‚ö°</p>

</div>


    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>