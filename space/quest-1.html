<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 1: Command Nexus ‚Äì Mission Interface - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-space">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">Stellar Chronicles: Galactic Codebase Expeditions</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: Command Nexus ‚Äì Mission Interface</h1>
<hr>
<p>The <strong>AI Starship Odyssey</strong> sails through the cosmos, tasked with activating the Alliance&#39;s Command Nexus infrastructure. As a critical step in optimizing the operational lattice for space exploration, your dynamic crew must delve into the software pipelines powering the HTML adventure generation. Navigate the fiery trails of implementation from structured template engines to the creative sparks of global asset management. Prepare to unravel the mysteries hidden in the Command Nexus ‚Äì the Alliance&#39;s centralized system for seamless mission interfaces.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Template Calibration</strong>: How does <code class="inline-code">TemplateEngine.renderPage</code> combine data templates and variables to generate complete mission interfaces? </li>
<li>‚ö° <strong>Pipeline Activation</strong>: What operational sequences are orchestrated by <code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> to ensure consistency across the pipeline?  </li>
<li>üõ°Ô∏è <strong>Asset Backup</strong>: How does <code class="inline-code">AssetManager.copyGlobalAssets</code> ensure assets like images and themes are preserved for interstellar missions?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/template-engine.ts:</span> Template System Operations</h3>
<p>The <code class="inline-code">TemplateEngine</code> class handles the creation of HTML files essential for mission interfaces. Through methods like <code class="inline-code">renderPage</code> and <code class="inline-code">replacePlaceholders</code>, the code processes templates stored in the system&#39;s cache, fills placeholders with dynamic variables, and renders mission-ready documents. By centralizing these operations, the system ensures efficiency and modularity, crucial for adaptability in shifting galactic environments.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">loadTemplate</code>: Loads HTML templates from the mission directory and caches them for reuse. This ensures rapid processing during repeated operations without reloading files.</li>
<li><code class="inline-code">replacePlaceholders</code>: Dynamically replaces template placeholders like <code class="inline-code">{{CONTENT}}</code> with variable data, enabling customization of mission interfaces for various scenarios.</li>
<li><code class="inline-code">renderPage</code>: Merges multiple template fragments and variables into cohesive mission documents, optimizing flexibility for multi-theme operations.</li>
</ul>
<h3><span class="header-prefix">packages/generator/src/cli/asset-manager.ts:</span> Asset Operations</h3>
<p>The <code class="inline-code">AssetManager</code> class takes charge of copying critical assets like images and theme files across directories. Its methods guarantee key mission materials are distributed appropriately, empowering visuals and thematic consistency in generated interfaces.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">copyGlobalAssets</code>: Ensures essential shared files, like images and the Alliance logo, are copied to the community directory for universal use across themes.</li>
<li><code class="inline-code">copyQuestNavigator</code>: Handles navigator files, ensuring easy mission selection from generated HTML pages. This simplifies navigation during interstellar operations.</li>
<li><code class="inline-code">copyImages</code>: Copies theme-specific images and applies them to mission interfaces, maintaining visual consistency for users exploring galactic quest systems.</li>
</ul>
<h3><span class="header-prefix">packages/generator/src/cli/html-generator.ts:</span> Orchestration Pipeline</h3>
<p>The <code class="inline-code">HTMLAdventureGenerator</code> class operates as the Command Nexus&#39;s orchestration hub. It initializes the template engine, asset manager, and adventure manager, triggering essential sequences that ensure large-scale mission readiness.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">generateAdventure</code>: Initiates the full lifecycle of adventure creation by analyzing the codebase, generating quests, and activating templates and assets.</li>
<li><code class="inline-code">generateAllThemes</code>: Expands the pipeline for optimized multi-theme generation, allowing the Alliance to customize interfaces for different planetary systems.</li>
<li><code class="inline-code">startHttpServer</code>: Deploys an HTTP server for instantaneous mission access, giving explorers a smooth interface for reviewing their HTML files.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/template-engine.ts</h3>
<pre><code class="language-typescript">/**
 * Replace placeholders in template with variables
 */
private replacePlaceholders(template: string, variables: TemplateVariables): string {
  let result = template;
  
  for (const [key, value] of Object.entries(variables)) {
    const placeholder = `{{${key}}}`;
    result = result.replace(new RegExp(placeholder, &#39;g&#39;), value || &#39;&#39;);
  }
  
  return result;
}
</code></pre>
<ul>
<li>Replaces mission template placeholders (<code class="inline-code">{{CONTENT}}</code>, <code class="inline-code">{{TITLE}}</code>) with dynamic variables.</li>
<li>Uses regex patterns for global replacement, ensuring full coverage across templates.</li>
<li>Simplifies multi-theme adaptability by dynamically mapping template variables.</li>
</ul>
<hr>
<pre><code class="language-typescript">/**
 * Render a complete page using base template + content template
 */
renderPage(contentTemplate: string, variables: TemplateVariables): string {
  const baseTemplate = this.loadTemplate(&#39;base-template.html&#39;);
  const contentHtml = this.loadTemplate(contentTemplate);
  
  // First render the content template
  const renderedContent = this.replacePlaceholders(contentHtml, variables);
  
  // Then render the base template with the content
  const pageVariables = {
    ...variables,
    CONTENT: renderedContent
  };
  
  return this.replacePlaceholders(baseTemplate, pageVariables);
}
</code></pre>
<ul>
<li>Combines <code class="inline-code">baseTemplate</code> and <code class="inline-code">contentTemplate</code> into cohesive mission pages.</li>
<li>Enables dynamic rendering with variables like <code class="inline-code">CONTENT</code> for flexible interface generation.</li>
<li>Ensures rapid customization for scalable galactic narrative deployment.</li>
</ul>
<hr>
<h3>packages/generator/src/cli/html-generator.ts</h3>
<pre><code class="language-typescript">  async generateAdventure(): Promise&lt;void&gt; {
    console.log(chalk.yellow.bold(&#39;üöÄ Generating Adventure...&#39;));
    console.log();

    try {
      const repomixContent = await repoAnalyzer.generateRepomixContext(this.projectPath);
      const projectInfo = createProjectInfo(repomixContent);

      const storyContent = await this.adventureManager.initializeAdventure(
        projectInfo, 
        this.selectedTheme, 
        this.projectPath,
        this.customThemeData
      );

      this.extractQuestInfo();
      await this.generateQuestPages();
      
      console.log(chalk.green.bold(&#39;üéâ Adventure website generated successfully!&#39;));
      console.log(chalk.cyan(`üìÅ Location: ${this.outputDir}`));
    } catch (error) {
      console.error(chalk.red(&#39;‚ùå Error generating adventure:&#39;), error);
    }
  }
</code></pre>
<ul>
<li>Activates codebase analysis and story initialization for multi-quest generation.</li>
<li>Ensures readiness of quests, narrative templates, and assets via integrated handlers.</li>
<li>Expands interstellar accessibility by facilitating seamless HTML adventure deployment.</li>
</ul>
<hr>
<h3>packages/generator/src/cli/asset-manager.ts</h3>
<pre><code class="language-typescript">  /**
   * Copy global shared assets for multi-theme generation
   */
  copyGlobalAssets(outputDir: string): void {
    try {
      const globalAssetsDir = path.join(outputDir, &#39;assets&#39;);
      const targetImagesDir = path.join(globalAssetsDir, &#39;images&#39;);
      fs.mkdirSync(targetImagesDir, { recursive: true });

      const globalSharedDir = path.join(outputDir, &#39;assets&#39;, &#39;shared&#39;);
      fs.mkdirSync(globalSharedDir, { recursive: true });
      
      const globalImages = [&#39;github-mark.svg&#39;, &#39;github-mark-white.svg&#39;];
      globalImages.forEach(file =&gt; {
        const sourcePath = path.join(this.sourceDir, &#39;assets&#39;, &#39;shared&#39;, file);
        if (fs.existsSync(sourcePath)) {
          const targetPath = path.join(globalSharedDir, file);
          fs.copyFileSync(sourcePath, targetPath);
        }
      });

      console.log(chalk.green(&#39;‚úÖ Shared navigator and global assets copied to consolidated assets directory&#39;));
    } catch (error) {
      console.log(chalk.red(&#39;‚ùå Failed to copy global assets:&#39;), error);
    }
  }
</code></pre>
<ul>
<li>Ensures critical community assets like logos are deployed to uniform directories.</li>
<li>Maintains thematic consistency across missions by consolidating multi-theme dependencies.</li>
<li>Boosts operational efficiency by standardizing asset copying procedures.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Explore the rendering pipeline to understand variable injection into templates.</li>
<li>Investigate asset management regions for replicable strategies across multi-theme outputs.</li>
<li>Analyze orchestration pipelines to observe command-driven workflow integration.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries hidden within the Command Nexus.</p>
<p>Stellar success achieved, Commander‚ÄîQuest 1: Command Nexus ‚Äì Mission Interface accomplished with cosmic precision; launch forth boldly towards the next galactic milestone! üöÄ‚≠ê‚ú®</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>