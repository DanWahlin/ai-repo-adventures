<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Theme Workshop - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'space' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">Starship Lumina: Expedition of Code Horizons</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Theme Workshop</h1>
<hr>
<p>The <strong>Starship Lumina</strong>&#39;s voyage continues as the crew delves deeper into the luminous currents of the cascading digital galaxy. Their latest mission is riddled with excitement and purpose: the star-charts have indicated a sophisticated Theme Workshop within the MCP&#39;s central repository‚Äîa vault that defines how the galaxy organizes and interprets its vast codescapes. Captain Nova and the team must decipher the workshop‚Äôs intricate configurations, ensuring the perfect alignment of themes and style guides. Will the crew enhance the starship‚Äôs thematic unity, or will they be lost in an orbit of endless choices?</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Theme Definitions and Validation</h3>
<p>This file acts as a key cornerstone for the <strong>Theme Workshop</strong> aboard the <strong>Starship Lumina</strong>, where all theme-related data and operations live. It provides a structured blueprint (<code class="inline-code">ThemeDefinition</code>) for what a theme should include: an <code class="inline-code">id</code>, <code class="inline-code">key</code>, <code class="inline-code">emoji</code>, <code class="inline-code">description</code>, and keywords‚Äîa rich data set used to weave compelling adventures. The <strong>THEMES</strong> constant stores predefined themes like <code class="inline-code">SPACE</code>, <code class="inline-code">MYTHICAL</code>, and <code class="inline-code">ANCIENT</code>, each complete with unique metaphors tailored to their domain. Notably, the file houses functions like <code class="inline-code">isValidTheme()</code> and <code class="inline-code">parseTheme()</code>‚Äîessential tools for validating user input and aligning it to a theme. Beyond that, <code class="inline-code">getFormattedThemeOptions()</code> showcases an engaging list of themes, supporting user-facing operations beautifully. This file captures the art and science of theming, making it central to customizing quests and adventures.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">ThemeDefinition</code> class encapsulates theme properties like <code class="inline-code">key</code>, <code class="inline-code">description</code>, and <code class="inline-code">emoji</code>.  </li>
<li>Predefined themes such as <code class="inline-code">SPACE</code> offer distinct adventure metaphors and vocabulary.  </li>
<li>Functions such as <code class="inline-code">parseTheme()</code> map user input to actual theme definitions.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a>: Input Validation and User Security</h3>
<p>While the <strong>Theme Workshop</strong> allows for creativity, potential hazards abound when integrating user input. That‚Äôs where this file functions like an onboard shields array, ensuring data integrity and preventing unexpected detours. Key functions such as <code class="inline-code">validateTheme()</code> and <code class="inline-code">validateAdventureChoice()</code> sanitize and analyze user submissions. The logic here inspects user-provided themes for spelling anomalies or unauthorized themes while offering valid alternatives. The function cleverly integrates with <code class="inline-code">theme.ts</code> to ensure validated data aligns with predefined themes or user-created ones. Additionally, <code class="inline-code">sanitizeForDisplay()</code> strips potentially hazardous characters, ensuring system interactions remain secure. This file plays a quiet but indispensable role in keeping both the workshop and the galaxy free from cyber debris.  </p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateTheme()</code> ensures user inputs align with supported themes.  </li>
<li><code class="inline-code">validateAdventureChoice()</code> maintains input length and completeness within limits.  </li>
<li><code class="inline-code">sanitizeForDisplay()</code> filters user data for secure and clean interactions.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">// Single source of truth for all themes
export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
} as const;
</code></pre>
<p>This represents a cosmic directory of adventure paths, where <code class="inline-code">id</code> numbers and <code class="inline-code">keywords</code> serve as stellar waypoints.  </p>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/input-validator.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/input-validator.ts</code></a></h3>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }

  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);

  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }

  return parsedTheme;
}
</code></pre>
<p>This function serves like a starship&#39;s universal translator‚Äîit deciphers inputs into clear, navigable themes while protecting from errors.  </p>
<h2>Helpful Hints</h2>
<ul>
<li>Use <code class="inline-code">getFormattedThemeOptions()</code> to make theme selection intuitive for users.  </li>
<li>Consider how user-defined <code class="inline-code">CUSTOM</code> themes could create personal adventure flair.  </li>
<li>Experiment with keywords or add new themes to offer more creative exploration routes.</li>
</ul>
<hr>
<p>Congratulations, Explorer ‚Äî you&#39;ve rocketed through Quest 4: Theme Workshop, expanding your creative orbit like a true cosmic navigator, and you&#39;re now 60% closer to reaching mission completion! üöÄ‚ö°‚≠ê</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: Core Configuration Matrix ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>