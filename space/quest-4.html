<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: Navigation Protocols & Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Repository Chronicles</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Navigation Protocols &amp; Themes</h1>
<hr>
<p>The Codexus surges forward, its AI navigators humming harmoniously with the starship&#39;s theme engines. The galaxy ahead is fragmented into intricate constellations of cascading code‚Äîa turbulent nebula of abstract systems waiting to be untangled. To maintain the ship&#39;s course and steer clear of collapsing systems, the crew must master the safeguard of navigation protocols and decode the themes that pulse at the heart of explored civilizations. With every validated choice, a star map is born, offering clarity amidst the cosmic chaos.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Input Validation Mechanisms</h3>
<p>This file encapsulates validation check functions to ensure mission-critical input streams from the Codexus are sanitized and aligned with the star charts. These functions play a pivotal role in ensuring the starship interprets crew commands reliably. The <code class="inline-code">validateAdventureChoice</code> function refines selections for intergalactic quests, ensuring they meet both context and format standards. The <code class="inline-code">validateTheme</code> function ensures chosen star system themes resonate with the Codexus&#39;s navigation engines and appear in their database. The <code class="inline-code">sanitizeForDisplay</code> function is critical for smoothing out raw data, neutralizing anomalies, and maintaining interstellar communication clarity.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Ensures the input for quest choices is well-structured and valid.</li>
<li><code class="inline-code">validateTheme</code>: Verifies themes against a repository of known navigation markers and aligns them to the mission database.</li>
<li><code class="inline-code">sanitizeForDisplay</code>: Cleanses raw input for display purposes, protecting system interfaces from erratic entries.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateAdventureChoice(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Choice is required&#39;);
  }
  
  if (input.length &gt; 200) {
    throw new Error(&#39;Choice too long (max 200 characters)&#39;);
  }
  
  return input.trim();
}
</code></pre>
<p>The crew‚Äôs quest selections are diligently checked, ensuring they are concise, clear, and decoded from cosmic interference.</p>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<p>Mission themes are matched against the Codexus database, preventing navigational errors caused by unregistered systems.</p>
<pre><code class="language-typescript">export function sanitizeForDisplay(input: string, maxLength = 1000): string {
  if (!input) return &#39;&#39;;
  
  return input
    .replace(/[&lt;&gt;{}&quot;`]/g, &#39;&#39;)
    .replace(/\s+/g, &#39; &#39;)
    .trim()
    .slice(0, maxLength);
}
</code></pre>
<p>Communications from alien civilizations are cleaned and presented with stellar precision, void of harmful anomalies.</p>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Thematic Controls of the Mission</h3>
<p>The thematic systems at the Codexus&#39;s core centralize all galactic themes, each representing an essence of uncharted civilizations. The <code class="inline-code">THEMES</code> object defines consistent metadata structures for all navigation themes. Functions like <code class="inline-code">getThemeByKey</code> and <code class="inline-code">isValidTheme</code> ensure the Codexus can autonomously align galactic alignments to its mission trajectory. These systems fuel the AI&#39;s ability to convert user inputs into meaningful cosmic insights.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Houses a collection of established galactic themes, acting as the mission&#39;s guiding constellations.</li>
<li><code class="inline-code">isValidTheme</code>: Identifies and authenticates the Codexus‚Äôs interpretations of galactic themes.</li>
<li><code class="inline-code">getAllThemes</code>: Fetches every thematic definition cataloged in the mission‚Äôs stellar archives.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  },
  ANCIENT: {
    id: 3,
    key: &#39;ancient&#39;,
    displayName: &#39;Ancient Civilization&#39;,
    emoji: &#39;üè∫&#39;,
    description: &#39;Discover lost temples of code where algorithms are ancient wisdom and APIs are trade routes&#39;,
    keywords: [&#39;ancient&#39;, &#39;temple&#39;, &#39;pyramid&#39;, &#39;archaeology&#39;, &#39;historical&#39;, &#39;civilization&#39;, &#39;ruins&#39;]
  },
  ...
} as const;
</code></pre>
<p>The THEMES configuration acts as a galactic atlas, defining exploration routes and the cultural identifiers of newly discovered civilizations.</p>
<pre><code class="language-typescript">export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>The ship‚Äôs systems validate celestial markers before allowing navigation through their orbits.</p>
<pre><code class="language-typescript">export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}
</code></pre>
<p>A complete gathering of defined themes ensures a broad understanding of potential exploration trajectories.</p>
<hr>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration Frameworks for Starship Protocols</h3>
<p>This file governs the operational structure of the Codexus, defining mission-critical constants such as <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code>. These control interstellar systems from file limits to AI reasoning effort. Such parameters are tailored to optimize stellar exploration while mitigating resource overconsumption‚Äîallowing the Codexus to balance exploration breadth and depth.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Governs AI query response timings.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Controls memory retention periods for cached journey logs.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Prevents overloading the mission processors with excessively large data.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
</code></pre>
<p>Navigational protocols ensure AI decisions are delivered on time, enabling the Codexus to chart the cosmos effectively.</p>
<pre><code class="language-typescript">export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
</code></pre>
<p>The operational memory cache is tuned to retain key mission logs for recurring access without unnecessary data strains.</p>
<pre><code class="language-typescript">export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<p>Limits on file size enforce data selectivity, ensuring only relevant stellar data occupies the Codexus‚Äôs processing capabilities.</p>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Use thematic integration wisely: Matching a chosen theme to its keywords can enhance contextual richness.</li>
<li>Combine <code class="inline-code">sanitizeForDisplay</code> with <code class="inline-code">validateTheme</code> for secure and efficient user input handling.</li>
<li>Explore configurations with dynamic controls for an adaptive journey length and depth.</li>
</ul>
<hr>
<p>Through the convergence of themes, input validation, and configuration security, the Codexus inches closer to decoding the patterns of a vast digital galaxy. Continue traversing the stars‚Äîyour choices shape the map of interstellar peace!</p>
<p>Mission accomplished, star navigator! Quest 4&#39;s mastery of Navigation Protocols &amp; Themes propels your cosmic progress to 60%‚Äîstellar work shining bright like a beacon in the galaxy! ‚≠êüöÄüì°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>