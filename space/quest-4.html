<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Cosmic Configuration Hub - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="assets/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Galactic Chronicles: The Codebase Odyssey</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Cosmic Configuration Hub</h1>
<hr>
<p>In the heart of the <strong>Nebula Nexus Cluster</strong>, a tantalizing challenge awaits aboard the starship <strong>RepoExplorer</strong>. Your mission: to uncover the secrets buried deep within the <strong>Cosmic Configuration Hub</strong>, the stellar vault of rules governing repository exploration. As you approach, the starship‚Äôs AI guides you into an intricate maze of interstellar settings, validation protocols, and thematic directives. Only by navigating and mastering the starship‚Äôs configuration systems can you unlock the final secrets of this galaxy-spanning adventure. Brave engineer, chart your path through this enigmatic realm!</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Configuration Calibration</strong>: How are timeout values and cache settings established to balance expeditions through vast repositories?</li>
<li>‚ö° <strong>Theme Orbit Mapping</strong>: What mechanisms allow for cohesive, highly specialized space themes to be defined and validated?</li>
<li>üõ°Ô∏è <strong>Validation Shields</strong>: How does input validation ensure stability and prevent erroneous navigation across cosmic paths?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configuration rules for interstellar operations</h3>
<p>This file defines constants and environment settings that manage the <strong>RepoExplorer&#39;s</strong> operations. Through variables like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code>, the file establishes boundaries and ensures efficiency during repository exploration. It also introduces error messages and ignores patterns to safeguard mission stability. The configuration hub aids in shaping an optimal environment for AI-powered analysis while preventing resource exhaustion. Exploring this file will reveal the core parameters overseeing every expedition in the <strong>Cosmic Repositories</strong>.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Sets limits for AI requests to ensure smooth operation in generating large narratives.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Controls cache expiration rates for processed data, ensuring efficient resource management.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Defines thresholds for file size to keep processing manageable during analysis tasks.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Thematic systems guiding stellar adventures</h3>
<p>This file encapsulates the design and functionality of the <strong>Adventure Themes</strong>, creating a centralized framework that defines multiple settings such as <strong>Space Exploration</strong> and <strong>Custom Themes</strong>. It provides validation, parsing, and formatting tools that ensure users interact with predefined or personalized themes seamlessly. The thoughtful implementation allows adventurers to confidently navigate the narrative-scape while immersing themselves in a cohesive, space-themed experience.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: A comprehensive object defining the key properties of all available themes in the adventure system.</li>
<li><code class="inline-code">parseTheme</code>: Parses user input to find the matching theme based on keywords or identifiers.</li>
<li><code class="inline-code">getAllThemes</code>: Retrieves a list of all defined themes for dynamic exploration and user validation.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/input-validator.ts:</span> Galactic gateway for safe mission inputs</h3>
<p>This file ensures that all inputs provided by users to the starship‚Äôs systems are sanitized and validated before being processed. From validating adventure choices to theme selection, the input validator protects against unstable paths and thematic misconfigurations. Its robust error handling mechanisms guide smooth navigation through the galaxy&#39;s coding landscapes.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">validateAdventureChoice</code>: Validates user-submitted quest choices to ensure they are meaningful and within acceptable limits.</li>
<li><code class="inline-code">validateTheme</code>: Verifies that the provided theme corresponds to valid adventure configurations from <code class="inline-code">theme.ts</code>.</li>
<li><code class="inline-code">validateProjectPath</code>: Checks and sanitizes paths for the repository analysis to ensure stability and accuracy.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">// Timeout and cache configurations
export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code
</code></pre>
<ul>
<li>Defines critical limits such as API timeouts, ensuring long-running operations do not hinder system flow.</li>
<li>Cache settings optimize resource usage by clearing stale data frequently.</li>
<li>File size thresholds protect memory consumption and prioritize manageable code analysis.</li>
</ul>
<hr>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  CUSTOM: {
    id: 5,
    key: &#39;custom&#39;,
    displayName: &#39;Custom Theme&#39;,
    emoji: &#39;üé®&#39;,
    description: &#39;Design your own adventure! You\&#39;ll be prompted to provide theme name, description, and keywords&#39;,
    keywords: [&#39;custom&#39;, &#39;personalized&#39;, &#39;unique&#39;, &#39;creative&#39;, &#39;personal&#39;]
  }
} as const;
</code></pre>
<ul>
<li>Provides theme metadata that guides narrative creation, including keywords to match user preferences.</li>
<li>Centralized definitions ensure thematic cohesion across all adventures.</li>
<li>The use of <code class="inline-code">as const</code> locks theme properties to prevent accidental modification, ensuring reliable system behavior.</li>
</ul>
<hr>
<h3>packages/core/src/shared/input-validator.ts</h3>
<pre><code class="language-typescript">export function validateTheme(input: string): string {
  if (!input?.trim()) {
    throw new Error(&#39;Theme is required&#39;);
  }
  
  const normalized = input.toLowerCase().trim();
  const parsedTheme = parseTheme(normalized);
  
  if (!parsedTheme || !isValidTheme(parsedTheme)) {
    const validThemes = getAllThemes().map(t =&gt; t.key).join(&#39;, &#39;);
    throw new Error(`Invalid theme. Valid themes: ${validThemes}`);
  }
  
  return parsedTheme;
}
</code></pre>
<ul>
<li>Ensures users only select valid themes while handling errors with straightforward messages.</li>
<li>Employs normalization techniques like trimming whitespace and case-conversion for robust validation.</li>
<li>Integrates <code class="inline-code">parseTheme</code> for keyword matching and checks against available themes using <code class="inline-code">isValidTheme</code>.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>üöÄ Prioritize understanding <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and cache settings to align system expectations during exploration.</li>
<li>üåå Discover how themes are structured through the <code class="inline-code">THEMES</code> object to appreciate narrative flexibility.</li>
<li>üõ°Ô∏è Focus on input validation methods to grasp their importance in safeguarding interstellar navigation.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>You&#39;ve successfully docked at the Cosmic Configuration Hub, propelling your mission to 60% completion‚Äîstellar work, Captain, your trajectory to the stars is unstoppable! ‚≠êüöÄüì°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="assets/quest-navigator.js"></script>
</body>
</html>