<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Pillars of Configuration - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Set theme-aware CSS variables for animations
        document.addEventListener('DOMContentLoaded', function() {
            // Manually trigger Prism highlighting after page load
            if (window.Prism) {
                window.Prism.highlightAll();
            }
            // Detect theme from current CSS variables or default to space
            const root = document.documentElement;
            
            // Simple theme detection based on page content or default to space
            const theme = 'space' || 'space';
            
            // Set display variables for animated elements
            root.style.setProperty('--space-display', theme === 'space' ? 'block' : 'none');
            root.style.setProperty('--ancient-display', theme === 'ancient' ? 'block' : 'none');
            root.style.setProperty('--mythical-display', theme === 'mythical' ? 'block' : 'none');
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">Starship Horizons: Charting the Code Galaxy</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Pillars of Configuration</h1>
<hr>
<p>As the <em>Horizons</em> starship streaked through the silent expanse of the Repomix Nebula, the faint shimmer of the Pillars of Configuration became visible on the galaxy scanner. These massive data-structures, pulsating with streams of cosmic energy, were said to house the secrets of optimal galactic code orchestration. With every pulse, they broadcast enigmatic patterns across star charts‚Äîfragments of code embedded in their swirling, fluorescent mist. The crew huddled around the holotable, ready for their next mission: to decipher the towering configurations, distill their wisdom, and ensure their stability so it wouldn‚Äôt fracture the expedition‚Äôs nexus, known as the LLM-powered quest engine.</p>
<h2>File Exploration</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a>: Central Configuration Nexus</h3>
<p>This file acts as the brain of the <em>Horizons</em> adventure system, anchoring all constants, limits, and environmental settings needed for smooth interstellar navigation. Responsible for setting timeouts for LLM queries, defining cache durations, and enforcing file size limits, it plays a vital role in optimizing resource efficiency. For instance, the constant <code class="inline-code">LLM_REQUEST_TIMEOUT</code> ensures the ship&#39;s navigation AI doesn‚Äôt overheat during complex decision-making processes, while <code class="inline-code">REPOMIX_CACHE_TTL</code> avoids analysis stutters by balancing storage and performance. Like stabilizing a ship&#39;s power core, this file ensures all components, from repomix integration to LLM responses, are synchronized. The file also defines adventure boundaries, such as <code class="inline-code">MAX_FILE_SIZE_MB</code> and <code class="inline-code">MAX_SCAN_DEPTH</code>, to protect the galaxy‚Äôs systems from overloads during mission scans.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code> prevents the expedition from stalling with a fail-safe for starship computations.</li>
<li><code class="inline-code">MAX_SCAN_DEPTH</code> ensures mission focus by limiting the directory recursion depth during exploration.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code> leverages caching to maintain efficiency while avoiding stagnation.</li>
</ul>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a>: Thematic Anchors of the Galaxy</h3>
<p>Embedded in the cultural backbone of the <em>Horizons</em> crew, this file is the single source of truth for defining themes, such as ‚ÄúSpace Exploration.‚Äù These themes dynamically shape the galactic adventure experiences through customizable narratives. At the heart of this file is <code class="inline-code">THEMES</code>, a collection of predefined theme objects enriched with keywords, visual icons, and concise descriptions. Functions like <code class="inline-code">getAllThemes()</code> and <code class="inline-code">isValidTheme()</code> allow the LLM to filter user choices and maintain consistent configurations. By correlating keywords to theme objects, the galaxy‚Äôs systems personalize crew interactions in real-time, cultivating the cosmic feel the adventurers long for.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code> defines multiple adventure styles, anchoring narrative versatility.</li>
<li><code class="inline-code">getAllThemes()</code> streamlines the selection of themes for galactic storytelling.</li>
<li><code class="inline-code">isValidTheme()</code> provides a validation mechanism to curb input misalignments.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/config.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/config.ts</code></a></h3>
<pre><code class="language-typescript">// Timeouts in milliseconds
export const LLM_REQUEST_TIMEOUT = 60000; // 60 seconds for complex story generation with large prompts
export const REPOMIX_CACHE_TTL = parseInt(process.env.REPOMIX_CACHE_TTL || &#39;60000&#39;); // 60 seconds, configurable via env

// Analysis limits
export const MAX_SCAN_DEPTH = 3; // Maximum directory depth to prevent infinite recursion and keep analysis focused
export const MAX_FILE_SIZE_MB = 10; // Skip files larger than this to avoid memory issues and focus on source code

// Adventure settings
export const DEFAULT_THEME = &#39;space&#39; as const;
export const MAX_FILE_LINES_FOR_LLM = 100; // Truncate files to keep LLM prompts manageable
</code></pre>
<p>This configuration acts like the starship‚Äôs checklist, ensuring no mission veers off-course or exhausts resources unnecessarily.</p>
<h3><a href="https://github.com/danwahlin/ai-repo-adventures/blob/main/packages/core/src/shared/theme.ts" target="_blank" rel="noopener noreferrer"><code class="inline-code">packages/core/src/shared/theme.ts</code></a></h3>
<pre><code class="language-typescript">// Single source of truth for all themes
export const THEMES = {
  SPACE: {
    id: 1,
    key: &#39;space&#39;,
    displayName: &#39;Space Exploration&#39;,
    emoji: &#39;üöÄ&#39;,
    description: &#39;Journey through cosmic codebases where data flows like stardust and APIs connect distant galaxies&#39;,
    keywords: [&#39;space&#39;, &#39;cosmic&#39;, &#39;galaxy&#39;, &#39;starship&#39;, &#39;astronaut&#39;, &#39;sci-fi&#39;, &#39;futuristic&#39;]
  },
  MYTHICAL: {
    id: 2,
    key: &#39;mythical&#39;,
    displayName: &#39;Enchanted Kingdom&#39;,
    emoji: &#39;üè∞&#39;,
    description: &#39;Explore magical and mythical realms where databases are dragon hoards and functions are powerful spells&#39;,
    keywords: [&#39;mythical&#39;, &#39;magic&#39;, &#39;enchanted&#39;, &#39;castle&#39;, &#39;dragon&#39;, &#39;fantasy&#39;, &#39;medieval&#39;, &#39;kingdom&#39;]
  }
} as const;

// Helper functions to access theme data using simple array iteration
export function getAllThemes(): ThemeDefinition[] {
  return THEMES_ARRAY;
}

export function isValidTheme(theme: string): theme is AdventureTheme {
  return THEMES_ARRAY.some(t =&gt; t.key === theme);
}
</code></pre>
<p>Just as a galaxy map organizes constellations for travelers, this system organizes adventure themes for players, ensuring their journeys are vibrant and cohesive.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Ensure timeout values like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> are appropriate for systems with varying computational limits.</li>
<li>Use the <code class="inline-code">THEMES</code> structure in <code class="inline-code">theme.ts</code> as a base template to extend your adventure library with custom themes.</li>
<li>Explore ways to override default configurations dynamically during runtime for advanced customization.</li>
</ul>
<p>Congratulations, cosmic navigator‚ÄîQuest 4: The Pillars of Configuration has been mastered, unlocking new celestial coordinates and accelerating your starship to 60% mission completion brilliance! ‚≠êüöÄ‚ö°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5: The Datastream Alignment Core ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">
                <img src="assets/images/github-mark-white.svg" alt="GitHub" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                MCP Repo Adventure
            </a>
        </div>
    </footer>
</body>
</html>