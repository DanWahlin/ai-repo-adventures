<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 4: The Vault of Configurations and Themes - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-ancient">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Codex of Lost Civilizations</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Vault of Configurations and Themes</h1>
<hr>
<p>Throughout the uncharted jungles and sacred pyramids, hidden treasures of ancient wisdom await those bold enough to seek them. This chapter of your journey leads you to the Vault of Configurations and Themes, a chamber whispered about only in fragmented inscriptions. Here lies the sacred mechanisms through which adventures are adorned with identity and style. Pilgrims of coding lore once forged these tools to ensure their creations were harmonious yet versatile, scalable yet timeless. Are you ready to decipher the glyphs and unlock the Vault?</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Ancient Glyph Decoding</strong>: How are critical values like <code class="inline-code">LLM_REQUEST_TIMEOUT</code> and <code class="inline-code">REPOMIX_CACHE_TTL</code> configured to balance performance and reliability?</li>
<li>‚ö° <strong>Chamber of Themes</strong>: How does the <code class="inline-code">ThemeManager</code> dynamically create theme-specific CSS and icons based on the configuration?</li>
<li>üõ°Ô∏è <strong>Path Validation Rites</strong>: What procedures ensure safe and consistent validation for input paths and adventure configurations?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/shared/config.ts:</span> Configurations Overview</h3>
<p>This sacred file houses the foundational constants governing the adventure&#39;s adaptation to various landscapes. It contains key parameters like token usage limits, cache lifespans, and timeout durations. Such details ensure the firmware behind each adventure remains robust yet adaptable. The contained constants act as the cornerstone for other components seeking configuration knowledge.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Controls timeout durations for LLM responses to prevent unnecessary delays while safeguarding against crashes during extended calculations.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Dictates cache expiration to strike the ideal balance between freshness and resource optimization in repeated operations.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Specifies file size thresholds to ensure reliability and performance during local analysis workflows.</li>
</ul>
<h3><span class="header-prefix">packages/core/src/shared/theme.ts:</span> Theme Styling and Iconography</h3>
<p>This file is the enchanted tablet through which adventures acquire their unique appearance, accentuating the narrative with bespoke visual elements. Configurations for themes, specifically defining CSS styles and icon sets, reside here. It interfaces with other modules to render user experience both aesthetically pleasing and aligned with ancient guidelines.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">THEMES</code>: Enumerates allowed themes, providing a foundation for consistent customization across multiple quests.</li>
<li><code class="inline-code">ThemeManager.generateThemeCSS</code>: Dynamically builds the CSS needed to style adventures according to the chosen theme, enhancing immersion.</li>
<li><code class="inline-code">ThemeManager.getThemeIcons</code>: Retrieves icon sets pertinent to the selected theme to enrich the visual storytelling of an adventure.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/shared/config.ts</h3>
<pre><code class="language-typescript">export const LLM_REQUEST_TIMEOUT = process.env.LLM_REQUEST_TIMEOUT ? Number(process.env.LLM_REQUEST_TIMEOUT) : 5000;
export const REPOMIX_CACHE_TTL = process.env.REPOMIX_CACHE_TTL ? Number(process.env.REPOMIX_CACHE_TTL) : 600000;
export const MAX_FILE_SIZE_MB = process.env.MAX_FILE_SIZE_MB ? Number(process.env.MAX_FILE_SIZE_MB) : 5;
</code></pre>
<ul>
<li><code class="inline-code">LLM_REQUEST_TIMEOUT</code>: Prevents indefinite waits by setting a maximum duration for LLM calls, calibrated at 5000ms by default for efficiency.</li>
<li><code class="inline-code">REPOMIX_CACHE_TTL</code>: Configures caching intervals to ensure transient computations like repomix content generation can be re-used without redundancy.</li>
<li><code class="inline-code">MAX_FILE_SIZE_MB</code>: Ensures files processed by repo analysis remain within memory limits, defaulting to 5MB for optimal security and performance.</li>
</ul>
<hr>
<h3>packages/core/src/shared/theme.ts</h3>
<pre><code class="language-typescript">export enum THEMES {
  ANCIENT = &#39;ancient&#39;,
  MODERN = &#39;modern&#39;,
  FANTASY = &#39;fantasy&#39;,
}

export class ThemeManager {
  generateThemeCSS(theme: THEMES): string {
    switch (theme) {
      case THEMES.ANCIENT:
        return `.body { background-color: #f4efda; color: #562c07; font-family: &quot;Papyrus&quot;; }`;
      case THEMES.MODERN:
        return `.body { background-color: #ffffff; color: #000000; font-family: &quot;Arial&quot;; }`;
      case THEMES.FANTASY:
        return `.body { background-color: #e8eaf6; color: #423b54; font-family: &quot;Lumina&quot;; }`;
      default:
        throw new Error(`Unsupported theme: ${theme}`);
    }
  }

  getThemeIcons(theme: THEMES): string[] {
    switch (theme) {
      case THEMES.ANCIENT:
        return [&#39;silhouette-temple.png&#39;, &#39;scroll.png&#39;, &#39;artifact.png&#39;];
      case THEMES.MODERN:
        return [&#39;laptop.png&#39;, &#39;gears.png&#39;, &#39;walkie-talkie.png&#39;];
      case THEMES.FANTASY:
        return [&#39;castle.png&#39;, &#39;wand.png&#39;, &#39;dragon.png&#39;];
      default:
        throw new Error(`Unsupported theme: ${theme}`);
    }
  }
}
</code></pre>
<ul>
<li><code class="inline-code">THEMES</code>: Establishes a rigid enumeration of theme options (ancient, modern, fantasy) to simplify systemic interoperability.</li>
<li><code class="inline-code">generateThemeCSS</code>: Crafts a visual language unique to each theme using CSS attributes like background color and text style, threading technical design into engaging aesthetics.</li>
<li><code class="inline-code">getThemeIcons</code>: Selects icons corresponding to the adventure theme, aligning visuals to the narrative context for a richer user experience.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Map timeout configurations from <code class="inline-code">config.ts</code> to real-world operation thresholds for smoother debugging.</li>
<li>Use <code class="inline-code">ThemeManager.generateThemeCSS</code> for experimentations with visual styles in testing environments.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>By the sacred flame of the ancients, thou hast triumphed in unraveling the mysteries of the Vault of Configurations and Themes, ascending yet further in thy quest with wisdom forged anew‚Äîhail thy valor and let the stars guide thee forth! ‚≠ê‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>