<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 2: Harness the Engine of Quests - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Repository of Endless Adventures</a>
            </div>
            <div class="nav-right">
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="assets/images/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 2: Harness the Engine of Quests</h1>
<hr>
<p>Your quest begins in the bustling forge of the Quest Generation Engine, where the inner workings of adventure creation spark and hum with energy. Here lies the <code class="inline-code">AdventureManager</code>, marshalling activities for story building, alongside the <code class="inline-code">StoryGenerator</code>, spinning narratives from the raw material of your codebase. Meanwhile, the <code class="inline-code">adventure-config</code> utility silently ensures that all pieces fit seamlessly into the grand puzzle. As you delve into their secrets, you will unlock the blueprint of generating quests, arming you with the knowledge to adapt or expand the engine&#39;s capabilities.</p>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/core/src/adventure/adventure-manager.ts:</span> The command center of adventure orchestration</h3>
<p>The <code class="inline-code">AdventureManager</code> sits at the core of the quest-generation pipeline. It orchestrates the initialization of stories and quests by leveraging project context, analyzes user choices to explore quests, and validates configuration rules. Through its <code class="inline-code">initializeAdventure</code>, <code class="inline-code">exploreQuest</code>, and <code class="inline-code">generateQuestContent</code> functions, this manager plays a critical role in handling adventure state and interaction paths. Key highlights include stateful quest execution and adherence to user-specified configuration.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">initializeAdventure</code>: Bootstraps quests with context and generates the story from the current project.</li>
<li><code class="inline-code">exploreQuest</code>: Validates user input and executes quest exploration based on the user&#39;s choice.</li>
<li><code class="inline-code">AdventureState.progressPercentage</code>: Calculates the progress of completed quests relative to the overall adventure.</li>
</ul>
<h2>Code</h2>
<h3>packages/core/src/adventure/adventure-manager.ts</h3>
<pre><code class="language-typescript">async initializeAdventure(
  projectInfo: ProjectInfo, 
  theme: AdventureTheme, 
  projectPath?: string,
  customThemeData?: CustomThemeData
): Promise&lt;string&gt; {
  this.state.reset();
  this.state.projectInfo = projectInfo;
  this.state.currentTheme = theme;
  this.state.projectPath = projectPath || process.cwd();
  // Generating story and quests
  const storyResponse = await this.storyGenerator.generateStoryAndQuests(projectInfo, theme, this.state.projectPath);
  this.state.title = storyResponse.title;
  this.state.quests = this.mergeQuestFilesFromConfig(storyResponse.quests, this.state.projectPath);
  return this.formatStoryWithQuests({
    ...storyResponse,
    quests: this.state.quests
  });
}
</code></pre>
<p>Think of this function as the moment your favorite video game slowly loads the central hub, prepping all adventures for your journey.</p>
<pre><code class="language-typescript">async exploreQuest(choice: string): Promise&lt;AdventureResult&gt; {
  const sanitizedChoice = this.validateAndSanitizeChoice(choice);
  const quest = this.findQuest(sanitizedChoice);
  if (!quest) {
    return this.createNotFoundResult();
  }
  return await this.executeQuest(quest);
}
</code></pre>
<p>This function is your in-game interaction prompt letting you select and dive into the quest of your choice.</p>
<pre><code class="language-typescript">get progressPercentage(): number {
  return this.quests.length &gt; 0 
    ? Math.round((this.completedQuests.size / this.quests.length) * 100)
    : 0;
}
</code></pre>
<p>This is the in-game progress tracker, showing what percentage of the world youâ€™ve explored.</p>
<h2>Helpful Hints</h2>
<ul>
<li>Always ensure that configurations accurately mirror the quests you want to enable or restrict.</li>
<li>Expanding quest capabilities? Modify <code class="inline-code">initializeAdventure</code> to include additional hooks for future-proofing.</li>
<li>To debug quest transitions, log key checkpoints in <code class="inline-code">exploreQuest</code>.</li>
</ul>
<hr>
<p>Youâ€™ve glided through the first chamber of the quest engine. Your choices hold the power to craft countless thrilling adventures. Forge onward, brave coder!</p>
<p>Achievement unlocked: Quest 2 successfully executed with zero runtime errorsâ€”you&#39;re debugging life&#39;s puzzles like a pro; onward to 40% deployment ðŸš€âš¡!</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="next-quest-btn">Next: Quest 3: Decode the Analytical Oracle â†’</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
</body>
</html>