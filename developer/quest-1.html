<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest 1: Configurations and Themes Nexus - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html">Repository Chronicles: Exploring Modular Systems</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <a href="https://github.com/danwahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 1: Configurations and Themes Nexus</h1>
<hr>
<p>Welcome, developer! As the framework‚Äôs Configurations and Themes Nexus evolves, your task is to analyze its pivotal role in HTML generation workflows. You‚Äôll delve deep into template rendering systems, asset management, and how the HTML generation pipeline produces feature-rich static sites. Grab your tools‚Äîthis is your opportunity to master the intricate core setup of this repository&#39;s adventure generator!</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Code Modularity Blueprint</strong>: How does <code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> leverage external systems for modular functionality?</li>
<li>‚ö° <strong>Template Rendering Patterns</strong>: What mechanisms are used by <code class="inline-code">TemplateEngine.renderPage</code> and <code class="inline-code">TemplateEngine.replacePlaceholders</code> to integrate data into HTML templates dynamically?</li>
<li>üõ°Ô∏è <strong>Asset Management Workflow</strong>: What strategies does <code class="inline-code">AssetManager.copyGlobalAssets</code> employ to ensure reusable resources are correctly deployed across themes?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix">packages/generator/src/cli/html-generator.ts:</span> HTML adventure generator implementation</h3>
<p>This file defines the <code class="inline-code">HTMLAdventureGenerator</code> class, a primary command-line interface for generating HTML-based adventure websites. The generator coordinates tasks such as processing repository configurations, managing themes, and rendering quest pages. It represents how the codebase operationalizes its modular design to convert repositories into interactive experiences.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">HTMLAdventureGenerator.generateAdventure</code> orchestrates the entire generation pipeline, leveraging templates and asset managers to produce the final output.</li>
<li><code class="inline-code">HTMLAdventureGenerator.generateAllThemes</code> focuses on supporting multiple themes, enabling concurrent creation of theme-specific directories.</li>
<li><code class="inline-code">HTMLAdventureGenerator.startHttpServer</code> provides a quick-serving option to preview the generated content locally.</li>
<li><code class="inline-code">HTMLAdventureGenerator.buildQuestHTML</code> incorporates rendered content into quest pages, including structured navigation for the user.</li>
</ul>
<h3><span class="header-prefix">packages/generator/src/cli/template-engine.ts:</span> Dynamically renders HTML templates</h3>
<p>This file houses the <code class="inline-code">TemplateEngine</code> class, which loads and processes HTML templates. Utilizing caching techniques and placeholder replacements, it ensures consistent and on-demand rendering of dynamic content.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">TemplateEngine.renderPage</code> combines templates and variable data to produce fully-constructed HTML pages.</li>
<li><code class="inline-code">TemplateEngine.replacePlaceholders</code> facilitates placeholder resolution, replacing template variables with actual data during rendering.</li>
</ul>
<h3><span class="header-prefix">packages/generator/src/cli/asset-manager.ts:</span> Manages asset copying and organization</h3>
<p>The <code class="inline-code">AssetManager</code> file provides utilities for handling static assets. It focuses on ensuring that images, stylesheets, and theme-specific resources are structured appropriately.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">AssetManager.copyGlobalAssets</code> centralizes reusable assets into shared directories for efficient multi-theme handling.</li>
<li><code class="inline-code">AssetManager.copyQuestNavigator</code> ensures navigation-specific resources are copied to theme or global directories, depending on the mode of operation.</li>
</ul>
<h2>Code</h2>
<h3>packages/generator/src/cli/html-generator.ts</h3>
<pre><code class="language-typescript">async generateAdventure(): Promise&lt;void&gt; {
  console.log(chalk.yellow.bold(&#39;üöÄ Generating Adventure...&#39;));
  console.log();

  console.log(chalk.dim(&#39;üìä Analyzing codebase...&#39;));
  const repomixContent = await repoAnalyzer.generateRepomixContext(this.projectPath);
  const projectInfo = createProjectInfo(repomixContent);

  console.log(chalk.dim(&#39;‚ú® Generating themed story and quests...&#39;));
  const storyContent = await this.adventureManager.initializeAdventure(
    projectInfo,
    this.selectedTheme,
    this.projectPath,
    this.customThemeData
  );

  console.log(chalk.dim(&#39;üé® Creating theme styling...&#39;));
  this.generateThemeCSS();

  console.log(chalk.dim(&#39;üß≠ Adding quest navigator...&#39;));
  if (!this.isMultiTheme) {
    this.copyQuestNavigator();
  }

  console.log(chalk.dim(&#39;üìù Creating main adventure page...&#39;));
  this.generateIndexHTML();

  console.log(chalk.dim(&#39;üìñ Generating quest pages...&#39;));
  await this.generateQuestPages();
}
</code></pre>
<ul>
<li>This code initializes and coordinates the HTML generation process.</li>
<li>External systems like <code class="inline-code">repoAnalyzer</code> and <code class="inline-code">adventureManager</code> are heavily leveraged for modular execution.</li>
<li>It captures the importance of maintaining clear separation between analysis, theme-specific setup, and HTML rendering.</li>
</ul>
<hr>
<h3>packages/generator/src/cli/template-engine.ts</h3>
<pre><code class="language-typescript">renderPage(contentTemplate: string, variables: TemplateVariables): string {
  const baseTemplate = this.loadTemplate(&#39;base-template.html&#39;);
  const contentHtml = this.loadTemplate(contentTemplate);

  const renderedContent = this.replacePlaceholders(contentHtml, variables);
  const pageVariables = { ...variables, CONTENT: renderedContent };

  return this.replacePlaceholders(baseTemplate, pageVariables);
}

private replacePlaceholders(template: string, variables: TemplateVariables): string {
  let result = template;
  for (const [key, value] of Object.entries(variables)) {
    const placeholder = `{{${key}}}`;
    result = result.replace(new RegExp(placeholder, &#39;g&#39;), value || &#39;&#39;);
  }

  return result;
}
</code></pre>
<ul>
<li><code class="inline-code">renderPage</code> demonstrates modular page assembly using base and content templates.</li>
<li>The <code class="inline-code">replacePlaceholders</code> function underscores the simplicity and efficiency of inline template variable replacement.</li>
<li>This approach minimizes redundancy while maximizing reusability, aligning closely with template-engine best practices.</li>
</ul>
<hr>
<h3>packages/generator/src/cli/asset-manager.ts</h3>
<pre><code class="language-typescript">copyGlobalAssets(outputDir: string): void {
  try {
    const globalSharedDir = path.join(outputDir, &#39;assets&#39;, &#39;shared&#39;);
    fs.mkdirSync(globalSharedDir, { recursive: true });

    const globalImages = [&#39;github-mark.svg&#39;, &#39;github-mark-white.svg&#39;];
    globalImages.forEach(file =&gt; {
      const sourcePath = path.join(this.sourceDir, &#39;assets&#39;, &#39;shared&#39;, file);
      if (fs.existsSync(sourcePath)) {
        const targetPath = path.join(globalSharedDir, file);
        fs.copyFileSync(sourcePath, targetPath);
      }
    });

    console.log(chalk.green(&#39;‚úÖ Global assets copied&#39;));
  } catch (error) {
    console.log(chalk.yellow(&#39;‚ö†Ô∏è Warning: Could not copy global images&#39;));
  }
}
</code></pre>
<ul>
<li>Demonstrates a resilient strategy for ensuring critical shared assets are copied.</li>
<li>Files are grouped logically for multi-theme scalability, ensuring consistent availability.</li>
<li>Emphasizes error handling and clear user feedback for effective troubleshooting.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>üìÇ Prioritize understanding the relationship between <code class="inline-code">HTMLAdventureGenerator</code> and external engines like <code class="inline-code">TemplateEngine</code> and <code class="inline-code">AssetManager</code>.</li>
<li>üß© Look at how placeholder replacement simplifies template rendering and boosts efficiency across themes.</li>
<li>üöÄ Experiment with extending the <code class="inline-code">copyGlobalAssets</code> method to include additional asset types during tests.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries.</p>
<p>Achievement unlocked: You&#39;ve successfully deployed &quot;Quest 1: Configurations and Themes Nexus&quot; to production‚Äîstellar work optimizing your codebase for the journey ahead! üöÄüíéüì°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom nav-next-only">
        <a href="quest-2.html" class="next-quest-btn">Next: Quest 2 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
</body>
</html>